!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/lib/sbi/",n(n.s=42)}([function(t,e){t.exports=Vue},function(t,e,n){"use strict";var r=n(8),o=n(21),i=Object.prototype.toString;function c(t){return"[object Array]"===i.call(t)}function u(t){return null!==t&&"object"==typeof t}function s(t){return"[object Function]"===i.call(t)}function a(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||c(t)||(t=[t]),c(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:c,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:s,isStream:function(t){return u(t)&&s(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:a,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)a(arguments[r],n);return e},extend:function(t,e,n){return a(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){t.exports=Vuex},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}(r),i=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var c=0;c<t.length;c++){var u=t[c];null!=u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="(".concat(u[2],") and (").concat(n,")")),e.push(u))}},e}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],c=i[0],u={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[c]?r[c].parts.push(u):n.push(r[c]={id:c,parts:[u]})}return n}n.r(e),n.d(e,"default",function(){return m});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},c=o&&(document.head||document.getElementsByTagName("head")[0]),u=null,s=0,a=!1,l=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,n,o){a=n,d=o||{};var c=r(t,e);return v(c),function(e){for(var n=[],o=0;o<c.length;o++){var u=c[o];(s=i[u.id]).refs--,n.push(s)}e?v(c=r(t,e)):c=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete i[s.id]}}}}function v(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(S(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var c=[];for(o=0;o<n.parts.length;o++)c.push(S(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:c}}}}function h(){var t=document.createElement("style");return t.type="text/css",c.appendChild(t),t}function S(t){var e,n,r=document.querySelector("style["+f+'~="'+t.id+'"]');if(r){if(a)return l;r.parentNode.removeChild(r)}if(p){var o=s++;r=u||(u=h()),e=g.bind(null,r,o,!1),n=g.bind(null,r,o,!0)}else r=h(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);d.ssrId&&t.setAttribute(f,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function g(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(i,c[e]):t.appendChild(i)}}},function(t,e,n){"use strict";var r=n(1),o=n(23),i={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u={adapter:n(9),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(c(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(i)}),t.exports=u},function(t,e,n){var r=n(17);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("3336a7dd",r,!0,{})},function(t,e,n){var r=n(19);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("03730cb2",r,!0,{})},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(1),o=n(24),i=n(26),c=n(27),u=n(28),s=n(10),a="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(29);t.exports=function(t){return new Promise(function(e,l){var d=t.data,f=t.headers;r.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest,m="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||u(t.url)||(p=new window.XDomainRequest,m="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var h=t.auth.username||"",S=t.auth.password||"";f.Authorization="Basic "+a(h+":"+S)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[m]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:t,request:p};o(e,l,r),p=null}},p.onerror=function(){l(s("Network Error",t,null,p)),p=null},p.ontimeout=function(){l(s("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=n(30),g=(t.withCredentials||u(t.url))&&t.xsrfCookieName?b.read(t.xsrfCookieName):void 0;g&&(f[t.xsrfHeaderName]=g)}if("setRequestHeader"in p&&r.forEach(f,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),l(t),p=null)}),void 0===d&&(d=null),p.send(d)})}},function(t,e,n){"use strict";var r=n(25);t.exports=function(t,e,n,o,i){var c=new Error(t);return r(c,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){var r=n(39);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("3593c1f8",r,!0,{})},function(t,e,n){var r=n(41);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("14a2dfc0",r,!0,{})},function(t,e,n){t.exports=n(20)},function(t,e,n){"use strict";n(6)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".search-field[data-v-e3309bd4] {\n  width: calc(100% - 62px);\n  margin: 0 0 20px 0;\n  border-color: rgba(0, 0, 0, 0.2);\n}\n.search-field[data-v-e3309bd4]:hover {\n  border-color: #000;\n}\n.cancel[data-v-e3309bd4] {\n  display: inline-block;\n  height: 31px;\n  padding: 4px;\n  margin-left: -3px;\n  margin-bottom: 8px;\n  width: 31px;\n  border: 1px solid #d7d7d7;\n}\n.cancel svg[data-v-e3309bd4] {\n  color: #dcdcde;\n}\n.magnify[data-v-e3309bd4] {\n  height: 31px;\n  width: 31px;\n  border: 1px solid #D7D7D7;\n  border-radius: 0 5px 5px 0px;\n  background-color: #F7F7F7;\n  position: relative;\n  margin-bottom: 8px;\n  border-left: 0;\n}\n.magnify svg[data-v-e3309bd4] {\n  width: 100%;\n  height: 1em;\n}\n",""])},function(t,e,n){"use strict";n(7)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".socket {\n  width: calc(100% - 16px);\n}\n.socket table {\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  border-left: 1px solid rgba(0, 0, 0, 0.1);\n}\n.socket th {\n  border-right: 1px solid rgba(0, 0, 0, 0.1);\n  background-color: #dcdcde;\n  color: #000;\n  font-weight: bold;\n}\n.socket td {\n  border-right: 1px solid rgba(0, 0, 0, 0.1);\n}\n",""])},function(t,e,n){"use strict";var r=n(1),o=n(8),i=n(22),c=n(5);function u(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var s=u(c);s.Axios=i,s.create=function(t){return u(r.merge(c,t))},s.Cancel=n(12),s.CancelToken=n(36),s.isCancel=n(11),s.all=function(t){return Promise.all(t)},s.spread=n(37),t.exports=s,t.exports.default=s},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(5),o=n(1),i=n(31),c=n(32),u=n(34),s=n(35);function a(t){this.defaults=t,this.interceptors={request:new i,response:new i}}a.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,this.defaults,{method:"get"},t)).method=t.method.toLowerCase(),t.baseURL&&!u(t.url)&&(t.url=s(t.baseURL,t.url));var e=[c,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=a},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(10);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(1);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var c=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),c.push(o(e)+"="+o(t))}))}),i=c.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){var e,n,o,i={};return t?(r.forEach(t.split("\n"),function(t){o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}},function(t,e,n){"use strict";var r=n(1);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),c="",u=0,s=r;i.charAt(0|u)||(s="=",u%1);c+=s.charAt(63&e>>8-u%1*8)){if((n=i.charCodeAt(u+=.75))>255)throw new o;e=e<<8|n}return c}},function(t,e,n){"use strict";var r=n(1);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,c){var u=[];u.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===c&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(1);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(1),o=n(33),i=n(11),c=n(5);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||c.adapter)(t).then(function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(12);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";n(13)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".quotes table {\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  border-left: 1px solid rgba(0, 0, 0, 0.1);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.quotes th {\n  background-color: #dcdcde;\n  border-right: 1px solid rgba(0, 0, 0, 0.1);\n  color: #000;\n  font-weight: bold;\n}\n.quotes th svg {\n  color: #000;\n}\n.quotes th > span {\n  width: 100%;\n}\n.quotes .red {\n  color: #db1222;\n}\n",""])},function(t,e,n){"use strict";n(14)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".si-quotes-view {\n  height: calc(100vh - 240px);\n}\n",""])},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"realtime",function(){return Mt}),n.d(r,"accessibility",function(){return Ft}),n.d(r,"accountSummaries",function(){return Ut}),n.d(r,"excludedAccounts",function(){return kt}),n.d(r,"balanceSummary",function(){return jt}),n.d(r,"conids",function(){return Bt}),n.d(r,"competitors",function(){return xt}),n.d(r,"firstApprovedDate",function(){return Ht}),n.d(r,"fundamentals",function(){return Wt}),n.d(r,"items",function(){return Gt}),n.d(r,"features",function(){return Vt}),n.d(r,"userFeatures",function(){return qt}),n.d(r,"userProps",function(){return Yt}),n.d(r,"userAccts",function(){return $t}),n.d(r,"isCNLang",function(){return Kt}),n.d(r,"isPaperUser",function(){return Xt}),n.d(r,"ssoHardwareInfo",function(){return zt}),n.d(r,"markets",function(){return Zt}),n.d(r,"marketData",function(){return Jt}),n.d(r,"secdefData",function(){return Qt}),n.d(r,"bond",function(){return te}),n.d(r,"marketsInfo",function(){return ee}),n.d(r,"news",function(){return ne}),n.d(r,"newsContent",function(){return re}),n.d(r,"performance",function(){return oe}),n.d(r,"period",function(){return ie}),n.d(r,"pnl",function(){return ce}),n.d(r,"positions",function(){return ue}),n.d(r,"priceHistory",function(){return se}),n.d(r,"rates",function(){return ae}),n.d(r,"user",function(){return le}),n.d(r,"username",function(){return de}),n.d(r,"isLiteUser",function(){return fe}),n.d(r,"wbId",function(){return pe}),n.d(r,"positionsSince",function(){return me}),n.d(r,"iserver",function(){return ve}),n.d(r,"uar",function(){return he}),n.d(r,"isFAClient",function(){return Se}),n.d(r,"showMessageCenter",function(){return be}),n.d(r,"showUserInfo",function(){return ge}),n.d(r,"showWLMS",function(){return Ee}),n.d(r,"showIBAM",function(){return ye}),n.d(r,"showBond",function(){return _e}),n.d(r,"showCalendar",function(){return Te}),n.d(r,"showOptionChains",function(){return Ae}),n.d(r,"showMF",function(){return Oe}),n.d(r,"showAdvisors",function(){return we}),n.d(r,"showPortfolioAnalyst",function(){return Ie}),n.d(r,"showSuggestionsForYou",function(){return Ce}),n.d(r,"isProd",function(){return Pe}),n.d(r,"showFyi",function(){return Re}),n.d(r,"showForum",function(){return Ne}),n.d(r,"isLocal",function(){return De}),n.d(r,"isAlphaUser",function(){return Le}),n.d(r,"hasDebugMenu",function(){return Me}),n.d(r,"isDev",function(){return Fe}),n.d(r,"isCI",function(){return Ue}),n.d(r,"isQA",function(){return ke}),n.d(r,"amSessionId",function(){return je}),n.d(r,"hasAmPicker",function(){return Be}),n.d(r,"canTradeBonds",function(){return xe}),n.d(r,"appPath",function(){return He}),n.d(r,"isAppMode",function(){return We}),n.d(r,"brandInfo",function(){return Ge}),n.d(r,"canShowLogo",function(){return Ve}),n.d(r,"brandLogo",function(){return qe}),n.d(r,"brandBlackLogo",function(){return Ye}),n.d(r,"hasSso",function(){return $e}),n.d(r,"allAccounts",function(){return Ke}),n.d(r,"selectedAccounts",function(){return Xe}),n.d(r,"selectedAcctIds",function(){return ze}),n.d(r,"selectedAcctId",function(){return Ze}),n.d(r,"selecteAcctAlias",function(){return Je}),n.d(r,"showQuickTradeV2",function(){return Qe}),n.d(r,"showQuickTrade",function(){return tn}),n.d(r,"uniqueSelectedAcctIds",function(){return en}),n.d(r,"ssoValidated",function(){return nn}),n.d(r,"optionCombo",function(){return rn}),n.d(r,"totalSummary",function(){return on}),n.d(r,"connectedIServer",function(){return cn}),n.d(r,"iserverAccounts",function(){return un}),n.d(r,"applicants",function(){return sn}),n.d(r,"legalCountry",function(){return an}),n.d(r,"legalCountryName",function(){return ln}),n.d(r,"fromMobile",function(){return dn}),n.d(r,"fromTWS",function(){return fn}),n.d(r,"sso",function(){return pn}),n.d(r,"showInBase",function(){return mn}),n.d(r,"isAlphaEnv",function(){return vn}),n.d(r,"isBetaEnv",function(){return hn}),n.d(r,"masterId",function(){return Sn}),n.d(r,"SFEnabled",function(){return bn}),n.d(r,"isFreeTrial",function(){return gn}),n.d(r,"clearingStatus",function(){return En}),n.d(r,"showForumMenu",function(){return yn}),n.d(r,"isAcctsEmpty",function(){return _n}),n.d(r,"openDate",function(){return Tn}),n.d(r,"isFunded",function(){return An}),n.d(r,"withinFirstWeek",function(){return On}),n.d(r,"withinFirstMonth",function(){return wn}),n.d(r,"faviconUrl",function(){return In}),n.d(r,"notificationIconUrl",function(){return Cn}),n.d(r,"isCurInComMd",function(){return Pn}),n.d(r,"isInCompleteConidSel",function(){return Rn}),n.d(r,"pickerAccounts",function(){return Nn}),n.d(r,"showNewMf",function(){return Dn}),n.d(r,"showMFXIntroBadge",function(){return Ln}),n.d(r,"routeLoading",function(){return Mn}),n.d(r,"totalUnreadNotifications",function(){return Fn}),n.d(r,"protectProd",function(){return Un}),n.d(r,"privacyMode",function(){return kn}),n.d(r,"userProperties",function(){return jn}),n.d(r,"accountProperties",function(){return Bn}),n.d(r,"europeResidencyIndex",function(){return xn}),n.d(r,"partialServiceInterruption",function(){return Hn}),n.d(r,"isAccountTaskPending",function(){return Wn}),n.d(r,"depositOnCreditHold",function(){return Gn}),n.d(r,"consolidatedDepositOnCreditHold",function(){return Vn}),n.d(r,"supportsIBKeyWidget",function(){return qn}),n.d(r,"forceShowIBKeyWidget",function(){return Yn}),n.d(r,"forceShowCryptoPopover",function(){return $n}),n.d(r,"forceShowNtwsPopover",function(){return Kn}),n.d(r,"isTestingCryptoPos",function(){return Xn}),n.d(r,"isFaOrIbroker",function(){return zn}),n.d(r,"ssoRestrictTrade",function(){return Zn}),n.d(r,"isPhillipSecurities",function(){return Jn}),n.d(r,"isReferrerAccountType",function(){return Qn}),n.d(r,"supportEventContracts",function(){return tr}),n.d(r,"isZenith",function(){return er}),n.d(r,"isAlbilad",function(){return nr}),n.d(r,"isCommSec",function(){return rr}),n.d(r,"ntwsLandingUrl",function(){return or}),n.d(r,"isRiyadSubs",function(){return ir}),n.d(r,"showLearnAndEarnMenu",function(){return cr}),n.d(r,"showOrderRef",function(){return ur}),n.d(r,"showHSBCDisclaimerLink",function(){return sr}),n.d(r,"hideFaq",function(){return ar}),n.d(r,"hideResearch",function(){return lr}),n.d(r,"hideForex",function(){return dr}),n.d(r,"showCashReportTab",function(){return fr}),n.d(r,"ssoStringReplacement",function(){return pr}),n.d(r,"isFa",function(){return mr}),n.d(r,"etLabels",function(){return vr}),n.d(r,"ukEsgEligible",function(){return hr});var o={};n.r(o),n.d(o,"getDefaultAccountPreset",function(){return Jr}),n.d(o,"getGlobalModels",function(){return Qr}),n.d(o,"setDefaultAccountPreset",function(){return to}),n.d(o,"getDynamicAccounts",function(){return eo}),n.d(o,"getOrderStatus",function(){return io}),n.d(o,"onIserverAuthStatus",function(){return co}),n.d(o,"retrySSODH",function(){return uo}),n.d(o,"getAccounts",function(){return so}),n.d(o,"registerUnsolicitedWsHandlers",function(){return ao}),n.d(o,"startSSODH",function(){return lo}),n.d(o,"startIServerSSODH",function(){return fo}),n.d(o,"compete",function(){return po}),n.d(o,"login",function(){return mo}),n.d(o,"onLoggedIn",function(){return vo}),n.d(o,"setClientStatus",function(){return ho}),n.d(o,"getMarketdata",function(){return So}),n.d(o,"getOslStatus",function(){return bo}),n.d(o,"getStructuredProperty",function(){return go}),n.d(o,"getOrderTicketMarketdata",function(){return Eo}),n.d(o,"contingentUnsubscribeMarketdata",function(){return yo}),n.d(o,"unsubscribeAllMarketData",function(){return _o}),n.d(o,"unsubscribeMarketData",function(){return To}),n.d(o,"startMarketDataPolling",function(){return Ao}),n.d(o,"stopMarketDataPolling",function(){return Oo}),n.d(o,"subscribeOrders",function(){return wo}),n.d(o,"getOrders",function(){return Io}),n.d(o,"forceFetchOrdersSnapshot",function(){return Co}),n.d(o,"unsubscribeOrders",function(){return Po}),n.d(o,"stopOrdersPolling",function(){return Ro}),n.d(o,"removeModifiedOrders",function(){return No}),n.d(o,"getOrdersWithStatus",function(){return Do}),n.d(o,"removeCancelledOSDSOrders",function(){return Lo}),n.d(o,"subscribePnl",function(){return Mo}),n.d(o,"getPnl",function(){return Fo}),n.d(o,"unsubscribePnl",function(){return Uo}),n.d(o,"stopPnlPolling",function(){return ko}),n.d(o,"startAuthStatusPolling",function(){return jo}),n.d(o,"stopAuthStatusPolling",function(){return Bo}),n.d(o,"getBulletins",function(){return xo}),n.d(o,"markBulletinsAsRead",function(){return Ho}),n.d(o,"getBriefingArticle",function(){return Wo}),n.d(o,"performAccountSwitch",function(){return Go}),n.d(o,"performDynAccountSwitch",function(){return Vo}),n.d(o,"searchBySym",function(){return qo}),n.d(o,"searchMutualFunds",function(){return Yo}),n.d(o,"getLinks",function(){return $o}),n.d(o,"getRegsnapshot",function(){return Ko}),n.d(o,"clearRegsnapshots",function(){return Xo}),n.d(o,"setOEMode",function(){return zo}),n.d(o,"getDebugPnl",function(){return Zo}),n.d(o,"getCurrencyPairs",function(){return Jo}),n.d(o,"getContractInfo",function(){return Qo}),n.d(o,"subscribeTrades",function(){return ti}),n.d(o,"unsubscribeTrades",function(){return ei}),n.d(o,"setCcyChartPair",function(){return ni}),n.d(o,"setWatchlistMap",function(){return ri}),n.d(o,"getMDColumns",function(){return oi}),n.d(o,"getPFMDColumns",function(){return ii}),n.d(o,"getWLMDColumns",function(){return ci}),n.d(o,"getAvailableAlerts",function(){return ui}),n.d(o,"getPriceAlerts",function(){return si}),n.d(o,"deleteAlert",function(){return ai}),n.d(o,"activateAlert",function(){return li}),n.d(o,"createOrModifyAlert",function(){return di}),n.d(o,"setPriceAlertsDeliveryOptions",function(){return fi}),n.d(o,"resetAvailableAlerts",function(){return pi}),n.d(o,"getMtaAlerts",function(){return mi}),n.d(o,"setUserTimeZone",function(){return vi}),n.d(o,"onAuthStatus",function(){return hi}),n.d(o,"getOrderRules",function(){return Si}),n.d(o,"getCryptoClarification",function(){return bi}),n.d(o,"updateAuthStatus",function(){return gi}),n.d(o,"logout",function(){return Ei}),n.d(o,"getHistorydata",function(){return yi});var i={};n.r(i),n.d(i,"upnl",function(){return wi}),n.d(i,"acctPnl",function(){return Ii}),n.d(i,"authenticated",function(){return Ci}),n.d(i,"backendDown",function(){return Pi}),n.d(i,"connected",function(){return Ri}),n.d(i,"status",function(){return Ni}),n.d(i,"prompts",function(){return Di}),n.d(i,"marketData",function(){return Li}),n.d(i,"accounts",function(){return Mi}),n.d(i,"acctProps",function(){return Fi}),n.d(i,"chartPeriods",function(){return Ui}),n.d(i,"aliases",function(){return ki}),n.d(i,"selectedAccount",function(){return ji}),n.d(i,"selectedAccountAlias",function(){return Bi}),n.d(i,"notifications",function(){return xi}),n.d(i,"orders",function(){return Hi}),n.d(i,"bulletins",function(){return Wi}),n.d(i,"readBulletins",function(){return Gi}),n.d(i,"unreadBulletins",function(){return Vi}),n.d(i,"pendingOrdersNum",function(){return qi}),n.d(i,"executedOrders",function(){return Yi}),n.d(i,"pendingOrders",function(){return $i}),n.d(i,"pendingCryptoOrdersNum",function(){return Ki}),n.d(i,"executedByOrderid",function(){return Xi}),n.d(i,"showIBotMic",function(){return zi}),n.d(i,"loginInfo",function(){return Zi}),n.d(i,"allowFeatures",function(){return Ji}),n.d(i,"groups",function(){return Qi}),n.d(i,"profiles",function(){return tc}),n.d(i,"briefing",function(){return ec}),n.d(i,"links",function(){return nc}),n.d(i,"gfisLink",function(){return rc}),n.d(i,"showGFIS",function(){return oc}),n.d(i,"allowDynAccount",function(){return ic}),n.d(i,"showEUCostReport",function(){return cc}),n.d(i,"allowLiteUnderPro",function(){return uc}),n.d(i,"isLiteUser",function(){return sc}),n.d(i,"snapshotRefreshTimeout",function(){return ac}),n.d(i,"showWebNews",function(){return lc}),n.d(i,"iserverInfo",function(){return dc}),n.d(i,"showDebugPnl",function(){return fc}),n.d(i,"allowFxConv",function(){return pc}),n.d(i,"allowResearch",function(){return mc}),n.d(i,"allowTypeAhead",function(){return vc}),n.d(i,"allowEventTrading",function(){return hc}),n.d(i,"isUkUser",function(){return Sc}),n.d(i,"currencyPairs",function(){return bc}),n.d(i,"watchlistMap",function(){return gc}),n.d(i,"showAlertBar",function(){return Ec}),n.d(i,"brokerageAuthenticated",function(){return yc}),n.d(i,"loggingIn",function(){return _c}),n.d(i,"ccpSessionId",function(){return Tc}),n.d(i,"exploreWatchlists",function(){return Ac}),n.d(i,"watchlists",function(){return Oc}),n.d(i,"allowedAssetTypes",function(){return wc}),n.d(i,"allowImpactDashboard",function(){return Ic}),n.d(i,"allowMTA",function(){return Cc}),n.d(i,"allowFinancialLens",function(){return Pc}),n.d(i,"correctedTrades",function(){return Rc}),n.d(i,"noFXConv",function(){return Nc}),n.d(i,"dayTif",function(){return Dc}),n.d(i,"hideFXForCommSec",function(){return Lc}),n.d(i,"iserverHardwareInfo",function(){return Mc});var c={};n.r(c),n.d(c,"triggerEvent",function(){return Ku}),n.d(c,"setAccountSummary",function(){return Xu}),n.d(c,"tickleSession",function(){return zu}),n.d(c,"setFromMobile",function(){return Zu}),n.d(c,"getAllBalancesSummary",function(){return Ju}),n.d(c,"getCompetitors",function(){return Qu}),n.d(c,"getCorporateActionsMsg",function(){return ts}),n.d(c,"getFundamentals",function(){return es}),n.d(c,"getNews",function(){return ns}),n.d(c,"getNewsContent",function(){return rs}),n.d(c,"getPerformanceData",function(){return os}),n.d(c,"getBenchmarkData",function(){return is}),n.d(c,"getPerformanceAllPeriods",function(){return cs}),n.d(c,"getUser",function(){return us}),n.d(c,"getPriceHistory",function(){return ss}),n.d(c,"getRegionMarkets",function(){return as}),n.d(c,"setUAR",function(){return ls}),n.d(c,"getSecdefs",function(){return ds}),n.d(c,"getTradableCurrencies",function(){return ps}),n.d(c,"getMktAm",function(){return ms}),n.d(c,"setSelectedAccounts",function(){return vs}),n.d(c,"getAuthorizedConsumers",function(){return hs}),n.d(c,"deauthorizeConsumer",function(){return Ss}),n.d(c,"onSsoValidated",function(){return bs}),n.d(c,"setEventListeners",function(){return gs}),n.d(c,"getFutureContracts",function(){return Es}),n.d(c,"storePickerAccounts",function(){return ys}),n.d(c,"routeLoading",function(){return _s}),n.d(c,"privacyMode",function(){return Ts}),n.d(c,"getAccountProperties",function(){return As}),n.d(c,"goToLoginPage",function(){return Os}),n.d(c,"getAccountStatus",function(){return ws}),n.d(c,"injectFundsOnHold",function(){return Is}),n.d(c,"setIserverAccountsAsPickerAccounts",function(){return Cs}),n.d(c,"getLearnAndEarnProducts",function(){return Ps});var u={};n.r(u),n.d(u,"deleteDeviceOption",function(){return Za}),n.d(u,"getDeliveryOptions",function(){return Ja}),n.d(u,"getFyiDisclaimer",function(){return Qa}),n.d(u,"getFyiSettings",function(){return tl}),n.d(u,"getAllFyis",function(){return el}),n.d(u,"getFyiNotifications",function(){return nl}),n.d(u,"getFyiAlerts",function(){return rl}),n.d(u,"getMoreFyiNotifications",function(){return ol}),n.d(u,"markDisclaimerRead",function(){return il}),n.d(u,"markNotificationRead",function(){return cl}),n.d(u,"setDeviceOption",function(){return ul}),n.d(u,"setEmailOption",function(){return sl}),n.d(u,"setNotificationSetting",function(){return al}),n.d(u,"submitReferralResponse",function(){return ll}),n.d(u,"queryUserId",function(){return dl}),n.d(u,"getCountryCodes",function(){return fl}),n.d(u,"getFeedbackData",function(){return pl}),n.d(u,"submitFeedback",function(){return ml}),n.d(u,"getUnreadFyiNum",function(){return vl}),n.d(u,"getFyisAndTradeAlerts",function(){return hl}),n.d(u,"storeUnsavedPriceAlerts",function(){return Sl}),n.d(u,"subscribeFyiData",function(){return bl});var s={};n.r(s),n.d(s,"email",function(){return gl}),n.d(s,"fyiDeviceOptions",function(){return El}),n.d(s,"fyiDisclaimers",function(){return yl}),n.d(s,"fyiNotifications",function(){return _l}),n.d(s,"fyiAlerts",function(){return Tl}),n.d(s,"fyiSettings",function(){return Al}),n.d(s,"fyiTabState",function(){return Ol}),n.d(s,"countryCodes",function(){return wl}),n.d(s,"feedbackData",function(){return Il}),n.d(s,"fyiUnreadNum",function(){return Cl});var a={};n.r(a),n.d(a,"getFolioModels",function(){return kl}),n.d(a,"getModelDetails",function(){return jl}),n.d(a,"getFolioModelOrders",function(){return Bl}),n.d(a,"setSelectedModel",function(){return xl}),n.d(a,"getPerformanceChartData",function(){return Hl}),n.d(a,"createUpdateFolioModel",function(){return Wl}),n.d(a,"rebalanceFolioModel",function(){return Gl}),n.d(a,"transmitFolioOrders",function(){return Vl});var l={};n.r(l),n.d(l,"selectedConids",function(){return ql}),n.d(l,"folioModels",function(){return Yl}),n.d(l,"selectedModel",function(){return $l}),n.d(l,"modelOrdersStatus",function(){return Kl}),n.d(l,"performanceChartData",function(){return Xl}),n.d(l,"savedModelStatus",function(){return zl}),n.d(l,"rebalancedOrderDetails",function(){return Zl}),n.d(l,"transmitOrdersStatus",function(){return Jl}),n.d(l,"modelTargetList",function(){return Ql});var d={};n.r(d),n.d(d,"doAuthentication",function(){return id}),n.d(d,"getModels",function(){return cd}),n.d(d,"getIbkramModelInfo",function(){return ud}),n.d(d,"getNlv",function(){return sd}),n.d(d,"getPositions",function(){return ad}),n.d(d,"getPositions2",function(){return ld}),n.d(d,"getPositions3",function(){return dd}),n.d(d,"getPnlPositions",function(){return fd}),n.d(d,"getPositionMetals",function(){return pd}),n.d(d,"getComboPositions",function(){return md}),n.d(d,"getAccountSummary",function(){return vd}),n.d(d,"getAccountLedger",function(){return hd}),n.d(d,"getPortfolioAllocation",function(){return Sd}),n.d(d,"getIbkrAmInfo",function(){return bd}),n.d(d,"validateAccounts",function(){return gd}),n.d(d,"invalidatePositions",function(){return Ed}),n.d(d,"invalidateAllPositions",function(){return yd}),n.d(d,"getAccountMeta",function(){return _d}),n.d(d,"getModelsLedger",function(){return Td}),n.d(d,"fetchAllPositionsConids",function(){return Ad}),n.d(d,"getPortfolioAccounts",function(){return Od}),n.d(d,"getPortfolioSubaccounts",function(){return wd}),n.d(d,"subscribePositions",function(){return Pd}),n.d(d,"unsubscribePositions",function(){return Rd});var f={};n.r(f),n.d(f,"accountSummary",function(){return Nd}),n.d(f,"accountLedger",function(){return Dd}),n.d(f,"allocation",function(){return Ld}),n.d(f,"ibkramModels",function(){return Md}),n.d(f,"ledgerModels",function(){return Fd}),n.d(f,"portfolioPositionsSimple",function(){return Ud}),n.d(f,"portfolioAccounts",function(){return kd}),n.d(f,"portfolioSubaccounts",function(){return jd}),n.d(f,"cryptoPlusURL",function(){return Bd}),n.d(f,"isNonDisclosedClient",function(){return xd}),n.d(f,"isProFA",function(){return Hd});var p=n(0),m=n.n(p),v=n(2),h={get:function(){return window.PORTAL_BASE_URL||"/portal.proxy/"+($util.cookie("CP_API")||window.env)+"/portal"}};function S(t){"@babel/helpers - typeof";return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:String(e)}window.baseUrl=h,null==window.ibrtDefaultSubscriptions&&(window.ibrtDefaultSubscriptions=[]);var _=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).DEBUG_REALTIME||!1,T="TextDecoder"in window?new TextDecoder:{decode:function(t){for(var e,n=new Uint8Array(t),r="",o=n.length,i=0;i<o;i++)e=n[i],r+=String.fromCharCode(e>251&&e<254&&i+5<o?1073741824*(e-252)+(n[++i]-128<<24)+(n[++i]-128<<18)+(n[++i]-128<<12)+(n[++i]-128<<6)+n[++i]-128:e>247&&e<252&&i+4<o?(e-248<<24)+(n[++i]-128<<18)+(n[++i]-128<<12)+(n[++i]-128<<6)+n[++i]-128:e>239&&e<248&&i+3<o?(e-240<<18)+(n[++i]-128<<12)+(n[++i]-128<<6)+n[++i]-128:e>223&&e<240&&i+2<o?(e-224<<12)+(n[++i]-128<<6)+n[++i]-128:e>191&&e<224&&i+1<o?(e-192<<6)+n[++i]-128:e);return r}},A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hid=1,this.subscriptions=window.ibrtDefaultSubscriptions,this.log=!1,this.tickle=void 0,Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).WS_BASE_URL?this.wsUrl=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).WS_BASE_URL:this.wsUrl=("https:"==location.protocol?"wss:":"ws:")+"//"+location.host+h.get()+"/ws"}return function(t,e,n){e&&E(t.prototype,e),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"addEventListener",value:function(t){this.listener=t}},{key:"supportsWs",value:function(){return"WebSocket"in window}},{key:"connect",value:function(){if(console.debug("connecting to ws: ",this.wsUrl),this.supportsWs()){var t=new WebSocket(this.wsUrl);t.binaryType="arraybuffer",t.onopen=this.onOpen.bind(this),t.onerror=this.onError.bind(this),t.onclose=this.onClose.bind(this),t.onmessage=this.onMessage.bind(this),this.connected=!1,this.ws=t}else console.error("ws not supported")}},{key:"disconnect",value:function(){this.ws&&this.ws.close()}},{key:"onOpen",value:function(t){var e=this;console.debug("Websocket connection opened."),this.connected=!0,this.tickle||(this.tickle=setInterval(function(){return e.send("ech+hb")},2e4)),this.listener&&this.listener({event:"open",payload:t})}},{key:"onError",value:function(t){console.error("error",t),this.listener&&this.listener({event:"error",payload:t})}},{key:"onClose",value:function(t){console.debug("Websocket connection closed.",t),this.connected=!1,this.tickle&&clearInterval(this.tickle),this.listener&&this.listener({event:"close",payload:t})}},{key:"onMessage",value:function(t){var e=T.decode(t.data);if(this.log&&console.debug("<- on message",e),"ech+hb"!==e){var n=JSON.parse(e),r=n.topic||"";if(r){var o=this.subscriptions.filter(function(t){return t.topic==r});this.log&&console.debug("Topic: ".concat(r,"\nData: ").concat(JSON.stringify(n),"\nSubscriber Count: ").concat(o.length)),0!=o.length?o.forEach(function(t){n.success?t.handlers.forEach(function(t){return t.onSubscribed(n)}):t.handlers.forEach(function(t){return t.onMessage(n)})}):"system"!=r&&this.log&&console.warn("no subscribers for ",r,n)}else console.debug("no topic",n)}else this.log&&console.debug("echo hb back")}},{key:"send",value:function(t){this.log&&console.debug("-> sending ",t),this.ws&&this.ws.send(t)}},{key:"_registerSubscription",value:function(t,e,n,r){var o=this.subscriptions.find(function(e){var r;return(null===n||void 0===n?void 0:n.requestId)?e.topic==t&&(null===n||void 0===n?void 0:n.requestId)==(null===(r=e.args)||void 0===r?void 0:r.requestId):e.topic==t});if(o?o.handlers.push(r):this.subscriptions.push({topic:t,type:e,args:n,handlers:[r]}),this.ws.readyState==this.ws.OPEN){var i=t;n&&(i+="string"==typeof n?"+"+n:"+"+JSON.stringify(n)),this.send(i)}else console.error("subscription queued, websocket not ready")}},{key:"cancelId",value:function(t,e,n){if(_&&console.debug("cancel ",t,"handler",e),e){var r=this.subscriptions.find(function(e){return e.topic=="u+"+t});if(r){var o=r.handler.findIndex(function(t){return t.id==e});return-1!=o&&r.handler.slice(o,1),void(r.handler.length>0&&_&&console.debug("subscriptions left",r.handler.length))}}this.subscriptions=this.subscriptions.filter(function(e){return e.topic!=t}),this.send(t)}},{key:"newCancelSubscriptions",value:function(t,e){this.log&&console.debug("new cancel subscription ",t,"args",e),this.subscriptions=this.subscriptions.filter(function(n){var r;return n.topic!=t||!(null===e||void 0===e||!e.requestId)&&(null===e||void 0===e?void 0:e.requestId)!=(null===n||void 0===n?void 0:null===(r=n.args)||void 0===r?void 0:r.requestId)})}},{key:"cancelAll",value:function(t,e){this.cancelId(t,null,e)}},{key:"isSubscribed",value:function(t){return void 0!=this.subscriptions.find(function(e){return e.topic==t})}},{key:"subscribeOrSendArgs",value:function(t,e,n,r){if(!this.subscriptions.find(function(e){return e.topic==t}))return this.subscribeArgs(t,e,n,r);this.send(t+"+"+JSON.stringify(n))}},{key:"subscribeArgs",value:function(t,e,n,r){var o=r.onSubscribed,i=r.onMessage,c=r.onError;if(this.log&&console.debug("realtime subscribe args",t,"args",n),this.supportsWs()){if(null==i)throw Error("onMessage handler to subscription expected");var u={id:this.hid++,onSubscribed:o||function(){return _&&console.debug("subscribed "+t)},onMessage:i,onError:c||function(){return console.error("subscription error "+t)}};return this._registerSubscription(t,e,n,u),u.id}c("ws not supported")}},{key:"subscribe",value:function(t,e,n){this.subscribeArgs(t,e,null,n)}},{key:"toggleConsoleLog",value:function(){this.log=!this.log}},{key:"resubscribe",value:function(){for(var t=b(this.subscriptions),e=0;e<t.length;e++){var n=t[e];this.cancelAll(n.topic)}this.subscriptions=[];for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<o.handlers.length;i++)this._registerSubscription(o.topic,o.type,o.args,o.handlers[i])}},{key:"clearSubscriptions",value:function(t){t?this.subscriptions=this.subscriptions.filter(function(e){return e.type!==t}):console.error("Couldnt clear realtime subscriptions: type missing.")}}],[{key:"setUnsolicitedHandlers",value:function(t){t&&(window.ibrtDefaultSubscriptions=t)}},{key:"instance",value:function(){try{null==window.ibrt&&(window.ibrt=new t);var e=window.ibrt;return e.connected||e.connect(),e}catch(t){console.error("realtime instance e",t)}}},{key:"topics",value:function(){return{PUBLISH_SINGLE_METRIC:"psm",SUBSCRIBE_ACCOUNT_SUMMARY:"acs",SUBSCRIBE_FYI:"sfi",SUBSCRIBE_PNL:"pls",UNSUBSCRIBE_ACCOUNT_SUMMARY:"acu",UNSUBSCRIBE_FYI:"ufi",UNSUBSCRIBE_PNL:"plu"}}}]),t}(),O="SET_ORDERS",w="SET_SELECTED_ACCOUNT",I="SET_ISERVER_LOGIN_INFO",C="SET_ACCTS_PROPS",P={name:"SearchTerm",props:{contracts:Array},data:function(){return{curSearch:"",invalidInput:!1}},methods:{checkValidation:function(t){this.invalidInput=!!/[^a-zA-Z\d\s\.]/g.test(t)},clearField:function(){this.curSearch="",this.$emit("clearRes")},findTicker:function(){var t=this;if(this.invalidInput)return $alert(this.$t("valid_symbol")),void this.clearField();this.curSearch=this.curSearch.toUpperCase();var e=this.contracts.filter(function(e){return e.ticker===t.curSearch});0===e.length?($alert(this.$t("ticker_exist")),this.curSearch=""):this.$emit("searchRes",e)}}};n(16);function R(t,e,n,r,o,i,c,u){var s,a="function"==typeof t?t.options:t;if(e&&(a.render=e,a.staticRenderFns=n,a._compiled=!0),r&&(a.functional=!0),i&&(a._scopeId="data-v-"+i),c?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},a._ssrRegister=s):o&&(s=u?function(){o.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(a.functional){a._injectStyles=s;var l=a.render;a.render=function(t,e){return s.call(e),l(t,e)}}else{var d=a.beforeCreate;a.beforeCreate=d?[].concat(d,s):[s]}return{exports:t,options:a}}var N=R(P,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outsety-4"},[n("ib-row",[n("ib-col",{staticClass:"s12 m12 l12 xl6"},[n("ib-form",{on:{submit:t.findTicker}},[n("ib-field",{staticClass:"search-field",attrs:{uppercase:!0,placeholder:this.$t("search_by_ticker")},on:{input:function(e){return t.checkValidation(t.curSearch)}},model:{value:t.curSearch,callback:function(e){t.curSearch=e},expression:"curSearch"}}),n("span",{staticClass:"bg15-inverse cancel",on:{click:t.clearField}},[n("svg",{attrs:{viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M10 0a10 10 0 1010 10A10.029 10.029 0 0010 0z"}}),n("path",{attrs:{d:"M14.9 13.5l-1.4 1.4-3.5-3.5-3.5 3.5-1.4-1.4L8.6 10 5.1 6.5l1.4-1.4L10 8.6l3.5-3.5 1.4 1.4-3.5 3.5z",fill:"#fff"}})])]),n("button",{staticClass:"magnify",on:{click:t.findTicker}},[n("svg",{attrs:{viewBox:"0 0 50 50"}},[n("path",{attrs:{d:"M21 3C11.6 3 4 10.6 4 20a16.99 16.99 0 0 0 26.1 14.34l12.27 12.28 4.26-4.24-12.13-12.1A16.99 16.99 0 0 0 21 3zm0 4c7.2 0 13 5.8 13 13s-5.8 13-13 13S8 27.2 8 20 13.8 7 21 7z"}})])])],1)],1)],1)],1)},[],!1,null,"e3309bd4",null).exports;function D(t){"@babel/helpers - typeof";return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M(r.key),r)}}function M(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D(e)?e:String(e)}Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).DEBUG_USAGE;var F=null,U=!1,k=(new Set(["iserver","REST","WS"]),function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"publishMetric",value:function(t){}},{key:"register",value:function(t){t&&this.publishMetric(t)}},{key:"registerDaily",value:function(t){}},{key:"registerEvent",value:function(t,e,n){if(t&&n){var r={source:t,type:e,value:n};this.publishMetric(r)}else console.warn("missing source or value",t,n)}},{key:"registerClickEvent",value:function(t,e){this.registerEvent(t,"click-event",e)}}],[{key:"startTimer",value:function(t){}},{key:"endTimer",value:function(t,e){}},{key:"error",value:function(t){console.debug("Not implemented")}},{key:"toggleLogging",value:function(){U=!U,console.debug("-metrics- Logging:".concat(U))}},{key:"instance",value:function(){try{return null==F&&(F=new t),F}catch(t){console.error("Failed to create metrics instance")}}}]),t}());function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,u=[],s=!0,a=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(a)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=function(t){return t.includes("://")?t:h.get()+t},H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.Max_VALUE;if(null===t||void 0===t?void 0:t.redirected)return{redirected:!0};if(t.ok){var n=$date.now()-e;return n>5e3&&k.instance().register({source:"REST",type:"slow-req","value-int":n,u:$(t.url)}),t.text().then(function(t){var e;try{e=JSON.parse(t)}catch(n){e=t}return e})}var r=t.status,o=t.statusText;return t.clone().text().then(function(e){var n;try{var o=JSON.parse(e);n=K(o)}catch(t){n=e}k.instance().register({source:"REST",type:"failed-req",u:$(t.url),"value-int":r,t:n})}),t.text().then(function(t){var e;try{e=JSON.parse(t)}catch(n){e=t}throw{response:{data:e,status:r,statusText:o}}})},W=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$date.now();return e&&(t=x(t)),fetch(t,{credentials:"include"}).then(function(t){return H(t,n)})},G=function(t){var e=$date.now();return Promise.all(t.map(function(t){return fetch(x(t),{credentials:"include"}).then(function(t){return H(t,e)})}))},V=function(t,e){var n=$date.now();return fetch(x(t),{method:"post",body:e instanceof FormData?e:JSON.stringify(e),credentials:"include",headers:e instanceof FormData?{}:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){return H(t,n)})},q=function(t){var e=$date.now();return fetch(x(t),{method:"delete",credentials:"include"}).then(function(t){return H(t,e)})},Y=function(t,e){var n=$date.now();return fetch(x(t),{method:"put",body:e instanceof FormData?e:JSON.stringify(e),credentials:"include",headers:e instanceof FormData?{}:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){return H(t,n)})},$=function(t){var e=document.createElement("a");return e.href=t,e.pathname},K=function(t){for(var e="",n=0,r=Object.entries(t);n<r.length;n++){var o=j(r[n],2),i=o[0],c=o[1];e+="".concat(i,": ").concat(c,", ")}return e};function X(){return(Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IBKR_API_URL||"")+"/"+function(){var t=location.href.includes("eventtrader-test"),e="build.qa"==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV||"qa"==window.env,n="alpha"===window.env,r="beta"===window.env,o="v1";n||t?o="alpha":r?o="beta":e&&(o="qa");return o}()+"/api"}var z=function(t,e){var n=$date.now();return fetch(X()+t,{method:"post",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json; charset=utf-8","x-userid":$util.cookie("USERID"),"x-xyzab":$util.cookie("XYZAB")}}).then(function(t){return H(t,n)})};var Z={apiGet:function(t){var e=$date.now();return fetch(X()+t,{credentials:"include",headers:{"x-userid":$util.cookie("USERID"),"x-xyzab":$util.cookie("XYZAB")}}).then(function(t){return H(t,e)})},apiPost:z,logout:function(){return z("/logout")}};function J(t){"@babel/helpers - typeof";return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach(function(e){et(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function et(t,e,n){return(e=rt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rt(r.key),r)}}function rt(t){var e=function(t,e){if("object"!=J(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==J(e)?e:String(e)}function ot(){return Date.now()/1e3|0}window.$requestUtil||(window.$requestUtil={sstm:ot(),request_id:0,uuid:$util.uuidv4(),infoReported:!1,ccpSessionId:void 0,clientLabel:"IB"});var it,ct="alpha"===window.env||location.href.includes("nightly"),ut=$requestUtil.uuid,st=$requestUtil.sstm,at=function(t,e){e&&(t=null),window.nativeConsole&&"function"==typeof nativeConsole.log&&nativeConsole.log(t),"function"==typeof window.__logger?window.__logger(t):Array.isArray(window.__logs)&&__logs.push([(new Date).toLocaleString(),t])},lt=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.headers={},this.baseUrlOverride="",this.paramsPreprocessors=[]}return function(t,e,n){e&&nt(t.prototype,e),n&&nt(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"getBase",value:function(){var t="".concat(document.location.origin,"/tws.proxy");try{void 0!==PROCESS_ENDPOINT&&(t=PROCESS_ENDPOINT)}catch(t){}return this.baseUrlOverride||t}},{key:"formatUrl",value:function(t){return 0===t.indexOf("http")?t:this.getBase()+"/"+t}},{key:"addParamsPreprocessor",value:function(t){var e=this;return this.paramsPreprocessors.push(t),function(){e.paramsPreprocessors=e.paramsPreprocessors.filter(function(e){return e!==t})}}},{key:"formatParams",value:function(t){var e=$util.cookie("XYZAB"),n=tt({"Content-Type":"application/json; charset=utf-8","x-session-id":$requestUtil.uuid,"x-request-id":$requestUtil.request_id++,"X-SERVICE":"WEB_APP_ACTION","x-embedded-in":"marketing","X-WA-VERSION":["6f6388e","Tue, 14 Jan 2025 19:08:16 -0500"]+"/2025-01-15T17:40:54.094Z","x-ccp-session-id":$requestUtil.ccpSessionId,"x-client-label":$requestUtil.clientLabel},ct?{"x-build":"nightly"}:{});(function(t){return!(null===t||void 0===t||"null"===(""+t).toLowerCase()||"undefined"===(""+t).toLowerCase()||!/^[a-zA-Z0-9!@#$&()`.+,/"-]/i.exec(t))})(e)&&(n["X-XYZAB"]=e);var r=tt({credentials:"include",headers:n},t);return this.paramsPreprocessors.reduce(function(t,e){return t=e(t)},r)}},{key:"overrideBase",value:function(t){this.baseUrlOverride=t}},{key:"request",value:function(t,e,n){return at("WA > requesting ".concat(t," with params ").concat(JSON.stringify(e)),n),fetch(this.formatUrl(t),this.formatParams(e)).then(function(e){if(!e.ok){var r,o,i,c,u,s,a;window.__appName,null===(r=window)||void 0===r||(null===(o=r.navigator)||void 0===o||o.userAgent),null===(i=window)||void 0===i||(null===(c=i.navigator)||void 0===c||c.platform),null===(u=window)||void 0===u||(null===(s=u.navigator)||void 0===s||s.appVersion),$app.option.theme,$app.option.language,$media,$device,window.region,e.status,e.statusText,e.url,null===(a=Object({mode:"production",env:"production",rev:["6f6388e","Tue, 14 Jan 2025 19:08:16 -0500"],platform:"marketing",date:"2025-01-15T17:40:54.094Z"}))||void 0===a||a.rev}if(e.clone){var l=e.clone();if(l&&l.status&&"401"===l.status.toString())return $app.send({action:"sso_validation_failed"}),Promise.reject({status:e.status,statusText:e.statusText,message:"Session Expired"});l.ok?l.text().then(function(e){at("WA > ".concat(t," SUCCESS with response ").concat(e," statusText ").concat(l.statusText," statusCode ").concat(l.status),n)}).catch(function(e){at("WA > ".concat(t," FAILED with response error message ").concat(e?e.message:"Unknown"," statusText ").concat(l.statusText," statusCode ").concat(l.status),n)}):l.text().then(function(e){at("WA > ".concat(t," FAILED with response ").concat(e," statusText ").concat(l.statusText," statusCode ").concat(l.status),n)}).catch(function(e){at("WA > ".concat(t," FAILED with response error message ").concat(e?e.message:"Unknown"," statusText ").concat(l.statusText," statusCode ").concat(l.status),n)})}else at("WA > ".concat(t," SUCCESS with response ").concat(e," statusText ").concat(e&&e.statusText," statusCode ").concat(e&&e.status),n);return e}).catch(function(e){return at("WA > ".concat(t," FAILED with response ").concat(e?e.message:"Unknown"),n),e})}},{key:"nonAuthTelemetry",value:function(t){return this.request("telemetry/noAuthAdd",{method:"POST",body:JSON.stringify(t)}).then(function(t){if(t.ok)return t.json();throw"Failed non auth telemetry"})}},{key:"reportTelemetry",value:function(t){var e,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=null===(e=Object({mode:"production",env:"production",rev:["6f6388e","Tue, 14 Jan 2025 19:08:16 -0500"],platform:"marketing",date:"2025-01-15T17:40:54.094Z"}))||void 0===e?void 0:e.platform,u=$requestUtil.infoReported?void 0:tt({prod:"production"==(null===(n=Object({mode:"production",env:"production",rev:["6f6388e","Tue, 14 Jan 2025 19:08:16 -0500"],platform:"marketing",date:"2025-01-15T17:40:54.094Z"}))||void 0===n?void 0:n.env)?1:0},i),s=["web","desktop","ntws","marketing"].includes(c)||t.useREST;delete t.useREST;var a={wa_session:ut,sstm:st,t:ot()-st},l=tt(tt({},t),a);if(s){$requestUtil.infoReported=!0;var d={sstm:st,info:u,data:l};return i&&!1===i.authenticated?this.nonAuthTelemetry(tt({user:o},d)):this.request("telemetry/authAdd",{method:"POST",body:JSON.stringify(d)}).then(function(t){var e,n;if(!t.ok&&["401","400"].includes((null===(e=t.status)||void 0===e?void 0:e.toString())||(null===(n=t.statusCode)||void 0===n?void 0:n.toString())))return r.nonAuthTelemetry(tt({user:o},d));if(t.ok)return t.json();throw"Failed auth telemetry"}).catch(function(t){console.log(t)})}$app.send({action:"web_app_telemetry",data:l})}}]),t}()),dt=lt;function ft(t){"@babel/helpers - typeof";return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach(function(e){vt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function vt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ft(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht=[1,99,"1","99"],St={namespaced:!0,state:{abFeatures:{},ready:!1,failed:!1},getters:{abFeatures:function(t,e,n,r){var o;return(null===(o=n.abFeatures2)||void 0===o?void 0:o.cp)||t.abFeatures},showDirectHMDS:function(t,e,n,r){var o=e.abFeatures;return o&&ht.includes(o.DIRECT_HMDS)||!1},showDirectMD:function(t,e,n,r){var o=e.abFeatures;return o&&ht.includes(o.DIRECT_MD)||!1},useNewSsodhAuth:function(t,e){var n=e.abFeatures;return n&&ht.includes(n.NEW_SSODH_AUTH)||!1},showContextHelp:function(t,e,n,r){var o=e.abFeatures;return r.isAlphaEnv||!r.wbId&&o&&ht.includes(o.SHOW_CONTEXTUAL_HELP)||!1},showAds:function(t,e,n,r){var o=e.abFeatures;return!r.wbId&&o&&ht.includes(o.show2020Ads)||!1},showAdViewer:function(t,e,n,r){var o=e.abFeatures;return o&&ht.includes(o.SHOW_ADVIEWER_CP)||!1},showIAWidget:function(t,e,n,r){var o=e.abFeatures;return o&&ht.includes(o.SHOW_IA_WIDGET)||!1},showSearchableNews:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.USE_CP_SEARCHABLE_NEWS)},showEDDWarn:function(t,e,n,r){var o=e.abFeatures;return o&&ht.includes(o.SHOW_EDD_WARN)||!1},showRestrictedNotice:function(t,e,n,r){var o=e.abFeatures;return r.isAlphaEnv||ht.includes(null===o||void 0===o?void 0:o.NOEXTCLSPOS)},showSuggestedSizeReject:function(t,e,n,r){var o=e.abFeatures;return r.isAlphaEnv||ht.includes(null===o||void 0===o?void 0:o.CP_SHOW_SUGGESTED_SIZE_REJECT)},showCrypto:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.ALLOW_CRYPTO)},showCryptoAds:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.SHOW_CRYPTO_ADS)},showTradingSettings:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CTCI_PRESETS)},enableWidescreen:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.WIDE_UX)},showPriipsLink:function(t,e){var n=e.abFeatures;return ht.includes(null===n||void 0===n?void 0:n.SHOW_PRIIPS_LINK)},showExitStrategy:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.SHOW_EXIT_STRATEGY)},showFinLens:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.SHOW_FINANCIAL_LENS)},showOptionExercise:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.SHOW_OPTION_EXERCISE)},useMdFarmRegsnapshot:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.MD_FARM_REGSNAPSHOT)},useNewPnl:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.NEW_PNL)},redirectToMsgCenter:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.REDIRECT_TO_MSG_CENTER)},faMenuOverlay:function(t,e,n,r){var o=e.abFeatures;return!!r.isFaOrIbroker&&(!!r.isDev||ht.includes(null===o||void 0===o?void 0:o.FA_MENU_OVERLAY))},showEventTrader:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.EVENT_TRADER)},showETSettled:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.ET_SHOW_SETTLED)},hideMargins:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.NOMARGIN)},hideFundamentals:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.USE_CUSTOM_FUNDAMENTALS)},hideAssets:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDEASSETS)},hideBondScanner:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDE_BOND_SCANNER)},noShort:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.NOSHORT)},noFunding:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.NOFUNDING)},noHelp:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.NOHELP)},showCES:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CUSTOMER_EFFORT_SCORE)},supportsClassActionClaims:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CLASS_ACTION_CLAIMS)},showDynamicAccountSearch:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.DYNAMIC_ACCOUNT_SEARCH)},showLiteUnderPro:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.LITE_UNDER_PRO)},hideIbot:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDE_IBOT)},supportsOSL:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.SUPPORTS_OSL)},showOauthConsumers:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.SHOW_OAUTH_CONSUMERS)},hideAlerts:function(t,e,n,r){var o=e.abFeatures,i=r.isFaOrIbroker;return ht.includes(null===o||void 0===o?void 0:o.HIDE_ALERTS)&&!i},hideNewFeatures:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDE_NEW_FEATURES)},showRmDiscount:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.RM_DISCOUNT)},showDiscoverTool:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.USE_DISCOVER_TOOL)},useCtciPortfolio:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.USE_CTCI_PORTFOLIO)},hideCorpActions:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.NO_CORP_ACTIONS)},useCtciWatchlists:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CTCI_WATCHLISTS)},showOptionsWizard:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.OPTIONS_WIZARD)},showMorningStar:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.MORNINGSTAR_IN_FE)},allowShowOrderRef:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_ORDER_REF)},showImpactDashboardAb:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_IMPACT_DASHBOARD)},hideResearch:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDE_RESEARCH)},useCtciSearch:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CTCI_SECDEF_SEARCH)},showOrbisa:function(t,e,n,r){var o=e.abFeatures;return r.protectProd||ht.includes(null===o||void 0===o?void 0:o.SHOW_ORBISA)},showCCPStatus:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_CCP_STATUS)},hideCommissionUrl:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDE_COMMISSION_URL)},hideVirtualPositions:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDE_VIRTUAL_POSITIONS)},hideMfScanner:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.HIDE_MF_SCANNER)},showNews3:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_NEWS3)},showFAQBrowserWB:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_FAQ_BROWSER_WB)},showForecastXStrikeLabel:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_FT_STRIKE_LABEL)},showMfQdWidgets:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_MF_QD_WIDGETS)},showEuCostReport:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.EU_COST_REPORT)},showRedesignedTicket:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CP_TICKET_REDESIGN)},showMFExchange:function(t){var e;return ht.includes(null===(e=t.abFeatures)||void 0===e?void 0:e.MF_SWAP)},showMFDocs:function(t){var e;return ht.includes(null===(e=t.abFeatures)||void 0===e?void 0:e.SHOW_MF_DOCS)},showUserVoice:function(t){var e;return ht.includes(null===(e=t.abFeatures)||void 0===e?void 0:e.SHOW_USERVOICE)},showFAPresets:function(t,e,n,r){var o;return!!r.isFaOrIbroker&&(!!(r["iserverData/allowFeatures"]||{}).allowFA&&ht.includes(null===(o=t.abFeatures)||void 0===o?void 0:o.FA_PRESETS))},showTaxBanner1:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_TAX_BANNER_1)},showTaxBanner2:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_TAX_BANNER_2)},showGetHelp:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_GET_HELP)},showGetHelpNonEnglish:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_GET_HELP_NON_ENGLISH)},showNewForGetHelp:function(t,e,n,r){var o,i=e.abFeatures;return"1"==(null===i||void 0===i?void 0:null===(o=i.featuresSettings)||void 0===o?void 0:o.SHOW_GET_HELP.showNew)},showNewForGetHelpNonEnglish:function(t,e,n,r){var o,i=e.abFeatures;return"1"==(null===i||void 0===i?void 0:null===(o=i.featuresSettings)||void 0===o?void 0:o.SHOW_GET_HELP_NON_ENGLISH.showNew)},showFAGroups:function(t,e,n,r){var o;return!!r.isFaOrIbroker&&(!!(r["iserverData/allowFeatures"]||{}).allowFA&&ht.includes(null===(o=t.abFeatures)||void 0===o?void 0:o.CP_FA_GROUPS))},showFAPortfolio:function(t,e,n,r){var o;return!!r.isFa&&ht.includes(null===(o=t.abFeatures)||void 0===o?void 0:o.CP_FA_PORTFOLIO)},useCTCIOrders:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.USE_CTCI_ORDER)},showNewMarketScreener:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CP_MULTISORT_SCREENERS)},showOptionAnalysis:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_OPTION_ANALYSIS)},showFACommentary:function(t,e,n,r){var o=e.abFeatures,i=ht.includes(null===o||void 0===o?void 0:o.FA_COMMENTARY),c=e.showFACommentaryDebug;return r["portfolio/isProFA"]&&i||c},showFACommentaryDebug:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.FA_COMMENTARY_DEBUG)},showAot:function(t,e,n,r){if(!r.isFa)return!1;var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CP_AOT)},showTabbedOrders:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CP_TABBED_ORDERS)},showFARebalance:function(t,e,n,r){var o;return!!r.isFa&&ht.includes(null===(o=e.abFeatures)||void 0===o?void 0:o.CP_FA_REBALANCE)},showFAModels:function(t,e,n,r){var o;return!!r.isFa&&ht.includes(null===(o=e.abFeatures)||void 0===o?void 0:o.CP_FA_MODELS)},showIAAds:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.SHOW_IA_ADS)},showTLH:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.TLH)},etMode:function(t,e){var n;return null===(n=e.abFeatures)||void 0===n?void 0:n.FORECAST_TRADER},showCPFacelift:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.CP_FACELIFT_2024)},showOpenLots:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.VIEW_LOTS_RO)},showFtElectionBanner:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.SHOW_FT_ELECTION_BANNER)},showAdvancedPerformanceChart:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.SHOW_NEXTGEN_PERFORMANCE_CHART)},showWashSaleWarn:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.WASH_SALE_WARN)},showOpenLotsCP:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.VIEW_LOTS_RO_CP)},showGenAiSummary:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.SHOW_GENAI_NEW_ENTRY)},showUkEsgLabel:function(t,e){var n;return!ht.includes((null===(n=e.abFeatures)||void 0===n?void 0:n.HIDE_UK_ESG_LABEL)||0)},showTLHSwap:function(t,e){var n;return ht.includes(null===(n=e.abFeatures)||void 0===n?void 0:n.TLH_Swap)},showSearchTabsAndResults:function(t,e,n,r){var o=e.abFeatures;return ht.includes(null===o||void 0===o?void 0:o.ALLOW_SEARCH_TABS_AND_RESULTS)}},actions:{getCPABFeatures:function(t){var e=t.commit,n=(window.env?"".concat(window.env):"V1").toUpperCase(),r=(window.region?"".concat(window.region):"").toUpperCase(),o={type:"featuresMsg",datetime:(new Date).toISOString(),context:{applicationId:"CP",features:{SHOW_CONTEXTUAL_HELP:0,DIRECT_HMDS:0,DIRECT_MD:0,NEW_PNL:0,NEW_SSODH_AUTH:0,SHOW_IA_WIDGET:0,USE_CP_SEARCHABLE_NEWS:0,SHOW_EDD_WARN:0,NOEXTCLSPOS:0,CP_SHOW_SUGGESTED_SIZE_REJECT:0,ALLOW_CRYPTO:0,SHOW_CRYPTO_ADS:0,WIDE_UX:0,SHOW_EXIT_STRATEGY:0,SHOW_FINANCIAL_LENS:0,SHOW_OPTION_EXERCISE:0,MD_FARM_REGSNAPSHOT:0,REDIRECT_TO_MSG_CENTER:0,FA_MENU_OVERLAY:0,FA_PRESETS:0,CP_FA_PORTFOLIO:0,CP_FA_REBALANCE:0,CP_FA_MODELS:0,CP_FA_GROUPS:0,SHOW_PRIIPS_LINK:0,EVENT_TRADER:0,ET_SHOW_SETTLED:0,NOMARGIN:0,HIDEASSETS:0,HIDE_BOND_SCANNER:0,USE_CTCI_PORTFOLIO:0,NOSHORT:0,NOFUNDING:0,NOHELP:0,CUSTOMER_EFFORT_SCORE:0,CTCI_PRESETS:0,CLASS_ACTION_CLAIMS:0,DYNAMIC_ACCOUNT_SEARCH:0,LITE_UNDER_PRO:0,HIDE_IBOT:0,SUPPORTS_OSL:0,SHOW_OAUTH_CONSUMERS:0,HIDE_ALERTS:0,HIDE_NEW_FEATURES:0,NO_CORP_ACTIONS:0,USE_DISCOVER_TOOL:0,CTCI_WATCHLISTS:0,OPTIONS_WIZARD:0,MORNINGSTAR_IN_FE:0,SHOW_ORDER_REF:0,SHOW_IMPACT_DASHBOARD:0,HIDE_RESEARCH:0,CTCI_SECDEF_SEARCH:0,SHOW_ORBISA:0,SHOW_CCP_STATUS:0,HIDE_COMMISSION_URL:0,HIDE_VIRTUAL_POSITIONS:0,HIDE_MF_SCANNER:0,SHOW_NEWS3:0,SHOW_MF_QD_WIDGETS:0,EU_COST_REPORT:0,CP_TICKET_REDESIGN:0,MF_SWAP:0,SHOW_MF_DOCS:0,SHOW_TAX_BANNER_1:0,SHOW_TAX_BANNER_2:0,SHOW_GET_HELP:0,SHOW_GET_HELP_NON_ENGLISH:0,SHOW_USERVOICE:0,SHOW_FAQ_BROWSER_WB:0,USE_CTCI_ORDER:0,CP_MARKET_SCREENER:0,SHOW_OPTION_ANALYSIS:0,FA_COMMENTARY:0,FA_COMMENTARY_DEBUG:0,CP_AOT:0,CP_TABBED_ORDERS:0,SHOW_IA_ADS:0,FORECAST_TRADER:0,ALLOW_WB_FT_LOGIN:0,TLH:0,CP_FACELIFT_2024:0,SHORTCUTS_CRYPTO_PLUS:0,SHORTCUTS_RECURRING_INVESTMENT:0,VIEW_LOTS_RO:0,RM_DISCOUNT:0,SHOW_FT_ELECTION_BANNER:0,SHOW_FT_STRIKE_LABEL:0,WASH_SALE_WARN:0,VIEW_LOTS_RO_CP:0,SHOW_GENAI_NEW_ENTRY:0,TLH_Swap:0,ALLOW_SEARCH_TABS_AND_RESULTS:0,HIDE_UK_ESG_LABEL:0},applicationFilters:{env:n,region:r}}};return $util.cookie("partnerID")&&(o.context.applicationFilters.wbid=$util.cookie("partnerID")),new Promise(function(t,n){dt.request("abtesting/features/CP",{method:"POST",body:JSON.stringify(o)}).then(function(t){return t.json()}).then(function(n){n&&n.context&&n.context.features&&e("SET_AB_FEATURES",mt(mt({},n.context.features),{},{featuresSettings:n.context.featuresSettings})),t(n),e("SET_AB_FEATURES_STATUS",{complete:!0,error:!1})}).catch(function(t){n(t),e("SET_AB_FEATURES_STATUS",{complete:!0,error:!0})})})}},mutations:(vt(it={},"SET_AB_FEATURES",function(t,e){t.abFeatures=e}),vt(it,"TOGGLE_AB_FEATURE",function(t,e){var n=ht.includes(t.abFeatures[e])?0:1;Vue.set(t.abFeatures,e,n)}),vt(it,"SET_AB_FEATURES_STATUS",function(t,e){var n=e.complete,r=e.error;n&&(t.ready=!0),r&&(t.failed=!0)}),it)};var bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;t?t.$el&&(t=t.$el):t=document.body,t.progressCount?(clearTimeout(t.progressTimeout),t.progressTimeout=setTimeout(function(){t.progressCount=0,t.progressTimeout=null,document.body.classList.remove("noprogress"),t.classList.remove("progress-show")},2e4),t.progressCount++):(!function(t){for(var e,n=t.childNodes,r=n.length;r--;)if(n[r].classList&&n[r].classList.contains("progress")){e=n[r];break}e||((e=document.createElement("div")).className="progress",e.setAttribute("aria-hidden","true"),e.appendChild(document.createElement("div")),t.appendChild(e))}(t),t.progressStart=setTimeout(function(){clearTimeout(t.progressStart),t.progressStart=null,t!=document.body&&document.body.classList.add("noprogress"),t.classList.add("progress-show"),t.progressTimeout=setTimeout(function(){t.progressCount=0,t.progressTimeout=null,document.body.classList.remove("noprogress"),t.classList.remove("progress-show")},2e4)},e),t.progressCount=1)},gt=function(t){t?t.$el&&(t=t.$el):t=document.body,t.progressCount&&(--t.progressCount||(t.progressStart&&(clearTimeout(t.progressStart),t.progressStart=null),t.progressTimeout&&(clearTimeout(t.progressTimeout),t.progressTimeout=null),document.body.classList.remove("noprogress"),t.classList.remove("progress-show")))};function Et(t){"@babel/helpers - typeof";return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_t(r.key),r)}}function _t(t){var e=function(t,e){if("object"!=Et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Et(e)?e:String(e)}var Tt=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.interval=n.interval,this.onSuccess=r,this.onError=o,this.run=!0,this.timer=0}return function(t,e,n){e&&yt(t.prototype,e),n&&yt(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"start",value:function(){var t=this;this.onSuccess().then(function(e){t.run&&(t.timer=setTimeout(function(){return t.start()},t.interval))}).catch(function(e){t.onError(e)})}},{key:"stop",value:function(){this.run=!1,clearTimeout(this.timer)}}]),t}(),At="/iserver";function Ot(t){var e=t.conid,n=t.period,r=void 0===n?"1w":n,o=t.format,i=void 0===o?"":o,c=t.source,u=void 0===c?"":c,s=t.bar,a=void 0===s?"":s,l=t.outsideRth,d=void 0!==l&&l,f=t.startTime,p=t.direction;if(!isNaN(e)){var m="&period="+r;return""!=i&&(m+="&format="+i),""!=u&&(m+="&source="+u),""!=a&&(m+="&bar="+a),f&&(m+="&startTime="+f),p&&(m+="&direction="+p),At+"/marketdata/history?conid="+e+(m+="&outsideRth="+d)}}var wt={getDefaultAccountPreset:function(){return W(At+"/account/order/preset")},getOrderStatus:function(t){return W(At+"/account/order/status/"+t)},getOrderStatusAndRules:function(t,e,n){var r="/iserver/contract/".concat(e,"/rules?isBuy=").concat(n),o="/iserver/account/order/status/".concat(t);return G([r,o])},getOslStatus:function(){return W(At+"/osl/active")},getSecondaryOrderRules:function(t,e,n){return W(At+"/contract/".concat(t,"/rules?isBuy=").concat(e,"&hasSecondary=true&limitPrice=").concat(n))},getPriceHistory:function(t,e,n,r,o,i,c,u){var s=Ot({conid:t,period:e,format:n,source:r,bar:o,outsideRth:i,startTime:c,direction:u});if(s)return W(s)},getPriceHistoryAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];if(t.length>0&&t.forEach(function(t){var n=Ot(t);n&&e.push(n)}),e.length>0)return G(e)},getEstimatedProbability:function(t,e){return V(At+"/estimatedprobability",{conidex:t,price:e})},getEstimatedPrice:function(t){return V(At+"/estimatedprice",{conidex:t})},addRealtimeListener:function(t){var e=t.onUpdates,n=t.onError,r=t.onSubscribed;if(window.ibrt){if(!window.ibrt.isSubscribed("realtime-data"))return window.ibrt.subscribe("realtime-data","RD",{onMessage:e,onSubscribed:r,onError:n});console.warn("already subscribed to realtime-data")}else console.error("iserver: add rt real-time api missing")},closeAllPositions:function(t){return V(At+"/positions/closeall",t)},getPnl:function(t){return W(At+"/account/pnl/partitioned")},getAccounts:function(){return W(At+"/accounts")},compete:function(){return V(At+"/auth/compete")},getLinks:function(t){return W(At+"/links?types="+t)},unsubscribeIserverUpdates:function(t){var e=t.acctId;window.ibrt?window.ibrt.cancelAll("realtime-account-data+"+e):console.error("iserver: unsubscribe real-time api missing")},subscribeIserverUpdates:function(t,e){var n=t.acctId,r=e.onUpdates,o=e.onError,i=e.onSubscribed;if(window.ibrt){if(!window.ibrt.isSubscribed("realtime-account-data+"+n))return window.ibrt.subscribe("realtime-account-data+"+n,"RAD",{onMessage:r,onSubscribed:i,onError:o});console.warn("already subscribed to realtime-account-data")}else console.error("iserver: subscribe real-time api missing")},getOrders:function(t,e,n){return W("".concat(At,"/account/orders?force=").concat(!!t,"&accountId=").concat(e)+(void 0!==n?"&status=".concat(n):""))},status:function(){return V(At+"/auth/status")},autologon:function(){return V(At+"/auth/autologon")},logout:function(){return V(At+"/logout")},ssoDHinit:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c="xxx (".concat($date.data.timeZone,")")||!1,u=!!Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IS_ET;return V(At+"/auth/ssodh/init",{username:t,compete:e,useSecurityContext:n,locale:r,tz:c,isET:u,publish:i,hardware_info:o})},ssoDHresponse:function(t){return V(At+"/auth/ssodh/response",{response:t})},setClientStatus:function(t,e){return V(At+"/status/update",{id:t,value:e})},tickleSession:function(){return new Promise},getBulletins:function(){return W(At+"/bulletins")},getBriefingArticle:function(){return W(At+"/news/briefing")},setAccount:function(t){return V(At+"/account",{acctId:t})},setDefaultAccountPreset:function(t){return V(At+"/account/order/preset",{acctId:t})},setOEMode:function(t,e){return V(At+"/orderentrymode",{conid:t,isUnsubscribe:e})},searchBySym:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STK",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return V(At+"/secdef/search",{symbol:t,name:!1,secType:e,referrer:n})},searchByName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V(At+"/secdef/search",{symbol:t,name:!0,secType:"STK",referrer:e})},searchMutualFunds:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return V(At+"/secdef/search",{symbol:t,fund:!0,fundFamilyConidEx:e,referrer:n})},setOslStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return W(At+"/osl/active?force=".concat(t))},replyNotification:function(t){return V(At+"/notification",t)},getRegsnapshot:function(t){return W(At+"/marketdata/regsnapshot?conid="+t+"&fields=31,55,82,83,84,85,86,88,7051,7057,7058,7059,7067,7068,7221")},getDebugPnl:function(t){var e=t.conid,n=t.account,r=void 0===n?"":n,o=t.type;return V(At+"/account/debugpnl",{conid:e,account:r,type:o})},getCurrencyPairs:function(t){return W(At+"/currency/pairs?currency=".concat(t))},getContractInfo:function(t){return W(At+"/contract/".concat(t,"/info"))},getOrderRules:function(t){return V(At+"/contract/rules",t)},getTradingSchedule:function(t){return W("".concat(At,"/contract/").concat(t,"/overnight-trading-schedule"))},getTrades:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="formatChildren=".concat(e);return t&&(n+="&accountId=".concat(t)),W(At+"/account/trades?".concat(n))},getWatchlist:function(t){return t&&"undefined"!==t?W(At+"/watchlist?id="+t):Promise.reject("id undefined")},deleteWatchlist:function(t){return q(At+"/watchlist?id="+t)},getAllWatchlists:function(t){var e=t.SC;return W(At+"/watchlists"+(void 0!==e?"?SC="+e:""))},getMDColumns:function(t){return V(At+"/marketdata/columns",t)},getPFMDColumns:function(t){return W(At+"/marketdata/columns/pf?SELECTED="+t)},getWLMDColumns:function(t){return W(At+"/marketdata/columns/wl?SELECTED="+t)},getScannerParams:function(){return W(At+"/scanner/params")},getUserWatchLists:function(){return W("/lists")},saveWatchlist:function(t){return V(At+"/watchlist",t)},postScannerQuery:function(t,e,n,r,o){return V(At+"/scanner/run",{instrument:t,type:e,filter:n,location:r,size:o})},createOrModifyAlert:function(t,e){return V("".concat(At,"/account/").concat(t,"/alert"),e)},getAvailableAlerts:function(t){return W("".concat(At,"/account/").concat(t,"/alerts"))},activateAlert:function(t,e){return V("".concat(At,"/account/").concat(t,"/alert/activate"),e)},deleteAlert:function(t,e){return q("".concat(At,"/account/").concat(t,"/alert/").concat(e))},getAlertDetails:function(t){return W("".concat(At,"/account/alert/").concat(t,"?type=Q"))},getMtaAlert:function(){return W("".concat(At,"/account/mta"))},getComboLegs:function(t){return V("".concat(At,"/combo/legs"),{conid:t})},getFolioModels:function(t){var e=t.selectedAcctId;return V("".concat(At,"/sleeve"),{requestType:"getModels",account:e})},getFolioModel:function(t){var e=t.selectedAcctId,n=t.modelName;return V("".concat(At,"/sleeve"),{requestType:"getModel",account:e,modelName:n})},getFolioModelOrders:function(t){var e=t.selectedAcctId,n=t.modelName;return V("".concat(At,"/sleeve"),{requestType:"getModelOrdersStatus",account:e,modelName:n})},createUpdateFolioModel:function(t){var e=t.selectedAcctId,n=t.modelEntry,r=t.targetList;return V("".concat(At,"/sleeve"),{requestType:"createOrUpdateModelWithTargets",account:e,modelEntry:n,targetList:r})},rebalanceFolioModel:function(t){var e=t.selectedAcctId,n=t.modelName,r=t.amount,o=t.fullDivest;return V("".concat(At,"/sleeve"),{requestType:"computeInvestDivestRebalanceOrders",account:e,amount:r,fullDivest:o,modelName:n})},transmitFolioOrders:function(t){var e=t.investDivestRebalanceSetID,n=t.overrideList,r=t.waitSeconds;return V("".concat(At,"/sleeve"),{requestType:"transmitOrdersAndTransfers",investDivestRebalanceSetID:e,overrideList:n,waitSeconds:r})},getCryptoClarification:function(t,e,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,u="".concat(At,"/crypto/clarification?type=").concat(t,"&origin=").concat(e);return void 0!==n&&(u+="&time=".concat(n)),void 0!==o&&(u+="&isBuy=".concat(o)),void 0!=r&&(u+="&tif=".concat(r,"&conid=").concat(i,"&orderType=").concat(c)),W(u)},getContractClarification:function(t){var e=t.type,n=t.origin,r=t.conid;return W("".concat(At,"/contract/clarification?type=").concat(e,"&origin=").concat(n,"&conid=").concat(r))},getStructuredProperty:function(t){return W(At+"/structuredproperty?accountField=af.".concat(t))},setDynAccount:function(t){return V(At+"/dynaccount",{acctId:t})},getDynamicAccounts:function(t){return W(At+"/account/search/".concat(t))},getFutureContracts:function(t){var e=t.conid,n=t.month,r=t.exchange;return t.strike,t.right,W("".concat(At,"/secdef/info?conid=").concat(e,"&sectype=FUT&month=").concat(n,"&exchange=").concat(r))},getStrikes:function(t){var e=t.conid,n=t.secType,r=t.month,o=t.exchange;return W(At+"/secdef/strikes?conid="+e+"&sectype="+n+"&month="+r+"&exchange="+o)},getContracts:function(t){var e=t.conid,n=t.secType,r=t.month,o=t.exchange,i=t.strike,c=t.right;return W("".concat(At,"/secdef/info?conid=").concat(e,"&sectype=").concat(n,"&month=").concat(r,"&exchange=").concat(o,"&strike=").concat(i,"&right=").concat(c))},getBondFilters:function(t){var e=t.issuerId,n=t.symbol;return W("".concat(At,"/secdef/bond-filters?symbol=").concat(n,"&issuerId=").concat(e))},getBondContracts:function(t){var e=t.issuerId,n=t.symbol,r=t.filters;return W("".concat(At,"/secdef/info?symbol=").concat(n,"&issuerId=").concat(e,"&secType=BOND&filters=").concat(r))},getForexContracts:function(t){var e=t.conid;return W("".concat(At,"/secdef/info?conid=").concat(e,"&sectype=CASH"))},getCfdContracts:function(t){var e=t.conid;return W("".concat(At,"/secdef/info?conid=").concat(e,"&sectype=CFD"))},previewOrder:function(t,e){return V("/iserver/account/"+t+"/orders/whatif",{orders:e})},submitOrder:function(t,e){return V("/iserver/account/"+t+"/orders",{orders:e})},replyOrderQuestion:function(t,e){return V("/iserver/reply/"+t,e)},getAccountSummary:function(t){return W("/iserver/account/".concat(t,"/summary"))},getFundamentals:function(t){return W("/iserver/fundamentals/".concat(t,"/summary"))},getQuoteInfo:function(t){return V(At+"/quote-info",t)},getAllocationPresets:function(){return W("".concat(At,"/account/allocation/presets"))},saveAllocationPresets:function(t){return V("".concat(At,"/account/allocation/preset"),t)},getFAAllocationGroups:function(){return W("".concat(At,"/account/allocation/group"))},getAllocationAccounts:function(){return W("".concat(At,"/account/allocation/accounts"))},getAllocationGroup:function(t){return V("".concat(At,"/account/allocation/group/single"),{name:t})},createAllocationGroup:function(t){return V("".concat(At,"/account/allocation/group"),t)},updateAllocationGroup:function(t){return Y("".concat(At,"/account/allocation/group"),t)},deleteAllocationGroup:function(t){return V("".concat(At,"/account/allocation/group/delete"),t)},searchByPattern:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V(At+"/secdef/search",{symbol:t,pattern:!0,referrer:e})},getSearchDetails:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V(At+"/secdef/search",{symbol:t,more:!0,referrer:e})},getGlobalModels:function(){return W(At+"/account/allocation/models")}},It="";function Ct(t){var e=t.conid,n=t.period,r=void 0===n?"1w":n,o=t.format,i=void 0===o?"":o,c=t.source,u=void 0===c?"":c,s=t.bar,a=void 0===s?"":s,l=t.outsideRth,d=void 0!==l&&l,f=t.startTime,p=t.direction;if(!isNaN(e)){var m="&period="+r;return""!=i&&(m+="&format="+i),""!=u&&(m+="&source="+u),""!=a&&(m+="&bar="+a),f&&(m+="&startTime="+f),p&&(m+="&direction="+p),It+"/hmds/history?conid="+e+(m+="&outsideRth="+d)}}var Pt={authenticate:function(t){return W(It+"/hmds/auth/init")},getPriceHistory:function(t,e,n,r,o,i,c,u){var s=Ct({conid:t,period:e,format:n,source:r,bar:o,outsideRth:i,startTime:c,direction:u});if(s)return W(s)},getPriceHistoryAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];if(t.length>0&&t.forEach(function(t){var n=Ct(t);n&&e.push(n)}),e.length>0)return G(e)},getScannerParams:function(){return W(It+"/hmds/scanner/params")},postScannerQuery:function(t,e,n,r,o,i,c){return V(It+"/hmds/scanner/run",{instrument:t,scanCode:e,locations:r,delayedLocations:o,maxItems:c,secType:i,filters:n})},getSystemlistById:function(t){return new Promise(function(e,n){dt.request("hmds/systemlist/snapshot?id=".concat(t),{}).then(function(t){return t.json()}).then(function(t){return e(t)}).catch(function(t){n(t)})})},getSystemlists:function(){return new Promise(function(t,e){dt.request("hmds/systemlist/list",{}).then(function(t){return t.json()}).then(function(e){return t(e)}).catch(function(t){e(t)})})}},Rt=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).MDFARM_BASE_URL||"",Nt={},Dt=0,Lt={authenticate:function(t){return W(Rt+"/md/auth/init")},newSubscribeUpdates:function(t,e){var n=t.conid,r=t.fields,o=e.onUpdates;if(n){if(window.ibrt){var i={fields:r};return window.ibrt.subscribeArgs("mds+"+n,"MD",i,{onMessage:o})}console.error("mdapi: real-time api missing")}},subscribeUpdates:function(t,e){var n=t.conid,r=t.fields,o=t.backout,i=e.onUpdates;if(n){if(window.ibrt){var c={fields:r,backout:o};return window.ibrt.subscribeArgs("smd+"+n,"MD",c,{onMessage:i})}console.error("mdapi: real-time api missing")}},subscribe:function(t,e){var n=e.since,r=void 0===n?1:n,o=e.fields,i="/iserver/marketdata/subscribe?conids="+t+"&since="+r;return o&&(i+="&fields="+o),W(Rt+i)},getSnapshot:function(t){return V(Rt+"/iserver/marketdata/snapshot",t)},getNewSnapshot:function(t){var e=t.conids,n=t.fields;return W("".concat(Rt,"/md/snapshot?conids=").concat(e,"&fields=").concat(n))},getMarketData:function(){return W(Rt+"/iserver/marketdata")},unsubscribeMarketData:function(t){if(t&&t.length)return V(Rt+"/iserver/marketdata/unsubscribe",{conids:t})},unsubscribeAllMarketData:function(){return W(Rt+"/iserver/marketdata/unsubscribeall")},newUnsubscribeAllMD:function(){return W(Rt+"/md/unsubscribe/all")},getHistoryDataDirectHMDS:function(t,e){var n=t.conid,r=t.period,o=t.bar,i=t.outsideRth,c=t.startTime,u=t.direction,s=e.onUpdates,a=e.onHistoryDataError;if(n){if(window.ibrt){var l="rdh+"+n,d=Dt++,f={period:r,bar:o,outsideRth:i,startTime:c,direction:u,requestId:d},p="p: ".concat(r,", b: ").concat(o,", rth: ").concat(i,", st: ").concat(c,", d: ").concat(u,", reqId: ").concat(d);return Nt[d]=(new Date).getTime(),setTimeout(function(){Nt[d]&&k.instance().register({source:"WS",type:"resp",k:"hmds-history",timeout:!0,conid:n,p:p})},1e4),window.ibrt.subscribeArgs(l,"HD",f,{onMessage:function(t){var e=(new Date).getTime()-Nt[d];delete Nt[d];var r,o,i=JSON.parse(null===t||void 0===t?void 0:t.payload);return l==(null===t||void 0===t?void 0:t.topic)&&d==(null===i||void 0===i?void 0:i.requestId)?(window.ibrt.newCancelSubscriptions(l,f),k.instance().register({source:"WS",type:"resp","value-int":e,k:"hmds-history",e:!(null===t||void 0===t||!t.error),conid:n,p:p,debug:"".concat((null===t||void 0===t?void 0:null===(r=t.error)||void 0===r?void 0:r.replace(/'/g,""))||"")}),(null===t||void 0===t?void 0:t.error)?a(t):s(t)):void k.instance().register({source:"WS",type:"resp","value-int":e,k:"hmds-history",e:!0,t:"missing requestId/topic",conid:n,p:p,debug:"reqId: ".concat(d,", reqTopic: ").concat(l,", resId: ").concat(null===i||void 0===i?void 0:i.requestId,", resTopic: ").concat(null===t||void 0===t?void 0:t.topic,", e: ").concat((null===t||void 0===t?void 0:null===(o=t.error)||void 0===o?void 0:o.replace(/'/g,""))||"")})},onError:function(t){return k.instance().register({source:"WS",type:"resp","value-int":(new Date).getTime()-Nt[d],k:"hmds-history",e:!0,conid:n,p:p}),delete Nt[d],a(t)}})}console.error("mdapi: real-time api missing")}},getHistoryDataIserver:function(t,e){var n=t.conid,r=t.period,o=t.bar,i=t.outsideRth,c=t.startTime,u=t.direction,s=e.onUpdates,a=e.onHistoryDataError;if(n){if(window.ibrt){var l="hdr+"+n,d=Dt++,f={period:r,bar:o,outsideRth:i,startTime:c,direction:u,requestId:d},p="p: ".concat(r,", b: ").concat(o,", rth: ").concat(i,", st: ").concat(c,", d: ").concat(u,", reqId: ").concat(d);return Nt[d]=(new Date).getTime(),setTimeout(function(){Nt[d]&&k.instance().register({source:"WS",type:"resp",k:"iserver-history",timeout:!0,conid:n,p:p})},1e4),window.ibrt.subscribeArgs(l,"HD",f,{onMessage:function(t){var e=(new Date).getTime()-Nt[d];delete Nt[d];var r,o,i=JSON.parse(null===t||void 0===t?void 0:t.payload);return l==(null===t||void 0===t?void 0:t.topic)&&d==(null===i||void 0===i?void 0:i.requestId)?(window.ibrt.newCancelSubscriptions(l,f),k.instance().register({source:"WS",type:"resp","value-int":e,k:"iserver-history",e:!(null===t||void 0===t||!t.error),conid:n,p:p,debug:"".concat((null===t||void 0===t?void 0:null===(r=t.error)||void 0===r?void 0:r.replace(/'/g,""))||"")}),(null===t||void 0===t?void 0:t.error)?a(t):s(t)):void k.instance().register({source:"WS",type:"resp","value-int":e,k:"iserver-history",e:!0,t:"missing requestId/topic",conid:n,p:p,debug:"reqId: ".concat(d,", reqTopic: ").concat(l,", resId: ").concat(null===i||void 0===i?void 0:i.requestId,", resTopic: ").concat(null===t||void 0===t?void 0:t.topic,", e: ").concat((null===t||void 0===t?void 0:null===(o=t.error)||void 0===o?void 0:o.replace(/'/g,""))||"")})},onError:function(t){return k.instance().register({source:"WS",type:"resp","value-int":(new Date).getTime()-Nt[d],k:"iserver-history",e:!0,conid:n,p:p}),delete Nt[d],a(t)}})}console.error("mdapi: real-time api missing")}},getRegsnapshot:function(t){return W("".concat(Rt,"/md/regsnapshot?conid=").concat(t,"&fields=31,84,85,86,88,7057,7058,7059,7067,7068"))},subscribeOrderStatus:function(t,e){var n=t.orderId,r=e.onUpdates;if(n){if(window.ibrt)return window.ibrt.subscribeArgs("sss+"+n,"MD",void 0,{onMessage:r});console.error("mdapi: real-time api missing")}},unsubscribeOrderStatus:function(t){if(t){if(window.ibrt)return window.ibrt.subscribeArgs("uss+"+t,"MD",void 0,{onMessage:function(){return console.log("Unsubscribed")}});console.error("mdapi: real-time api missing")}}},Mt=function(t,e){return e["options/realtime"]},Ft=function(t){return t.accessibility},Ut=function(t){return t.balanceSummary&&t.balanceSummary.accountSummaries||[]},kt=function(t){return t.balanceSummary&&t.balanceSummary.excludedAccounts||[]},jt=function(t){return t.balanceSummary},Bt=function(t){return t.conids},xt=function(t){return t.competitors},Ht=function(t){return(t.user||{}).firstApprovedDate},Wt=function(t){return t.fundamentals},Gt=function(t){return t.items},Vt=function(t){return t.features},qt=function(t){return t.user.features||{}},Yt=function(t){return t.user&&t.user.props||{}},$t=function(t){return t.user&&t.user.accts||void 0},Kt=function(t){return"zh"==$locale.language},Xt=function(t){var e,n;return 2===(null===(e=t.sso)||void 0===e?void 0:e.loginType)||2===(null===(n=t.sso)||void 0===n?void 0:n.LOGIN_TYPE)},zt=function(t){var e;return null===(e=t.sso)||void 0===e?void 0:e.HARDWARE_INFO},Zt=function(t){return t.markets},Jt=function(t){return t.marketData},Qt=function(t){return t.secdefData},te=function(t){return t.secdefData&&t.secdefData[0]&&t.secdefData[0].bond},ee=function(t){return t.marketsInfo},ne=function(t){return t.news},re=function(t){return t.newsContent},oe=function(t){return t.performance},ie=function(t,e){return e.isPaperUser?"1D":t.period},ce=function(t){return t.pnl},ue=function(t){return t.positions},se=function(t){return t.priceHistory},ae=function(t){return t.rates},le=function(t){return t.user},de=function(t){return t.user&&t.user.username||""},fe=function(t,e){return e["iserverData/isLiteUser"]},pe=function(t){var e;if("covestor"===(null===(e=t.user.wbId)||void 0===e?void 0:e.toLowerCase()))return"";var n=null!=$util.cookie("partnerID")&&$util.cookie("partnerID");return/clientam/.test(location.origin)?null!=t.user.wbId&&t.user.wbId||n||"-":null===t.user.wbId?"":t.user&&t.user.wbId},me=function(t){return t.positionsSince},ve=function(t){return t.iserver},he=function(t){return t.uar},Se=function(t){return!(!t.user||!t.user.applicants)&&t.user.applicants.find(function(t){return"FA_CLIENT"==t.businessType})},be=function(t){return t.user.uar.messageCenter},ge=function(t){return t.user.uar.userInfo},Ee=function(t){return t.user.features.wlms},ye=function(t){return t.user.props.isIBAMClient},_e=function(t){return t.user&&t.user.features&&t.user.features.bond},Te=function(t){return t.user&&t.user.features&&t.user.features.calendar},Ae=function(t){return t.user&&t.user.features&&t.user.features.optionChains||Fe(t)},Oe=function(t){return!0},we=function(t){return""===pe(t)||!Se(t)},Ie=function(t,e){return Fe(t)||t.features.DISABLE_UAR||t.user.uar.portfolioAnalyst&&!e.isPaperUser},Ce=function(t){return Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).SHOW_SUGGESTIONS_FOR_YOU},Pe=function(t){return"v1"===window.env},Re=function(t){var e,n;return Fe(t)||(null===(e=t.user)||void 0===e?void 0:null===(n=e.uar)||void 0===n?void 0:n.fyi)},Ne=function(t){return""===pe(t)},De=function(t){return/local.*/.test(Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV)},Le=function(t){return t.user&&t.user.features&&t.user.features.alpha},Me=function(t){return t.user&&t.user.features&&t.user.features.debugMenu},Fe=function(t){return!1},Ue=function(t){return"build.ci"==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV||"ci"==window.env},ke=function(t){return"build.qa"==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV||"qa"==window.env},je=function(t){return t.amSessionId},Be=function(t){return Pe(t)||!0===Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).AM_ACCOUNT_PICKER},xe=function(t){return t.user&&t.user.features&&t.user.features.bond||!1},He=function(t){return void 0!==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).APP?"/":Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).PUBLIC_PATH},We=function(t){return void 0!==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).APP},Ge=function(t){return t.brandInfo},Ve=function(t,e){return""===e.wbId&&!/clientam/.test(location.origin)},qe=function(t,e){return t.user.username?t.brandInfo.am_banner?"/"+t.brandInfo.am_banner:e.canShowLogo?"/images/2015/template/logo-ib-ibkr-txtwht.svg":"":""},Ye=function(t,e){return t.user.username?t.brandInfo.am_banner?"/"+t.brandInfo.am_banner:e.canShowLogo?"/images/2015/template/logo-ib-ibkr-txtblk.svg":"":""},$e=function(t){return!!Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).HAS_SSO},Ke=function(t){return t.allAccounts||[]},Xe=function(t){return t.selectedAccounts.constructor===Array?t.selectedAccounts:[t.selectedAccounts]},ze=function(t,e){return e.selectedAccounts.map(function(t){return t.accountId})||[]},Ze=function(t,e){return e.selectedAccounts&&e.selectedAccounts.length&&e.selectedAccounts[0].accountId},Je=function(t,e){var n,r,o=null===e||void 0===e?void 0:null===(n=e.selectedAccounts)||void 0===n?void 0:n[0];return o&&(r="Interactive Advisors"===o.accountVan?o.accountVan:o.accountAlias||o.accountId),r},Qe=function(t,e){return!!e.isDev||(!(e.accountProperties&&e.userProperties&&e.selectedAcctId)||0!=Object.keys(e.userProperties).length&&("yes"!=e.userProperties.ReadOnlySession&&(!e.accountProperties[e.selectedAcctId]||"yes"!=e.accountProperties[e.selectedAcctId].NoClientTrading)))},tn=function(t,e,n){var r,o;if(e.partialServiceInterruption)return!0;if("yes"==(null===(r=t.user)||void 0===r?void 0:null===(o=r.props)||void 0===o?void 0:o.ReadOnlySession))return!1;var i=(e["portfolio/portfolioAccounts"]||[]).filter(function(t){return!0===(null===t||void 0===t?void 0:t.noClientTrading)}).length;return!(e["portfolio/portfolioAccounts"].length>0&&(i==e["portfolio/portfolioAccounts"].length||!n.portfolio.hasBrokerageAccess))},en=function(t,e){var n={};return e.selectedAcctIds.forEach(function(t){n[t]=!0}),e.selectedAcctIds.forEach(function(t){n[t+"F"]&&(n[t+"F"]=!1)}),Object.keys(n).filter(function(t){return n[t]})},nn=function(t){return t.ssoValidated},rn=function(t){return t.optionCombo},on=function(t){return t.balanceSummary&&t.balanceSummary.total},cn=function(t,e){return e["iserverData/connected"]},un=function(t,e){return e["iserverData/accounts"]},sn=function(t){return t.user&&t.user.applicants?t.user.applicants:[]},an=function(t,e){if(0===e.applicants.length)return"";var n=e.applicants[0].legalCountry;return n&&n.alpha3||""},ln=function(t,e){if(0===e.applicants.length)return"";var n=e.applicants[0].legalCountry;return(null===n||void 0===n?void 0:n.name)||""},dn=function(t){return!!t.fromMobile||t.sso&&/IBKR/.test(t.sso.CLIENT_APP)},fn=function(t){return t.sso&&/(TWS|IBKR)/.test(t.sso.CLIENT_APP)},pn=function(t){return t.sso||{}},mn=function(t){return t.showInBase},vn=function(t){return"alpha"===window.env},hn=function(t){return"beta"===window.env},Sn=function(t,e,n){var r=n.portfolio.accountMeta;return r&&r.master&&r.master.id},bn=function(t){return t.user&&t.user.has2fa||void 0},gn=function(t){return t.sso&&t.sso.IS_FREE_TRIAL},En=function(t){var e=$t(t);if(void 0!==e){var n=Object.keys(e);if(1===n.length)return e[n[0]]&&e[n[0]].clearingStatus}return!1},yn=function(t,e){return t.user&&t.user.showForum||"O"===e.clearingStatus},_n=function(t){var e=$t(t);return void 0!==e&&0===Object.keys(e).length},Tn=function(t){var e=$t(t);if(void 0!==e){var n=Object.keys(e);if(1===n.length)return e[n[0]]&&e[n[0]].openDate}},An=function(t){var e=$t(t);if(void 0!==e){var n=Object.keys(e);if(1===n.length)return e[n[0]]&&e[n[0]].isFunded}return!1},On=function(t){var e=void 0;return gn(t)?Tn(t)&&(e=$date.local(Tn(t))):Ht(t)&&(e=$date.local(Ht(t))),!!(e&&$date.local().diffDays(e)<7)},wn=function(t){if(Ht(t)){var e=$date.local(Ht(t));if($date.local().diffDays(e)<30)return!0}return!1},In=function(t){return t.faviconUrl},Cn=function(t){return t.notificationIconUrl},Pn=function(t){return t.isCurInComMd},Rn=function(t){return t.isCurInComMd&&t.isInCompleteConidSel},Nn=function(t){return t.pickerAccounts||[]},Dn=function(t,e){return e.userFeatures&&e.userFeatures.newMf||e.isAlphaEnv},Ln=function(t,e,n){var r=n.settings.cp.seenMFXDialog;return e["abFeatures/showMFExchange"]&&!e.isFreeTrial&&!r},Mn=function(t){return t.routeLoading},Fn=function(t,e){var n=e["am/pendingItemNum"];return e.showFyi&&(n+=e["fyi/fyiUnreadNum"]),e.showMessageCenter&&(n=n+e["am/amMessages"].length+e["am/amCorporateActions"].length),n},Un=function(t){return vn(t)||Fe(t)},kn=function(t){return t.privacyMode},jn=function(t){var e;return null===(e=t.accountProperties)||void 0===e?void 0:e.userProperties},Bn=function(t){var e;return null===(e=t.accountProperties)||void 0===e?void 0:e.accountProperties},xn=function(t,e){var n={displayName:"DAX",conid:825711,exchange:"ANYEXCH",id:"dax"},r=an(t,e);if(!r)return n;switch(r){case"FRA":return{displayName:"CAC40",conid:946200,exchange:"ANYEXCH",id:"cac40"};case"CHE":return{displayName:"SMI",conid:1328305,exchange:"ANYEXCH",id:"smi"};case"ESP":return{displayName:"IBEX",conid:13796838,exchange:"ANYEXCH",id:"ibex"};case"SWE":return{displayName:"OMXS30",conid:1328293,exchange:"ANYEXCH",id:"omxs30"};case"RUS":return{displayName:"RTX",conid:10758536,exchange:"ANYEXCH",id:"rtx"};case"ITA":return{displayName:"IMIB",conid:50916151,exchange:"ANYEXCH",id:"ftmib"};default:return n}},Hn=function(t){return"database offline"===t.amStatus},Wn=function(t,e){return!(!e["abFeatures/showEDDWarn"]||!e.protectProd)&&t.isAccountTaskPending},Gn=function(t,e){var n=e.selectedAcctId;if(!n)return[];var r=e["portfolio/accountSummary"].find(function(t){return t.acctId==n});if(!r)return[];var o=r.data.depositoncredithold;return o&&o.value?o.value.split(",").map(function(t){var e=t.split(":");return{currency:e[0],date:e[1],amount:parseFloat(e[2])}}):[]},Vn=function(t,e){var n=e.selectedAcctId;if(n&&0!=e.depositOnCreditHold.length){var r=e["portfolio/accountLedger"].find(function(t){return t.acctId==n});if(r&&r.data){var o={};for(var i in r.data)o[i]=r.data[i].exchangerate;return e.depositOnCreditHold.reduce(function(t,e){return t+=e.amount*o[e.currency]},0)}}},qn=function(t,e){var n,r="IBKEY"==(null===(n=e.sso)||void 0===n?void 0:n.QUALIFIED_FOR_MOBILE_AUTH),o=t.forceShowIBKeyWidget;return r||o},Yn=function(t){return t.forceShowIBKeyWidget},$n=function(t){return t.forceShowCryptoPopover},Kn=function(t){return t.forceShowNtwsPopover},Xn=function(t){return t.isTestingCryptoPos},zn=function(t){var e;return"true"===$util.cookie("IS_MASTER")||(null===(e=t.sso)||void 0===e?void 0:e.IS_MASTER)},Zn=function(t){return 0!=(1&t.sso.SSO_RESTRICTION)},Jn=function(t,e){return"PSPL_SG1"===e.wbId},Qn=function(t,e){return!!e["portfolio/portfolioAccounts"].length&&"IB-REF"===e["portfolio/portfolioAccounts"][0].type},tr=function(t){return t.supportEventContracts},er=function(t){var e,n=(null===(e=$util.cookie("partnerID"))||void 0===e?void 0:e.toUpperCase())||"";return n.includes("ZENITH")||n.includes("HSBCTEST")},nr=function(t,e){var n,r;return"biladglobl"===(null===(n=$util.cookie("partnerID"))||void 0===n?void 0:n.toLowerCase())||"alibilad_1"===(null===(r=e.wbId)||void 0===r?void 0:r.toLowerCase())},rr=function(t,e){return["cbatester","COMMSEC","COMMSEC_T1"].includes($util.cookie("partnerID"))||["COMMSEC","COMMSEC_T1","cbatester"].includes(e.wbId)},or=function(t){return"NTWS_LANDING"==new URLSearchParams(location.search).get("action")},ir=function(t,e){var n,r;return"riyad_2018"==(null===(n=e["am/amUser"])||void 0===n?void 0:null===(r=n.wbId)||void 0===r?void 0:r.trim().toLowerCase())},cr=function(t){return t.eligibleCourses&&t.eligibleCourses.length>0||"success"in t.completedCourses},ur=function(t,e){return e.isFaOrIbroker&&(e["abFeatures/allowShowOrderRef"]||e.isZenith)},sr=function(t,e){var n;if(e.isZenith)return((null===(n=$util.cookie("partnerID"))||void 0===n?void 0:n.toUpperCase())||"").includes("ZENITH_AU")?"https://www.hsbc.com.au/investments/worldtrader/#disclaimers":"ar"===$locale.current?"https://www.hsbc.ae/ar-ae/terms/world-trader-disclaimer/":"https://www.hsbc.ae/terms/world-trader-disclaimer/"},ar=function(t,e){var n;return e.isZenith&&("Disabled"==(null===(n=e.brandInfo)||void 0===n?void 0:n.customer_service_flag)||!e["abFeatures/showFAQBrowserWB"])},lr=function(t,e){return e["abFeatures/hideResearch"]||e.isRiyadSubs},dr=function(t,e){var n=["cbatester","COMMSEC","COMMSEC_T1"].includes($util.cookie("partnerID"));return e["abFeatures/hideAssets"]||e.isCommSec||n},fr=function(t,e){return e.isZenith||!e.isPhillipSecurities&&!e["iserverData/hideFXForCommSec"]},pr=function(t,e){return"/sso/resolver?"},mr=function(t,e){return(t.user||{}).fa||(e["iserverData/allowFeatures"]||{}).allowFA},vr=function(t,e){var n=e["abFeatures/etMode"],r=e.wbId,o="EventTrader",i="open_in_EventTrader",c="assets_ec",u="in_EventTrader",s="Events_tab_information";return 1==n?(o=r?"ForecastTrader":"IBKR ForecastTrader",i=r?"Open_in_ForecastTrader":"Open_in_IBKR_ForecastTrader",c="Event_and_Forecast_Contract",u=r?"in_ForecastTrader":"in_IBKR_ForecastTrader",s=r?"Forecasttrader_tab_information_wb":"Forecasttrader_tab_information"):2==n&&(o=r?"ForecastTrader":"IBKR ForecastTrader",i=r?"Open_in_ForecastTrader":"Open_in_IBKR_ForecastTrader_tm",c="Event_and_Forecast_Contract",u=r?"in_ForecastTrader":"in_IBKR_ForecastTrader_tm",s=r?"Forecasttrader_tab_information_wb":"Forecasttrader_tm_tab_information"),{appName:o,openInApp:i,ec:c,inApp:u,tabInfo:s}},hr=function(t,e){return e["abFeatures/showUkEsgLabel"]&&e["iserverData/isUkUser"]},Sr="";function br(t,e){return V(t,e)}function gr(t){return W(t)}var Er={authenticatePnl:function(){return W(Sr+"/pnl/auth/init")},getIbkrAmInfo:function(t){return br(Sr+"/portfolio/ibkram",{modelcodes:t})},getModels:function(t){return gr(Sr+"/portfolio2/"+t+"/models")},getPortfolioAccounts:function(){return gr(Sr+"/portfolio2/accounts")},getPortfolioSubaccounts:function(t){return gr(Sr+"/portfolio2/subaccounts"+(t?"?page=".concat(t):""))},getNlv:function(t,e){return gr(Sr+"/portfolio/"+t+"/nlv?model="+e)},getAllPositions:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gr(Sr+"/portfolio/"+t+"/positions?simple="+e)},getOslStatus:function(){return gr(Sr+"/portfolio2/osl/active")},getPositions:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"7D",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"name",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"a",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:30,u="?model=".concat(e,"&sort=").concat(o,"&direction=").concat(i,"&period=").concat(r,"&size=").concat(c);return gr(Sr+"/portfolio/"+t+"/positions/"+n+u)},getPortfolioPositionInfo:function(t,e){return gr(Sr+"/portfolio/"+t+"/position/"+e)},getPortfolioPositionsInfo:function(t){return gr(Sr+"/portfolio2/positions/"+t)},getPositionUpdates:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return br(Sr+"/portfolio/"+t+"/updates?since="+n,{model:e,conids:r,fields:o})},getPortfolioAllocation:function(t){return gr(Sr+"/portfolio/"+t+"/allocation")},getPortfolioPnl:function(t){return br(Sr+"/portfolio/pnl",{acctIds:t})},invalidatePositions:function(t){return br(Sr+"/portfolio/"+t+"/positions/invalidate")},invalidateAllPositions:function(){return br(Sr+"/portfolio/positions/invalidate")},postPortfolioAllocation:function(t,e){return br(Sr+"/portfolio/allocation",{acctIds:t,model:e})},subscribePortfolioUpdates:function(t,e){return br(Sr+"/portfolio/"+t+"/subscribe?refresh="+e)},unsubscribePortfolioUpdates:function(t){return br(Sr+"/portfolio/"+t+"/unsubscribe")},validateAccounts:function(t){return br(Sr+"/portfolio/validate",t)},getForexPairs:function(t){return br(Sr+"/portfolio/secdef",{conids:[t],contracts:!0})},getAccountSummary:function(t){return gr(Sr+"/portfolio2/"+t+"/summary")},getAccountLedger:function(t,e){return gr(Sr+"/portfolio2/"+t+"/ledger"+(e?"?model="+e:""))},getAccountMeta:function(t){return gr(Sr+"/portfolio/"+t+"/meta")},getComboPositions:function(t,e){return gr("/portfolio/"+t+"/combo/positions?nocache="+!!e)},getPositionMetals:function(t,e){return gr("/portfolio/"+t+"/positions/metals"+(e?"?model="+e:""))},getPositions2:function(t,e,n,r){var o="/portfolio2/".concat(t,"/positions");return e&&(o+="?model=".concat(e)),n&&r&&(o+="?sort=".concat(n,"&direction=").concat(r)),gr(o)},getPositions3:function(t,e){var n="/portfolio2/".concat(t,"/positions");return e&&(n+="?model=".concat(e)),gr(n)},getPnlPositions:function(t,e){return gr("/portfolio2/"+t+"/pnl?model="+e)},getIbkramModelInfo:function(t){return gr("/portfolio/ibkram?model="+t)},subscribePositions:function(t,e){var n=t.acctId,r=t.model,o=e.onUpdates;if(n){if(window.ibrt){var i="pls+"+n;return r&&(i+="+"+r),window.ibrt.subscribeArgs(i,"NEW_PNL",null,{onMessage:o})}console.error("subscribePositions: real-time api missing")}},unsubscribeAllPnl:function(t,e){return gr("/portfolio2/"+t+"/pnl/unsubscribe/all")},unsubscribePositions:function(t,e){if(t){var n="plu+"+t;return e&&(n+="+"+e),window.ibrt?window.ibrt.send(n):gr(Sr+"/portfolio2/"+t+"pnl/unsubscribe"+(e?"?model="+e:""))}}},yr=[];Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).RETRY_FUNC_TIMEOUT;function _r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{e&&e(n)}catch(e){console.error(t,e)}}var Tr=function(t){yr[t]=0};function Ar(t){return t&&t.response&&t.response.data?t.response.data.error:t.message}function Or(t,e,n){var r=wr(n);k.error("http failed "+t+" result "+wr(r))}function wr(t){var e;if("string"==typeof t)return t;var n=null===t||void 0===t?void 0:t.response;return n?(null===n||void 0===n?void 0:null===(e=n.data)||void 0===e?void 0:e.error)?n.data.error:500==(null===n||void 0===n?void 0:n.status)?"error: ".concat(n.status," | ").concat(n.statusText):408==(null===n||void 0===n?void 0:n.status)?"error: The system is unable to complete your request at this time.":(null===n||void 0===n?void 0:n.statusText)?"error: ".concat(n.status," | ").concat(n.statusText):"unknown error ".concat(n):(null===t||void 0===t?void 0:t.message)?t.message:"unknown error"}function Ir(t){"@babel/helpers - typeof";return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Cr=void 0;function Pr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pr(Object(n),!0).forEach(function(e){Nr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Nr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ir(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ir(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dr(t){if(null==t)throw new TypeError("Cannot destructure "+t)}function Lr(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}Lr(),Lr();var Mr=/.*;.*\//,Fr=0,Ur=0,kr=0,jr=!1,Br={},xr=null,Hr=null,Wr=null,Gr=null,Vr=null,qr=null,Yr=3e3,$r={id:"SNAPSHOT_FEE_ALERT",text:"We charge a small fee for every Snapshot Market Data request you make.",title:"Cost Reminder",url:"https://www.interactivebrokers.com/en/index.php?f=14193#market-data-fees"},Kr={id:"SNAPSHOT_EXCESSIVE_USAGE_WARNING",text:"Snapshot market data service is not meant to replace real-time market data subscription.",title:"Snapshot Excessive Usage",url:"https://www.interactivebrokers.com/en/index.php?f=14193#market-data-display"},Xr=0,zr=null,Zr=!1;var Jr=function(t){var e=t.commit;t.dispatch,t.state;return new Promise(function(t,n){wt.getDefaultAccountPreset().then(function(n){e("SET_DEFAULT_ACCOUNT_PRESET",n.account),t((null===n||void 0===n?void 0:n.account)||"")}).catch(function(t){return n(t)})})},Qr=function(t){var e=t.commit,n=t.rootGetters;return new Promise(function(t,r){n.isFaOrIbroker?wt.getGlobalModels().then(function(n){e("SET_GLOBAL_MODELS",n),t(n)}).catch(function(t){console.error("Failed to fetch global models"),r(t)}):t({})})},to=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accountId);return new Promise(function(t,e){wt.setDefaultAccountPreset(r).then(function(e){n("SET_DEFAULT_ACCOUNT_PRESET",r),t(e)}).catch(function(t){return e(t)})})},eo=function(t,e){t.commit,t.dispatch,t.state;var n=e.accountId;return new Promise(function(t,e){wt.getDynamicAccounts(n).then(function(e){return t((null===e||void 0===e?void 0:e.matchedAccounts)||[])}).catch(function(t){return e(t)})})};function no(t,e){var n=t.commit,r=e.accountId;null!=Hr&&Hr.stop(),(Hr=new Tt("snapshot orders",{interval:Yr},function(){return wt.getOrders(!1,r).then(function(t){t.orders&&n(O,t.orders),t.snapshot&&(kr=0,Hr&&Hr.stop())}).catch(function(t){++kr>=3&&(console.error("Failed to fetch orders snapshot. Request failed ".concat(kr,". Stopped polling.")),Hr&&Hr.stop()),console.error("Failed to get orders snapshot ",t)})})).start()}function ro(t,e){4===t.incrementType?(e.ticks=!0,e.increment=t.incrementRules[0].increment,e.condition_value=$num.parseTicks(e.conditions[0].condition_value)):e.condition_value=Number(e.conditions[0].condition_value)}function oo(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!t.loginInfo.accounts||o?(console.debug("Iserver Info",r.serverInfo),console.debug("Iserver Accounts Received. Stopping polling...",r.accounts),k.instance().register({source:"iserver",type:"ui-accts-resp","value-int":$date.now()-t.loginStartTime}),e(w,r.selectedAccount),e(I,r),n("setIserverAccountsAsPickerAccounts",{},{root:!0}),n("getGlobalModels",{})):console.debug("Iserver Accounts data already set.")}var io=function(t,e){t.commit,t.dispatch,t.state;var n=e.orderId,r=e.onSuccess,o=e.onError;wt.getOrderStatus(n).then(function(t){_r("order-status",r,t)}).catch(function(t){_r("order-status",o,t),Or("get order status",0,t)})},co=function(t,e){var n=t.dispatch,r=t.commit,o=t.state;console.debug("on iserver auth status auth",e);var i=o.status.authenticated!=e.authenticated||o.status.competing!=e.competing;r("SET_AUTH_STATUS",e),i&&n("onLoggedIn",e)},uo=function(t){var e=t.dispatch,n=(t.state,t.getters),r=t.commit;if(console.debug("retry ssodh, authenticated: ",n.connected),jr=!1,n.connected)return r("SET_ISERVER_LOGGING_IN_STATUS",!1),void console.debug("retry ssodh: already authenticated");try{setTimeout(function(){return e("startSSODH")},3e3)}catch(t){console.debug(t)}},so=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.onSuccess,c=void 0===i?null:i,u=e.onError,s=void 0===u?null:u,a=e.force,l=void 0!==a&&a;null!=zr&&zr.stop(),Fr=0,(zr=new Tt("iserverAccounts",{interval:5e3},function(){return new Promise(function(t,e){wt.getAccounts().then(t).catch(e)}).then(function(t){o.loginInfo.accounts&&!l?(zr.stop(),r("getDefaultAccountPreset"),_r("get-iserver-accounts",c,t)):t&&t.accounts&&t.accounts.length?(zr.stop(),r("getDefaultAccountPreset"),oo(o,n,r,t,l),_r("get-iserver-accounts",c,t)):Fr++>=9?(console.error("Failed to fetch iserver accounts after ".concat(Fr," attempts. Stopping polling...")),zr.stop(),_r("get-iserver-accounts",s,t)):0===Object.keys(t).length&&(n(w,""),n(I,{}))}).catch(function(t){Fr++>=9&&(console.error("Failed to fetch iserver accounts after ".concat(Fr," attempts. Stopping polling...")),zr.stop(),_r("get-iserver-accounts",s,t))})},function(t){console.error("Failed to dispatch request to get iserver accounts"),_r("get-iserver-accounts",s,t)})).start()},ao=function(t,e){var n=t.commit,r=t.dispatch,o=t.state;Dr(e),A.setUnsolicitedHandlers([{topic:"act",type:"ACCOUNTS",args:"",handlers:[{onMessage:function(t){var e;t&&t.args&&(oo(o,n,r,t.args),(null===(e=t.args)||void 0===e?void 0:e.acctProps)&&function(t,e,n){e(C,n.acctProps)}(0,n,t.args))}}]},{topic:"sts",type:"AUTH",args:"",handlers:[{onMessage:function(t){t&&t.args&&n("SET_AUTH_STATUS",t.args)}}]},{topic:"blt",type:"BULLETIN",args:"",handlers:[{onMessage:function(t){t&&t.args&&n("SET_BULLETINS",t.args)}}]},{topic:"ntf",type:"NOTIFICATION",args:"",handlers:[{onMessage:function(t){t&&t.args&&n("SET_NOTIFICATIONS",t.args)}}]},{topic:"system",type:"SYSTEM",args:"",handlers:[{onMessage:function(t){t&&n("SET_SYSTEM_MESSAGE",t)},onSubscribed:function(t){t&&n("SET_SYSTEM_MESSAGE",t)}}]}])},lo=function(t){var e,n=t.state.hardwareInfo;if(!jr)return jr=!0,t.commit("SET_ISERVER_LOGGING_IN_STATUS",!0),(null===(e=t.rootState.common)||void 0===e?void 0:e.authTokenCreated)?(Ur=0,void setTimeout(function(){return t.dispatch("startIServerSSODH",n)},1e3)):Ur++>2?(t.commit("SET_ISERVER_LOGGING_IN_STATUS",!1),console.error("couldn't authenticate to brokerage"),void console.debug("service ssodh, retries exceeded. Returning.")):void console.debug("service ssodh, retry:",Ur,"wait:",jr);console.debug("Service ssodh,waiting. Request Not sent")},fo=function(t,e){var n,r=t.dispatch,o=t.commit,i=t.state,c=t.getters,u=t.rootState;if(console.debug("start iserver ssodh",i.ssoDH,"compete",i.compete),e&&i.hardwareInfo!=e&&(i.hardwareInfo=e),!i.ssoDH&&!i.ssoDH.username)return console.error("ssodh missing",i.ssoDH),o("SET_ISERVER_LOGGING_IN_STATUS",!1),void(jr=!1);if(c.authenticated&&!i.compete)return console.debug("start ssodh: authenticated"),jr=!1,void o("SET_ISERVER_LOGGING_IN_STATUS",!1);var s="en"===window.IB_LANG?"en_US":window.IB_LANG;c.isDev||c.isAlphaEnv||(s="en_US"),wt.ssoDHinit(i.ssoDH.username,i.compete,null===(n=u.common)||void 0===n?void 0:n.authTokenCreated,s,e,i.compete).then(function(t){return console.debug("ssodh init",t),t.wait?(console.debug("ssodh waiting to retry"),void setTimeout(function(){return r("startIServerSSODH",e)},1e4)):t.authenticated||t.passed?(jr=!1,o("SET_ISERVER_LOGGING_IN_STATUS",!1),void r("onIserverAuthStatus",t)):void 0}).catch(function(t){var e;console.error("failed ssodh init",wr(t));var n=null===t||void 0===t?void 0:t.response;400===(null===n||void 0===n?void 0:n.status)&&(null===n||void 0===n?void 0:null===(e=n.data)||void 0===e?void 0:e.display)?(r("onAuthStatus",{displayError:n.data.error}),o("SET_ISERVER_LOGGING_IN_STATUS",!1)):r("retrySSODH")})},po=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,t.rootGetters),i=e.compete,c=void 0===i||i;o.hasSso?(n("SET_COMPETE",c),console.debug("compete",c),r("startSSODH")):(wt.compete().catch(function(t){return Cr.sent=!1}),setTimeout(function(){return Cr.sent=!1},1e4))},mo=function(t){var e=t.commit,n=t.dispatch,r=(t.state,t.rootGetters);console.debug("login iserver, has sso ",r.hasSso),e("ISERVER_LOGIN_START_TIME"),r.hasSso?wt.status().then(function(t){return n("onIserverAuthStatus",t)}).catch(function(t){return n("startSSODH")}):wt.autologon().then(function(t){return n("onIserverAuthStatus",t)}).catch(function(t){return setTimeout(function(){return n("login")},3e3)})},vo=function(t,e){var n=e.authenticated,r=e.competing,o=void 0===r?void 0:r;e.connected;console.debug("on status changed, authenticated",n,"competing",o),n?(Tr("iserver-login"),Tr("iserver-ssodh")):t.dispatch("startSSODH"),t.dispatch("triggerEvent",{name:"ON_ISERVER_AUTHENTICATED",component:null,payload:{authenticated:n,competing:o}},{root:!0})},ho=function(t,e){var n=e.id,r=e.value;return wt.setClientStatus(n,r)},So=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters),o=t.getters,i=e.conids,c=(e.since,e.fields),u=e.backout,s=void 0===u||u,a=(e.onSuccess,e.onError),l=e.useNewMD,d=void 0!==l&&l,f=r.realtime;if(void 0!==f){i=i.map(function(t){return t+""});for(var p=function(t){var e;(null===(e=t=Array.isArray(t)?t[0]:t)||void 0===e?void 0:e.conidEx)&&(t.conid=t.conidEx,n("SET_MARKET_DATA",{conid:t.conid,data:t}))},m=0;m<i.length;m++){var v=i[m];Br[v]=(Br[v]||0)+1,d?f?Lt.newSubscribeUpdates({conid:v,tempo:1e3,fields:c},{onUpdates:p}):Lt.getNewSnapshot({conids:[v],fields:c}).then(p):f?Lt.subscribeUpdates({conid:v,tempo:1e3,fields:c,backout:s},{onUpdates:p}):o.authenticated&&o.accounts.length?Lt.getSnapshot({conids:[v],fields:c,backout:s}).then(p):_r("iserver-not-connected",a,null)}}else console.error("Transport mode unknown. Couldnt subscribe market data",i)},bo=function(t){var e=t.commit;t.dispatch,t.state;return Er.getOslStatus(),new Promise(function(t,n){wt.getOslStatus().then(function(n){e("SET_OSL_STATUS",n.active),t(n)}).catch(function(t){n(wr(t))})})},go=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accountField),o=e.accountId;return new Promise(function(t,e){wt.getStructuredProperty(r).then(function(e){e.accountId=o,n("SET_STRUCTURED_PROPERTY",{accountField:r,data:e}||{}),t(e)}).catch(function(t){e(wr(t))})})},Eo=function(t,e){var n=t.commit,r=t.dispatch,o=t.getters,i=(t.state,e.conids),c=e.retries,u=void 0===c?0:c,s=e.fields,a=e.backout,l=void 0===a||a,d=e.onSuccess,f=e.onError;if(i&&i.length)if(u>0&&3==u)f&&f();else if(o.authenticated&&o.accounts.length){i=i.map(function(t){return t+""});var p=[],m=[];Lt.getSnapshot({conids:i,fields:s,backout:l}).then(function(t){for(var e=0;e<t.length;e++){var o=t[e],c=o.conidEx,a=Mr.test(c);c&&(o.conid=o.conidEx,n("SET_MARKET_DATA",{conid:c,data:o})),"557335679"===c&&console.debug("osl conid:",c,o[6509],o),c&&(o[6509]||a)||"557335679"===c||"557335680"===c?m.push(i[e]):(p.push(i[e]),c||console.error("conid missing in get market data : ",o))}m.length>0&&(r("getMarketdata",{conids:m,fields:s}),0===p.length&&d&&_r("get order ticket market data",d,null)),p.length>0&&setTimeout(function(){r("getOrderTicketMarketdata",{conids:p,fields:s,retries:++u,onSuccess:d,onError:f})},1500)}).catch(function(t){r("getOrderTicketMarketdata",{conids:i,fields:s,retries:++u,onSuccess:d,onError:f})})}else f&&f();else console.error("getOrderTicketMarketdata called without conid(s)")},yo=function(t,e){t.commit,t.dispatch;for(var n=e.conids,r=[],o=0;o<n.length;o++){var i=n[o];Br[i]?Br[i]>1?(console.debug("More than one widget depends on the subscription. Unsubscribe skipped.",i),Br[i]-=1):(r.push(i),Br[i]=0):console.error("No active subscription for conid ",i)}r.length&&Lt.unsubscribeMarketData(r)},_o=function(t,e){t.commit,t.dispatch;var n=t.getters,r=t.rootGetters;return Dr(e),window.ibrt&&window.ibrt.clearSubscriptions("MD"),Br={},new Promise(function(t,e){r["abFeatures/showDirectMD"]&&Lt.newUnsubscribeAllMD().then(function(e){return t(e)}).catch(function(t){return e(t)}),n.connected?Lt.unsubscribeAllMarketData().then(function(e){return t(e)}).catch(function(t){return e(t)}):t()})},To=function(t,e){t.commit,t.dispatch,t.getters,t.rootGetters;var n=e.conid;return Lt.unsubscribeMarketData(n)},Ao=function(t,e){var n=t.commit;t.dispatch,t.state;Dr(e),null!=Gr&&Gr.stop(),(Gr=new Tt("subs md",{interval:Yr},function(){return Lt.getMarketData().then(function(t){t&&Array.isArray(t)&&t.forEach(function(t){t.conid=t.conidEx,n("SET_MARKET_DATA",{conid:t.conid,data:t})})}).catch(function(t){Or("get-marketdata",0,t)})})).start()},Oo=function(t,e){t.commit,t.dispatch,t.state;Dr(e),null!=Gr&&Gr.stop()},wo=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters),o=t.rootGetters,i=e.accountId,c=o.realtime;if(void 0!==c)if(c){if(!window.ibrt)return void console.error("iserver: add rt real-time api missing");no({commit:n},{accountId:i}),window.ibrt.subscribeArgs("sor","ORDERS",{},{onMessage:function(t){var e=(t||{}).args||[];n(O,e)}})}else null!=xr&&xr.stop(),(xr=new Tt("subs orders",{interval:Yr},function(){return wt.getOrders(!1,i).then(function(t){t.orders&&n(O,t.orders)}).catch(function(t){r.connected||null===xr||xr.stop(),Or("get-orders",0,t)})})).start();else console.error("Transport mode unknown. Couldnt subscribe orders")},Io=function(t,e){t.commit,t.dispatch,t.state;var n=e.force,r=e.accountId,o=e.onSuccess,i=e.onError;wt.getOrders(n,r).then(function(t){_r("get-orders",o,t)}).catch(function(t){_r("get-orders",i,t),Or("get-orders",0,t)})},Co=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accountId);wt.getOrders(!0,r).then(function(t){no({commit:n},{accountId:r})}).catch(function(t){Or("get-orders",0,t)})},Po=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters;Dr(e),!0===n.realtime&&window.ibrt&&(window.ibrt.subscribeArgs("uor","ORDERS",{},{onMessage:function(t){}}),window.ibrt.clearSubscriptions("ORDERS")),null!=xr&&xr.stop()},Ro=function(t,e){t.commit,t.dispatch,t.state,t.rootGetters;Dr(e),null!=xr&&xr.stop()},No=function(t,e){var n=t.commit;t.state;n("REMOVE_MODIFIED_ORDERS",e)},Do=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.force),o=e.accountId,i=e.status,c=e.onSuccess,u=e.onError;wt.getOrders(r,o,i).then(function(t){t.orders&&n(O,t.orders),_r("get-orders-with-status",c,t)}).catch(function(t){_r("get-orders-with-status",u,t),Or("get-orders-with-status",0,t)})},Lo=function(t){var e=t.commit;t.state;e("REMOVE_CANCELLED_OSDS_ORDERS")},Mo=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters);Dr(e);var o=r.realtime;if(void 0!==o)if(o){if(!window.ibrt)return void console.error("iserver: add rt real-time api missing");window.ibrt.subscribeArgs("spl","PNL",{},{onMessage:function(t){t&&t.args&&n("SET_UPNL",t.args)}})}else null!=Wr&&Wr.stop(),(Wr=new Tt("subs pnl",{interval:Yr},function(){return wt.getPnl().then(function(t){t.upnl&&n("SET_UPNL",t.upnl)}).catch(function(t){onError&&onError(t.response),Or("get-pnl",0,t)})})).start();else console.error("Transport mode unknown. Couldnt subscribe pnl")},Fo=function(t,e){t.commit,t.dispatch,t.state;Dr(e),wt.getPnl().then(function(t){_r("get-pnl",onSuccess,t)}).catch(function(t){onError&&onError(t.response),Or("get-pnl",0,t)})},Uo=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters;Dr(e),!0===n.realtime&&window.ibrt&&(window.ibrt.subscribeArgs("upl","PNL",{},{onMessage:function(t){}}),window.ibrt.clearSubscriptions("PNL")),null!=Wr&&Wr.stop()},ko=function(t,e){t.commit,t.dispatch,t.state,t.rootGetters;Dr(e),null!=Wr&&Wr.stop()},jo=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onError);null!=Vr&&Vr.stop(),(Vr=new Tt("subs md",{interval:Yr},function(){return wt.status().then(function(t){t&&n("SET_AUTH_STATUS",t)}).catch(function(t){r&&r(t.response),Or("get-auth-status",0,t)})})).start()},Bo=function(t,e){t.commit,t.dispatch,t.state;Dr(e),null!=Vr&&Vr.stop()},xo=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onSuccess),o=e.onError;wt.getBulletins().then(function(t){_r("get-bulletins",r,t),n("SET_BULLETINS",t)}).catch(function(t){o&&o(t.response),Or("get-bulletins",0,t)})},Ho=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.ids),o=e.onSuccess,i=e.onError;r||_r("mark-bulletin-as-read",i,null),n("MARK_BULLETINS_AS_READ",r),_r("mark-bulletin-as-read",o,null)},Wo=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.el),i=e.retries,c=void 0===i?0:i,u=e.onSuccess,s=void 0===u?null:u,a=e.onError,l=void 0===a?null:a;if(c>2)return gt(o),void _r("get briefing article",l,{});0===c&&bt(o),wt.getBriefingArticle().then(function(t){!t||t.error?r("getBriefingArticle",{el:o,retries:++c,onSuccess:s,onError:l}):(gt(o),n("SET_BRIEFING_ARTICLE",t),_r("get briefing article",s,t))}).catch(function(t){r("getBriefingArticle",{el:o,retries:++c,onSuccess:s,onError:l})})},Go=function(t,e){var n=t.state,r=t.commit,o=(t.dispatch,e.account),i=e.onSuccess,c=e.onError;o!==n.selectedAccount?(r("CLEAR_ISERVER_DATA",{}),r(w,void 0),wt.setAccount(o).then(function(t){r(w,o),console.debug("Account Switch: Account switched to ".concat(o)),i&&_r("account switch",i,null)}).catch(function(t){c&&_r("account switch",c,null)})):i&&_r("account switch",i,null)},Vo=function(t,e){t.state,t.getters;var n=t.commit,r=(t.dispatch,e.account),o=e.onSuccess,i=e.onError;n("CLEAR_ISERVER_DATA",{}),n(w,void 0),wt.setDynAccount(r).then(function(t){n(w,r),console.debug("Account Switch: Account switched to ".concat(r)),n(C,Nr({},r,t)),o&&_r("account switch",o,t)}).catch(function(t){i&&_r("account switch",i,null)})},qo=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.el),o=e.retries,i=void 0===o?0:o,c=e.sym,u=e.secType,s=e.referrer,a=e.onSuccess,l=void 0===a?null:a,d=e.onError,f=void 0===d?null:d;if(i>2)return gt(r),void _r("search by symbol",f,{});bt(r),wt.searchBySym(c,u,s).then(function(t){gt(r),!t||t.error?_r("search by symbol",f,t):_r("search by symbol",l,t)}).catch(function(t){gt(r),n("searchBySym",{el:r,sym:c,secType:u,referrer:s,retries:++i,onSuccess:l,onError:f})})},Yo=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.el),o=e.retries,i=void 0===o?0:o,c=e.symbol,u=e.conid,s=e.referrer,a=e.onSuccess,l=void 0===a?null:a,d=e.onError,f=void 0===d?null:d;if(i>2)return gt(r),void _r("search by symbol",f,{});bt(r),wt.searchMutualFunds(c,u,s).then(function(t){gt(r),!t||t.error?_r("search by symbol",f,t):_r("search by symbol",l,t)}).catch(function(t){gt(r),n("searchMutualFunds",{el:r,symbol:c,conid:u,referrer:s,retries:++i,onSuccess:l,onError:f})})},$o=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.linkTypes);return new Promise(function(t,e){wt.getLinks(r).then(function(e){n("SET_LINKS",e),t(e)}).catch(function(t){e(t)})})},Ko=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters),o=e.el,i=e.conid,c=e.persist;bt(o);var u=r["abFeatures/useMdFarmRegsnapshot"],s=u?Lt:wt;return new Promise(function(t,e){s.getRegsnapshot(i).then(function(r){u&&++Xr%10==1&&n("SET_NOTIFICATIONS",[Xr>50?Kr:$r]),gt(o),r&&!r.error&&r[7066]?(t(r),c&&n("SET_REGSNAPSHOT",r)):e(r)}).catch(function(t){gt(o),e(t)})})},Xo=function(t,e){var n=t.commit;t.dispatch,t.state;Dr(e),n("CLEAR_REGSNAPSHOTS")},zo=function(t,e){t.commit,t.dispatch,t.state;var n=e.conid,r=e.isUnsubscribe;return new Promise(function(t,e){n&&"undefined"!==n?wt.setOEMode(n,r).then(function(e){t(e.result)}).catch(function(t){e(wr(t))}):e("Invalid conid")})},Zo=function(t,e){t.commit,t.dispatch,t.state;var n=e.conid,r=e.type,o=e.account,i=void 0===o?"":o;return new Promise(function(t,e){wt.getDebugPnl({conid:n,type:r,account:i}).then(function(e){t(e)}).catch(function(t){e(wr(t))})})},Jo=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.currency);wt.getCurrencyPairs(r).then(function(t){n("CURRENCY_PAIRS",t)}).catch(function(t){Or("currency pairs",0,t)})},Qo=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.conid);return new Promise(function(t,e){r?Mr.test(r)?t({}):wt.getContractInfo(r).then(function(e){n("SET_CONTRACT_INFO",e),t(e)}).catch(function(t){e(wr(t))}):e("Invalid conid: ".concat(r))})},ti=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=t.rootGetters,i=e.force,c=e.accountId,u=e.formatChildren;if(i||!Zr){var s=o.realtime;if(void 0!==s)if(s){if(!window.ibrt)return void console.error("iserver: add rt real-time api missing");Zr=!0,window.ibrt.subscribeArgs("str","TRADES",r.oslActive?c:{formatChildren:u},{onMessage:function(t){var e=(null===t||void 0===t?void 0:t.args)||[];n("SET_TRADES",e)}})}else null!=qr&&qr.stop(),qr=new Tt("subs trades",{interval:Yr},function(){return wt.getTrades(c,u).then(function(t){n("SET_TRADES",t||[])}).catch(function(t){Or("get-trades",0,t)})}),Zr=!0,qr.start();else console.error("Transport mode unknown. Couldnt subscribe trades")}},ei=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters;Dr(e),Zr&&(!0===n.realtime&&window.ibrt&&(window.ibrt.subscribeArgs("utr","TRADES",{},{onMessage:function(t){}}),window.ibrt.clearSubscriptions("TRADES")),null!=qr&&qr.stop(),Zr=!1)},ni=function(t,e){var n=t.commit;t.state;n("CCY_CHART_PAIR",e)},ri=function(t,e){var n=t.commit;t.state;n("SET_WATCHLISTMAP",{id:e.id,watchlistConids:e.watchlistConids})},oi=function(t,e){t.commit,t.dispatch,t.state;var n=e.data,r=e.onSuccess,o=e.onError;wt.getMDColumns(n).then(function(t){_r("get-market-data-fields",r,t)}).catch(function(t){_r("get-market-data-fields",o,t),Or("get market data fields",0,t)})},ii=function(t,e){t.commit,t.dispatch,t.state;var n=e.data;return new Promise(function(t,e){var r;wt.getPFMDColumns(null===n||void 0===n?void 0:null===(r=n.SELECTED)||void 0===r?void 0:r.join(",")).then(function(e){t(e)}).catch(function(t){Or("get portfolio market data fields",0,t),e(t)})})},ci=function(t,e){t.commit,t.dispatch,t.state;var n=e.data;return new Promise(function(t,e){var r;wt.getWLMDColumns(null===n||void 0===n?void 0:null===(r=n.SELECTED)||void 0===r?void 0:r.join(",")).then(function(e){t(e)}).catch(function(t){Or("get watchlist market data fields",0,t),e(t)})})},ui=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accountId);return new Promise(function(t,e){wt.getAvailableAlerts(r).then(function(e){n("SET_AVAILABLE_ALERTS",e),t(e)}).catch(function(t){Or("get available alerts failed",0,t),e(t)})})},si=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.alertsIds;o.loadedPriceAlertsData=!1;var c=[];return i.map(function(t){c.push(function(t){return new Promise(function(e,n){wt.getAlertDetails(t).then(function(t){e(t)}).catch(function(t){Or("get alerts details failed",0,t),n(t)})})}(t))}),new Promise(function(t,e){Promise.all(c).then(function(e){var i=e.filter(function(t){return 1===t.condition_size&&1===t.conditions[0].condition_type});(i=i.map(function(t){return Rr(Rr({},t),{},{conid:parseInt(t.conditions[0].conidex),condition_value:t.conditions[0].condition_value})})).forEach(function(e,c){var u;e.conid;(null===(u=o.orderRules)||void 0===u?void 0:u.key)?(ro(o.orderRules.key,e),c===i.length-1&&(n("SET_PRICE_ALERTS",i),t(i))):r("getOrderRules",{conid:e.conid+"",isBuy:!0}).then(function(r){ro(r,e),c===i.length-1&&(n("SET_PRICE_ALERTS",i),t(i))}).catch(function(t){console.error("Failed to get the order rules"+t)})})}).catch(function(t){console.log("Error in executing ".concat(error)),e(t)})})},ai=function(t,e){t.commit,t.dispatch,t.state;var n=e.accountId,r=e.alertId;return new Promise(function(t,e){wt.deleteAlert(n,r).then(function(e){t(e)}).catch(function(t){Or("delete alert failed",0,t),e(t)})})},li=function(t,e){t.commit,t.dispatch,t.state;var n=e.accountId,r=e.alertId,o=e.alertActive;return new Promise(function(t,e){wt.activateAlert(n,{alertId:r,alertActive:o}).then(function(e){t(e)}).catch(function(t){Or("activate alert failed",0,t),e(t)})})},di=function(t,e){t.commit,t.dispatch,t.state;var n=e.accountId,r=e.body;return new Promise(function(t,e){wt.createOrModifyAlert(n,r).then(function(e){t(e)}).catch(function(t){Or("create alert failed",0,t),e(t)})})},fi=function(t,e){var n=t.commit;t.state;n("SET_PRICE_ALERTS_DELIVERY_OPTIONS",e)},pi=function(t){t.commit;t.state.availableAlerts=[]},mi=function(t){var e=t.commit;t.dispatch,t.state;return new Promise(function(t,n){wt.getMtaAlert().then(function(n){e("SET_MTA_ALERTS",n),t(n)}).catch(function(t){Or("get mta alerts failed",0,t),n(t)})})},vi=function(t,e){var n=t.commit;t.state;n("SET_USER_TIMEZONE",e)},hi=function(t,e){var n=t.commit,r=t.state,o=t.dispatch;e&&(r.status.backendDown&&!e.backendDown?o("login",{}):e.backendDown&&(o("startMarketDataPolling",{}),o("stopPnlPolling",{}),o("stopOrdersPolling",{})),n("SET_AUTH_STATUS",e||{}))},Si=function(t,e){t.commit,t.dispatch,t.state;return new Promise(function(t,n){wt.getOrderRules(e).then(function(e){t(e)}).catch(function(t){n(wr(t)),Or("get order rules",0,t)})})},bi=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.conid),o=e.origin,i=e.time,c=e.tif,u=e.isBuy,s=e.orderType,a=e.isHsbcFXMsg;return new Promise(function(t,e){a?wt.getCryptoClarification("HSBC_FX",o,i,c,u,r,s).then(function(e){var n;e.text=null===e||void 0===e?void 0:null===(n=e.text)||void 0===n?void 0:n.replace("<a",'<a target="_blank"'),t(e)}).catch(function(t){e(t)}):n("getContractInfo",{conid:r}).then(function(t){return wt.getCryptoClarification(null===t||void 0===t?void 0:t.contract_clarification_type,o,i,c,u,r,s)}).then(function(n){var r=null===n||void 0===n?void 0:n.text;r||e("Empty Response");var o=new RegExp("<a.*/a>");if(o.test(r)){var i=r.match(/href="([^"]*)/)[0].split("/").pop(),c=" [More Information](javascript:onebar.openFAQ\\({tag:"+JSON.stringify(i)+"}\\))";c=$markdown.toHTML(c).replace("<p>","<span>").replace("</p>","</span>"),r=r.replace(o,""),t(r+=c)}else t(r)}).catch(function(t){e(t)})})},gi=function(t,e){var n=t.commit;t.state,t.dispatch;e&&n("SET_AUTH_STATUS",e||{})},Ei=function(t,e){var n=t.commit;t.state,t.dispatch;return new Promise(function(t,e){wt.logout().then(function(e){n("SET_AUTH_STATUS",{authenticated:!1}),t()}).catch(function(t){e(t)})})},yi=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters,r=e.conid,o=e.period,i=e.bar,c=e.outsideRth,u=e.startTime,s=e.direction,a=e.onSuccess,l=e.onError,d=n.realtime,f=n["abFeatures/showDirectHMDS"];r+="";var p=function(t){_r("get-history-data",a,t)},m=function(t){_r("get-history-data",l,t)};d?f?Lt.getHistoryDataDirectHMDS({conid:r,period:o,bar:i,outsideRth:c,startTime:u,direction:s},{onUpdates:p,onHistoryDataError:m}):Lt.getHistoryDataIserver({conid:r,period:o,bar:i,outsideRth:c,startTime:u,direction:s},{onUpdates:p,onHistoryDataError:m}):(f?Pt:wt).getPriceHistory(r,o,"","",i,c,u,s).then(function(t){_r("get-history-data",a,t)}).catch(function(t){_r("get-history-data",l,t)})};function _i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,u=[],s=!0,a=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(a)throw o}}return u}}(t,e)||Ai(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ti(t){return function(t){if(Array.isArray(t))return Oi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ai(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(t,e){if(t){if("string"==typeof t)return Oi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(t,e):void 0}}function Oi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wi=function(t){return t.upnl||{}},Ii=function(t){return t.marketData&&t.marketData[-26]||{}},Ci=function(t){return t.status&&t.status.authenticated},Pi=function(t){var e;return null===(e=t.status)||void 0===e?void 0:e.backendDown},Ri=function(t){return!!t.status&&(void 0!==t.status.authenticated&&void 0!==t.status.connected&&void 0!==t.status.competing?!0===t.status.authenticated&&1==t.status.connected&&!1===t.status.competing:void 0)},Ni=function(t){return t.status||{}},Di=function(t){return t.status.prompts||[]},Li=function(t){return t.marketData||{}},Mi=function(t,e){if(e.allowDynAccount){var n=(e.loginInfo.accounts||[]).filter(function(e){return e!==t.selectedAccount&&("ALL"===e.toUpperCase()||!(t.groups||[]).includes(e)&&!(t.profiles||[]).includes(e))});return t.selectedAccount&&"ALL"!=t.selectedAccount.toUpperCase()?[t.selectedAccount].concat(Ti(n)):n}return(e.loginInfo.accounts||[]).filter(function(e){return"ALL"===e.toUpperCase()||!(t.groups||[]).includes(e)&&!(t.profiles||[]).includes(e)})},Fi=function(t,e){return e.loginInfo.acctProps||{}},Ui=function(t,e){return e.loginInfo.chartPeriods||{}},ki=function(t,e){return e.loginInfo.aliases||{}},ji=function(t){return t.selectedAccount},Bi=function(t){return t.aliases&&t.aliases[t.selectedAccount]||t.selectedAccount},xi=function(t){return t.notifications||[]},Hi=function(t){return(t.orders||[]).filter(function(t){return t.status})},Wi=function(t){return t.bulletins||[]},Gi=function(t){return t.readBulletins||[]},Vi=function(t){return t.bulletins.filter(function(e){return-1===t.readBulletins.indexOf(e.id)})},qi=function(t,e){return e.pendingOrders.length},Yi=function(t){return t.orders&&t.orders.filter(function(t){return"Filled"===t.status||"Cancelled"===t.status||"Inactive"===t.status})||[]},$i=function(t){return t.orders&&t.orders.filter(function(t){return"Filled"!==t.status&&"Cancelled"!==t.status&&"Inactive"!==t.status})||[]},Ki=function(t,e){var n,r;return null===(n=(null===(r=e.pendingOrders)||void 0===r?void 0:r.filter(function(t){return!("CANCELLED"===t.status||"EXPIRED"===t.status||"REJECTED"===t.status||"REJECTED_NEW"===t.status||"PENDING_NEW"===t.status&&"FAILED_CREDIT_CHECK"===t.state||"CRYPTO"!==t.secType&&"CRYPTO"!==t.sec_type)}))||[])||void 0===n?void 0:n.length},Xi=function(t,e){for(var n=[],r={},o=0,i=0;i<e.executedOrders.length&&o<10;i++){var c=e.executedOrders[i],u=c.ticker+""+c.secType;if("Filled"===c.status&&!r[u]){r[u]=!0;var s={orderID:c.orderId,order:c};n.push(s),o++}}return n||[]},zi=function(t){var e="webkitSpeechRecognition"in window||"SpeechRecognition"in window;return k.instance().registerDaily({type:"ibot-show-mic",source:"Common","value-int":e?1:0}),e},Zi=function(t){return t.loginInfo||{}},Ji=function(t,e){return e.loginInfo.allowFeatures||{}},Qi=function(t,e){return e.loginInfo.groups||[]},tc=function(t,e){return e.loginInfo.profiles||[]},ec=function(t){return t.briefingArticle||{}},nc=function(t){return t.links||{}},rc=function(t){return t.links&&t.links.gfis||""},oc=function(t,e){return e.allowFeatures&&e.allowFeatures.showGFIS||!1},ic=function(t,e){return e.allowFeatures&&e.allowFeatures.allowDynAccount||!1},cc=function(t,e){return e.allowFeatures&&e.allowFeatures.showEUCostReport||!1},uc=function(t,e){return e.allowFeatures&&e.allowFeatures.allowLiteUnderPro||!1},sc=function(t,e){var n;return null===(n=e.allowFeatures)||void 0===n?void 0:n.liteUser},ac=function(t,e){return e.allowFeatures&&e.allowFeatures.snapshotRefreshTimeout||30},lc=function(t,e){return e.allowFeatures&&e.allowFeatures.showWebNews},dc=function(t,e){return e.loginInfo.serverInfo||{}},fc=function(t,e){return e.allowFeatures&&e.allowFeatures.debugPnl},pc=function(t,e){return e.allowFeatures&&e.allowFeatures.allowFXConv},mc=function(t,e){return e.allowFeatures&&e.allowFeatures.research||!1},vc=function(t,e){return e.allowFeatures&&e.allowFeatures.allowTypeAhead||!1},hc=function(t,e){return e.allowFeatures&&e.allowFeatures.allowEventTrading||!1},Sc=function(t,e){return e.allowFeatures&&e.allowFeatures.showUkUserLabels||!1},bc=function(t){return t.currencyPairs},gc=function(t){return t.watchlistMap||{}},Ec=function(t,e){return!t.status.authenticated||t.status.competing||0===e.accounts.length},yc=function(t,e){return t.status.connected&&t.status.authenticated&&!t.status.competing&&e.accounts.length>0},_c=function(t){return t.loggingIn},Tc=function(t){var e;return null===(e=t.loginInfo)||void 0===e?void 0:e.sessionId},Ac=function(t){return t.exploreWls||[]},Oc=function(t){return t.watchlists||[]},wc=function(t,e){return e.allowFeatures&&e.allowFeatures.allowedAssetTypes||""},Ic=function(t,e){return e.allowFeatures&&e.allowFeatures.showImpactDashboard||!1},Cc=function(t,e){return e.allowFeatures&&e.allowFeatures.allowMTA},Pc=function(t,e){return e.allowFeatures&&e.allowFeatures.allowFinancialLens||!1},Rc=function(t){var e,n=[],r=new Set;return null===(e=t.trades)||void 0===e||e.forEach(function(t,e){var o=t.execution_id.split("."),i=o[0]+o[1]+o[2];if(r.has(i)){var c,u=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ai(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}(n.entries());try{for(u.s();!(c=u.n()).done;){var s=_i(c.value,2),a=s[0],l=s[1].execution_id.split(".");if(l[0]+l[1]+l[2]===i){parseInt(o[3])>parseInt(l[3])&&(n[a]=t);break}}}catch(t){u.e(t)}finally{u.f()}}else n.push(t),r.add(i)}),n.sort(function(t,e){return e.trade_time_r-t.trade_time_r})},Nc=function(t,e){var n,r;return e.selectedAccount&&(null===(n=e.acctProps)||void 0===n?void 0:null===(r=n[e.selectedAccount])||void 0===r?void 0:r.noFXConv)||!1},Dc=function(t,e){return e.allowFeatures&&e.allowFeatures.dayTif||!1},Lc=function(t,e,n,r){return e.noFXConv||r["abFeatures/hideAssets"]&&!e.allowFxConv},Mc=function(t){return t.status&&t.status.hardware_info},Fc={oslActive:void 0,selectedAccount:"",upnl:{},status:{authenticated:void 0,competing:void 0,connected:void 0,message:"",fail:"",prompts:[]},notifications:[],orders:[],trades:void 0,bulletins:[],readBulletins:[],marketData:{},compete:!1,links:{},ssoDH:{},briefingArticle:{},currencyPairs:{},contractInfo:{},ccyChartPair:void 0,defaultAccountPreset:"",watchlistMap:{},loggingIn:!1,availableAlerts:[],priceAlertsData:[],priceAlertsEmail:void 0,priceAlertsSwitch:!0,loadedPriceAlertsData:void 0,mtaAlerts:{},userTimeZone:void 0,loginInfo:{},exploreWls:[],watchlists:[],regSnapshots:{},loginStartTime:void 0,system:{},structuredProperty:{el:{},nl:{},TotalCashValue:{}},bboExchangeMap:{},hardwareInfo:void 0,globalModels:{}};function Uc(t){"@babel/helpers - typeof";return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var kc,jc,Bc=function(t,e){return new Promise(function(n,r){var o=window.username;if(o){var i=localStorage.getItem(o+"."+t);if(null===i||void 0===i)null!==e&&void 0!==e?("object"===("undefined"==typeof value?"undefined":Uc(value))?localStorage.setItem(o+"."+t,JSON.stringify(e)):localStorage.setItem(o+"."+t,e),n(e)):r("null");else{var c=i;try{c=JSON.parse(i)}catch(t){}n(c)}}else r("no username")})},xc=function(t,e){var n=window.username;return new Promise(function(r,o){n?("object"===Uc(e)?localStorage.setItem(n+"."+t,JSON.stringify(e)):localStorage.setItem(n+"."+t,e),r(e)):o("no username")})};function Hc(t){"@babel/helpers - typeof";return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Gc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wc(Object(n),!0).forEach(function(e){Vc(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wc(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Vc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Hc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hc(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qc={};window.MD_TIMEOUT_THRESHOLD=200;function Yc(t,e){if(e&&Array.isArray(e)){var n=e.map(function(t){return Gc(Gc({},t),{},{localUuid:$util.uuidv4()})});t.notifications=n}}var $c={namespaced:!0,state:Fc,getters:i,actions:o,mutations:(Vc(kc={},"SET_DEFAULT_ACCOUNT_PRESET",function(t,e){t.defaultAccountPreset=e}),Vc(kc,"SET_ISERVER_INFO",function(t,e){t.iserverInfo=e||{}}),Vc(kc,"SET_LINKS",function(t,e){t.links=e||{}}),Vc(kc,"SET_UPNL",function(t,e){t.upnl=e||{}}),Vc(kc,"SET_ISERVER_SSODH",function(t,e){t.ssoDH=e}),Vc(kc,"SET_COMPETE",function(t,e){t.compete=e}),Vc(kc,"SET_AUTH_STATUS",function(t,e){e&&(e.backendDown||m.a.set(t.status,"backendDown",!1),e.competing&&(t.loginStartTime=void 0),Object.keys(e).forEach(function(n){void 0!==e[n]&&t.status[n]!=e[n]&&(m.a.set(t.status,n,e[n]),console.debug("status changed",n,e[n]))}))}),Vc(kc,O,function(t,e){if(e)for(var n=function(){var n=e[r];if(!n)return 0;if(n.orderIdPersistent){var o=t.orders.findIndex(function(t){return t.orderIdPersistent==n.orderIdPersistent});if(-1!=o){var i=t.orders[o];return n.modSeq>i.modSeq&&m.a.set(t.orders,o,n),0}}var c=t.orders.findIndex(function(t){return t.orderId==n.orderId});if(-1!=c){var u=t.orders[c],s=Gc(Gc({},u),n);m.a.set(t.orders,c,s),"Filled"===n.status&&u.status&&"Filled"!==u.status&&Yc(t,[{id:"ORDER_EXECUTED",payload:s}])}else t.orders.push(n)},r=0;r<e.length;r++)n()}),Vc(kc,"REMOVE_MODIFIED_ORDERS",function(t,e){var n;t.orders=null===(n=t.orders)||void 0===n?void 0:n.filter(function(t){return!(null===e||void 0===e?void 0:e.includes(t.orderId+""))})}),Vc(kc,"REMOVE_CANCELLED_OSDS_ORDERS",function(t){var e;t.orders=null===(e=t.orders)||void 0===e?void 0:e.filter(function(t){return!("OSDS"===t.exchange&&("CANCELLED"===t.status||"EXPIRED"===t.status))})}),Vc(kc,"SET_BULLETINS",function(t,e){e&&(Array.isArray(e)?t.bulletins=e:t.bulletins.push(e))}),Vc(kc,"MARK_BULLETINS_AS_READ",function(t,e){e&&(t.readBulletins=t.readBulletins.concat(e.filter(function(e){return-1===t.readBulletins.indexOf(e)})),xc("read.bulletins",{timestamp:+$date.local(),value:t.readBulletins}))}),Vc(kc,"SET_MASTER_ID",function(t,e){t.masterId=e}),Vc(kc,"SET_OSL_STATUS",function(t,e){t.oslActive=e}),Vc(kc,w,function(t,e){t.selectedAccount=e}),Vc(kc,"SET_MARKET_DATA",function(t,e){var n=e.conid,r=e.data;if(r){var o=qc[n]||{};o[6509]&&"N"!==o[6509]&&"N"===r[6509]&&delete r[6509];var i=Gc(Gc({},o),r);qc[n]=i,i[7065]&&i[7067]&&m.a.set(t.bboExchangeMap,i[7065],i[7067]),jc||(jc=setTimeout(function(){t.marketData=JSON.parse(JSON.stringify(qc)),jc=void 0},200))}}),Vc(kc,"CLEAR_ISERVER_DATA",function(t,e){!function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(e),jc&&(clearTimeout(jc),jc=void 0),qc={},t.marketData={},t.orders=[],t.trades=void 0,t.upnl={}}),Vc(kc,"SET_BRIEFING_ARTICLE",function(t,e){t.briefingArticle=e}),Vc(kc,"SET_NOTIFICATIONS",function(t,e){Yc(t,e)}),Vc(kc,"MARK_NOTIFICATION_AS_READ",function(t,e){!function(t,e){t.notifications.forEach(function(t){t.localUuid===e&&(t.read=!0)})}(t,e)}),Vc(kc,"CURRENCY_PAIRS",function(t,e){Object.keys(e).length&&Object.keys(e).forEach(function(n){m.a.set(t.currencyPairs,n,e[n])})}),Vc(kc,"SET_CONTRACT_INFO",function(t,e){e&&m.a.set(t.contractInfo,e.con_id,e)}),Vc(kc,"SET_TRADES",function(t,e){if(t.trades)for(var n=function(){var n,o=e[r],i=t.trades.findIndex(function(t){return t.execution_id==o.execution_id});i>=0?(void 0===o.vat_reported_amount&&void 0!==(null===(n=t.trades[i])||void 0===n?void 0:n.vat_reported_amount)&&(o.vat_reported_amount=t.trades[i].vat_reported_amount),m.a.set(t.trades,i,Gc(Gc({},t.trades[i]),o))):t.trades.push(o)},r=0;r<e.length;r++)n();else t.trades=e}),Vc(kc,"CCY_CHART_PAIR",function(t,e){m.a.set(t,"ccyChartPair",e)}),Vc(kc,"SET_WATCHLISTMAP",function(t,e){var n=e.id,r=e.watchlistConids;m.a.set(t.watchlistMap,n,r)}),Vc(kc,"SET_ISERVER_LOGGING_IN_STATUS",function(t,e){t.loggingIn=e}),Vc(kc,"SET_AVAILABLE_ALERTS",function(t,e){t.availableAlerts=e}),Vc(kc,"SET_PRICE_ALERTS",function(t,e){t.priceAlertsData=e}),Vc(kc,"SET_MTA_ALERTS",function(t,e){t.mtaAlerts=e}),Vc(kc,"SET_PRICE_ALERTS_DELIVERY_OPTIONS",function(t,e){void 0!==e.priceAlertsEmail&&(t.priceAlertsEmail=e.priceAlertsEmail),void 0!==e.priceAlertsSwitch&&(t.priceAlertsSwitch=e.priceAlertsSwitch)}),Vc(kc,"SET_USER_TIMEZONE",function(t,e){t.userTimeZone=e}),Vc(kc,I,function(t,e){t.loginInfo=e}),Vc(kc,"SET_SYSTEM_MESSAGE",function(t,e){t.system=Gc(Gc({},t.system),e)}),Vc(kc,"SET_STRUCTURED_PROPERTY",function(t,e){var n=e.accountField,r=e.data;m.a.set(t.structuredProperty,n,r)}),Vc(kc,C,function(t,e){var n;if(null===(n=t.loginInfo)||void 0===n?void 0:n.acctProps)for(var r in e)if(t.loginInfo.acctProps[r]){var o=Gc(Gc({},t.loginInfo.acctProps[r]),e[r]);m.a.set(t.loginInfo.acctProps,r,o)}else Object.assign(t.loginInfo.acctProps,e);else m.a.set(t.loginInfo,"acctProps",e)}),Vc(kc,"SET_USER_WLS",function(t,e){t.watchlists=e}),Vc(kc,"SET_SYSTEM_WLS",function(t,e){t.exploreWls=e}),Vc(kc,"SET_WL_INSTR",function(t,e){var n=e.id,r=e.instr,o=t.exploreWls.find(function(t){return t.id==n});o||(o=t.watchlists.find(function(t){return t.id==n})),o&&m.a.set(o,"instruments",r)}),Vc(kc,"SAVE_WATCHLIST",function(t,e){for(var n=-1,r=0;r<t.watchlists.length;r++)if(t.watchlists[r].id==e.id){n=r;break}n>=0?(m.a.set(t.watchlists[n],"id",e.id),m.a.set(t.watchlists[n],"hash",e.hash),m.a.set(t.watchlists[n],"name",e.name),e.rows&&m.a.set(t.watchlists[n],"instruments",e.rows)):t.watchlists.unshift(e)}),Vc(kc,"SET_REGSNAPSHOT",function(t,e){e&&e.conidEx&&m.a.set(t.regSnapshots,e.conidEx,e)}),Vc(kc,"CLEAR_REGSNAPSHOTS",function(t){t.regSnapshots={}}),Vc(kc,"ISERVER_LOGIN_START_TIME",function(t){t.loginStartTime||(t.loginStartTime=$date.now())}),Vc(kc,"SET_GLOBAL_MODELS",function(t,e){t.globalModels=e}),kc)},Kc="",Xc="build.qa"==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV||"qa"==window.env;var zc={autologon:function(){return V(Kc+"/iserver/auth/autologon")},getAllBalancesSummary:function(t){return V(Kc+"/pa/summary",{acctIds:t})},getCloudRead:function(t){var e=t.scanners,n=void 0===e?void 0:e,r=t.filename,o=void 0===r?void 0:r,i=t.portal,c=void 0===i?void 0:i,u=t.ext,s=void 0===u?void 0:u,a="";return n&&(a+="scanners=1"),o&&(a+="filename=portal."+o),c&&(a+="portal=1"),s&&c&&(a+="&ext="+s),W(Kc+"/wlms/cloud/read"+(a?"?"+a:""))},getCloudStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="?";return t&&(r+="md5base64="+t),e&&(r+="&ext="+e),n&&(r+="&bin="+n),W(Kc+"/wlms/cloud/store"+r)},getCloudDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";return t&&(e="?ext="+t),W(Kc+"/wlms/cloud/delete"+e)},getCompanyLogo:function(t){return W(Kc+"/benzinga/logos?conid="+t)},getCompetitors:function(){return W(Kc+"/portfolio/competitors")},getCorporateActionsMsg:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"AM";return W("".concat(document.location.origin,"/cstoolsws/cust.auth.cimibcs/hasCorporateActionMsg?userName=").concat(t,"&acctId=").concat(e,"&caElectionType=").concat(n,"&srcProcess=").concat(r))},getFundamentals:function(t){if(!isNaN(t))return W(Kc+"/iserver/fundamentals/"+t+"/summary")},getMktAm:function(t){return fetch(location.origin+"/mkt/am.php?id="+t).then(function(t){return t.text()}).then(function(t){return(new window.DOMParser).parseFromString(t,"text/xml")})},getAcctPnl:function(t){return W(Kc+"/iserver/account/"+t+"/pnl")},getMarketDataSubscriptions:function(){return W(Kc+"/ibcust/marketdata/subscriptions")},getNews:function(t,e){if(!isNaN(t))return W(e?Kc+"/iserver/news?conid="+t+"&more="+e:Kc+"/iserver/news?conid="+t)},getPortfolioNews:function(){return W(Kc+"/iserver/news/portfolio")},getNewsSources:function(){return W(Kc+"/iserver/news/sources")},getBriefingArticle:function(){return W(Kc+"/iserver/news/briefing")},getTopNews:function(){return W(Kc+"/iserver/news/top")},getNewsContent:function(t){return W(Kc+"/iserver/news/"+t+"/content")},getPerformanceData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12M",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return V(Kc+"/pa/performance",{acctIds:t,period:e,benchmarks:n,consolidate:r})},getPerformanceAllPeriods:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return V(Kc+"/pa/allperiods",{acctIds:t,model:e,benchmarks:n})},getTransactions:function(t){var e=t.acctIds,n=t.days,r=t.currency,o=t.conids,i=t.additional;return V(Kc+"/pa/transactions",{acctIds:e,days:n,currency:r,conids:o,additional:void 0===i?null:i})},getMarketIndices:function(){return W(Kc+"/markets/indices")},getSearchBySym:function(t){return V("/iserver/secdef/search",{symbol:t})},getSecdefInfo:function(t){return W("/iserver/secdef/info?conid="+t)},getSecdefs:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0==t||0==t.length)return Promise.reject("getSecdefs: empty conids");var n=t.map(function(t){return t+""});return V("/trsrv/secdef",{conids:n,contracts:e})},getSecdefSchedule:function(t,e,n){return W("/trsrv/secdef/schedule?assetClass=".concat(t,"&symbol=").concat(e,"&exchangeFilter=").concat(n))},getTimeInForceTypes:function(){return W(Kc+"/one/order/tifs")},getTrades:function(t){return W(Kc+"/iserver/account/trades",t)},getUser:function(){return W(Kc+"/one/acesuser")},logout:function(){return V(Kc+"/logout")},postOrderPreview:function(t,e){return V(Kc+"/iserver/account/"+t+"/order/whatif",e)},ssoDHresponse:function(t){return V(Kc+"/iserver/auth/ssodh/response",{response:t})},validateSso:function(){return W(Kc+"/sso/validate")},getFutureContracts:function(t){return W(Kc+"/trsrv/futures?symbols="+t)},getStockContracts:function(t){return W(Kc+"/trsrv/stocks?symbols="+t)},tickleSession:function(){return V(Kc+"/tickle")},apiGet:W,getSbuzzData:function(t){var e;return e=Xc?Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BRAND_BASE_URL+"/tws.proxy/sma/request?type=latest&conid="+t:"sma/request?type=latest&conid="+t,new Promise(function(t,n){dt.request(e,{}).then(function(t){return t.json()}).then(function(e){return t(e)}).catch(function(t){n(t)})})},apiPut:Y,apiPost:V,apiDelete:q,getReutersSections:function(t){return new Promise(function(e,n){W(Kc+"/reuters/sections?conid="+t).then(function(t){$c.getters.isUkUser&&t.push("ukuser"),St.getters.showMorningStar||(t=t.filter(function(t){return"fund_mstar"!=t&&"equity_mstar"!=t})),e(t)}).catch(function(t){n(t)})})},getAccountProperties:function(t){return V(Kc+"/properties",{accountIds:t})},getAuthorizedConsumers:function(){return Z.apiGet("/oauth/get_authorized_consumers")},deauthorizeConsumer:function(t){return Z.apiPost("/oauth/deauthorize",{consumer:t})},getTradableCurrencies:function(){return W("/trsrv/currencies")},sendTelemetry:function(t){var e,n=JSON.stringify(t);(e=Xc?Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BRAND_BASE_URL+"/tws.proxy/telemetry/authAdd":"telemetry/authAdd")&&dt.request(e,{method:"POST",body:n})},getImpactPosition:function(t,e){var n="impact/portfolio/position?conid=".concat(t,"&accounts=").concat(e,"&short=false");return Xc&&(n=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BRAND_BASE_URL+"/tws.proxy/"+n),new Promise(function(t,e){dt.request(n,{}).then(function(t){return t.json()}).then(function(e){return t(e)}).catch(function(t){e(t)})})},getConidsByExchange:function(t){return t?W("/trsrv/all-conids?exchange=".concat(t)):Promise.reject("getConidsByExchange: Exchange not specified")},getLearnAndEarnProducts:function(t){return W(Kc+"/acesws/"+t+"/learn-and-earn")},getIBSalesCourses:function(){return W("https://ndcdyn.interactivebrokers.com/IBSales/servlet/Services.LearnAndEarn?action=fetchtuid&userId="+$util.cookie("USERID"))}},Zc=zc;function Jc(t){"@babel/helpers - typeof";return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qc(Object(n),!0).forEach(function(e){eu(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function eu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Jc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jc(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.cmnApi=zc;var nu={name:"WSTable",props:{position:Array,view:Boolean},data:function(){return{loading:!0,error:void 0,time:void 0}},methods:{getNow:function(){var t=$date.iso($date.local());t=t.slice(0,t.length-5).replace(/-/g,"").replace(/T/," "),this.time=t}},computed:tu(tu({},Object(v.mapGetters)({md:"iserverData/marketData"})),{},{posMd:function(){return this.md[this.position[0].conid+"@EUIBSI"]||{}}}),mounted:function(){var t=this;setTimeout(function(){t.$emit("hideTable")},3e5)},watch:{"posMd.conid":{handler:function(){}},"posMd.88":{handler:function(){this.getNow()}},"posMd.84":{handler:function(){this.getNow()}},"posMd.85":{handler:function(){this.getNow()}},"posMd.86":{handler:function(){this.getNow()}}}},ru=(n(18),R(nu,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ib-col",{staticClass:"flex"},[n("ib-table-basic",{staticClass:"socket outsety-24 shrink",attrs:{data:t.position,root:"window","root-margin":"256px"},scopedSlots:t._u([{key:"empty",fn:function(){return[t.loading?n("ib-progress-linear"):t.error?n("p",{domProps:{textContent:t._s(t.$t("Failed_to_get_contracts"))}}):n("p",{domProps:{textContent:t._s(t.$t("No_contracts_found"))}})]},proxy:!0},{key:"body",fn:function(e){return[n("td",{attrs:{title:e.ticker}},[n("span",{staticClass:"end-8 text-bold",domProps:{textContent:t._s(e.ticker)}})]),n("td",{attrs:{title:e.desc}},[t._v(t._s(e.desc))]),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:t.posMd[88],expression:"posMd[88]",modifiers:{raw:!0}}],attrs:{title:t.posMd[88]||""}}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:t.posMd[84],expression:"posMd[84]",modifiers:{raw:!0}}],attrs:{title:t.posMd[84]||""}}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:t.posMd[86],expression:"posMd[86]",modifiers:{raw:!0}}],attrs:{title:t.posMd[86]||""}}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:t.posMd[85],expression:"posMd[85]",modifiers:{raw:!0}}],attrs:{title:t.posMd[85]||""}}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:t.time,expression:"time",modifiers:{raw:!0}}],attrs:{title:t.time}})]}}])},[n("ib-table-col",{attrs:{width:"8ch"}},[t._v(t._s(t.$t("ib_symbol"))+"    ")]),n("ib-table-col",{attrs:{width:"36ch"}},[t._v(t._s(t.$t("product_description")))]),n("ib-table-col",{attrs:{width:"16ch",numeric:""}},[t._v(t._s(t.$t("Bid_Size")))]),n("ib-table-col",{attrs:{width:"16ch",numeric:""}},[t._v(t._s(t.$t("Bid_Price")))]),n("ib-table-col",{attrs:{width:"16ch",numeric:""}},[t._v(t._s(t.$t("Ask_price")))]),n("ib-table-col",{attrs:{width:"16ch",numeric:""}},[t._v(t._s(t.$t("Ask_Size")))]),n("ib-table-col",{attrs:{width:"24ch",numeric:""}},[t._v(t._s(t.$t("time")))])],1)],1)},[],!1,null,null,null).exports),ou=n(15),iu=n.n(ou).a.create({timeout:15e3,withCredentials:!0}),cu=function(t,e,n){200==t.status?e(t.data):n(t.statusText)};var uu={getDescription:function(t){return function(t,e){return new Promise(function(n,r){iu.get(t,e).then(function(t){return cu(t,n,r)}).catch(function(t){return r(t)})})}("/portal.proxy/v1/mkt/trsrv/secdef?conids=".concat(t))}};function su(t){"@babel/helpers - typeof";return(su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function au(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?au(Object(n),!0).forEach(function(e){du(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):au(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function du(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=su(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==su(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fu=["88","84","85","86","31"],pu={name:"SiQuotes",components:{SearchTerm:N,WSTable:ru},data:function(){return{mainContracts:[],search:[],loading:!0,error:void 0,view:!1,position:null,subscribed:void 0,queuedTimeout:void 0}},created:function(){this.getConids()},computed:lu(lu({},Object(v.mapGetters)({md:"iserverData/marketData"})),Object(v.mapGetters)("options",["realtime"])),methods:lu(lu({},Object(v.mapMutations)("options",{setRealtime:"SET_ENABLE_REALTIME"})),{},{getConids:function(){var t=this;this.loading=!0,this.error=void 0,Zc.getConidsByExchange(this.getExchange()).then(function(e){t.initWs(),t.mainContracts=e}).catch(function(e){t.error=e}).finally(function(){t.loading=!1})},getDescription:function(t){var e=this,n=(t[0],t.map(function(t){return e.mainContracts[t].conid}).join(","));uu.getDescription(n).then(function(t){t.secdef.forEach(function(t,n){var r=e.mainContracts.find(function(e){return e.conid===t.conid}),o=e.mainContracts.findIndex(function(e){return e.conid===t.conid});t.conid===r.conid&&(Vue.set(e.mainContracts[o],"desc",t.name),Vue.set(e.mainContracts[o],"currency",t.currency))})}).catch(function(t){return console.error(t)})},getExchange:function(){return new URLSearchParams(window.location.search).get("siExchange")||"EUIBSI"},hideView:function(){this.view=!1},rowEnter:function(t){if(!this.mainContracts[t].searched){for(var e=Math.min(t+25,this.mainContracts.length-1),n=[],r=t;r<=e;r++)n.push(r),this.mainContracts[r].searched=!0;this.getDescription(n)}},viewTable:function(t){var e=this;this.position=[],this.position.push(t),this.view=!0,this.queuedTimeout=clearTimeout(this.queuedTimeout),window.ibrt&&window.ibrt.connected?this.subscribed!==t.conid&&(this.unsubscribe(),this.subscribed=t.conid,this.$store.dispatch("iserverData/getMarketdata",{conids:[this.subscribed+"@EUIBSI"],fields:fu})):this.queuedTimeout=setTimeout(function(){e.viewTable(t)},4e3)},unsubscribe:function(){window.ibrt&&window.ibrt.connected&&this.subscribed&&window.ibrt.ws.send("umd+"+this.subscribed+"@EUIBSI")},clearSearch:function(){this.search=[],this.view=!1,this.unsubscribe()},setSearch:function(t){var e=this;this.search=t,uu.getDescription(this.search[0].conid).then(function(t){Vue.set(e.search[0],"desc",t.secdef[0].name),Vue.set(e.search[0],"currency",t.secdef[0].currency)})},initWs:function(){var t=this;if(!window.ibrt){if(console.debug("Initialising websocket"),!("WebSocket"in window))return console.debug("Browser doesnt support websockets."),void this.setRealtime(!1);window.ibrt=A.instance(),window.ibrt&&window.ibrt.addEventListener(function(e){switch(console.debug("realtime socket event",e.event,e),e.event){case"open":console.debug("Websocket Initialised"),t.setRealtime(!0);break;case"close":console.debug("Websocket Closed"),t.setRealtime(!1)}})}}}),watch:{search:{handler:function(){this.search.length>0&&(this.view=!1,this.unsubscribe())}}}},mu=(n(38),{name:"index",data:function(){return{translations:{en:{Ask_Size:"Ask Size",Ask_price:"Ask price",Bid_Price:"Bid Price",Bid_Size:"Bid Size",Failed_to_get_contracts:"Failed to get contracts",Financial_Instrument:"Financial Instrument",No_contracts_found:"No contracts found",currency:"Currency",ib_symbol:"IB Symbol",more_details:"Click link for more details",of:"of",product_description:"Product Description",search_by_ticker:"Search by Ticker Symbol",showing:"Showing",ticker_exist:"This ticker symbol doesn't exist",time:"Time",valid_symbol:"Please use a valid ticker symbol"},de:"/lib/sbi/i18n/de.json",es:"/lib/sbi/i18n/es.json",fr:"/lib/sbi/i18n/fr.json",it:"/lib/sbi/i18n/it.json",ru:"/lib/sbi/i18n/ru.json",pt:"/lib/sbi/i18n/pt.json","zh-Hans":"/lib/sbi/i18n/zh-Hans.json","zh-Hant":"/lib/sbi/i18n/zh-Hant.json",ja:"/lib/sbi/i18n/ja.json",he:"/lib/sbi/i18n/he.json",ar:"/lib/sbi/i18n/ar.json"},title:""}},components:{SiQuotes:R(pu,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ib-col",{staticClass:"flex"},[n("SearchTerm",{attrs:{contracts:t.mainContracts},on:{clearRes:t.clearSearch,searchRes:t.setSearch}}),t.view?n("div",[n("WSTable",{ref:"wstable",attrs:{position:t.position,view:t.view},on:{hideTable:t.hideView}})],1):t._e(),n("ib-table-basic",{staticClass:"quotes",attrs:{data:t.search.length>0?t.search:t.mainContracts,root:"window","root-margin":"156px",rowstripe:"",rowborder:"",colborder:""},on:{enter:t.rowEnter},scopedSlots:t._u([{key:"body",fn:function(e){return[n("td",{attrs:{title:e.ticker}},[n("span",{staticClass:"end-8 text-bold",domProps:{textContent:t._s(e.ticker)}})]),n("td",{attrs:{title:e.desc},on:{click:function(n){return t.viewTable(e)}}},[n("span",{staticClass:"red",domProps:{textContent:t._s(e.desc)}})]),n("td",{attrs:{title:e.currency}},[n("span",{staticClass:"end-8 text-bold",domProps:{textContent:t._s(e.currency)}})])]}}])},[n("ib-table-col",{attrs:{width:"12ch",sticky:""}},[t._v(t._s(t.$t("ib_symbol"))+"    ")]),n("ib-table-col",{attrs:{width:"36ch"}},[t._v(t._s(t.$t("product_description"))+" ("+t._s(t.$t("more_details"))+")")]),n("ib-table-col",{attrs:{width:"12ch"}},[t._v(t._s(t.$t("currency"))+"    ")])],1)],1)},[],!1,null,null,null).exports},methods:{mount:function(t,e){window.sbiApp._isMounted||(console.debug("mount for the first time"),window.sbiApp.$mount());var n=document.getElementById(t);n?(n.innerHTML="",n.appendChild(window.sbiApp.$el),e&&(this.title=e)):this.$notify("Can't instantiate SI quotes app")}}}),vu=(n(40),R(mu,function(){var t=this.$createElement,e=this._self._c||t;return e("ib-application",{staticClass:"si-quotes-view",attrs:{layout:"full",translations:this.translations,row:"",grow:""}},[this.title?e("div",{staticClass:"insety-16",domProps:{textContent:this._s(this.title)}}):this._e(),e("SiQuotes")],1)},[],!1,null,null,null).exports),hu={accessibility:!1,amSessionId:"",authTokenCreated:!1,brandInfo:{},ssoValidated:!1,selectedAccounts:[],allAccounts:[],sso:{features:{}},balanceSummary:{},competitors:[],fundamentals:[],events:{ON_UAR_CHANGED:[],ON_USER:[],ON_SSO_VALIDATED:[],ON_LOGIN_FAILED:[],ON_NAVIGATE:[],ON_LOGOUT:[],ON_MOUNTED:[],ON_MOBILE_MENU:[],ON_ACCOUNT_SELECTOR:[],ON_USER_SETTINGS:[],ON_ISERVER_AUTHENTICATED:[],ON_SNAPSHOT_ALERT:[],ON_ORDER_EXECUTED:[],ACCOUNT_SELECTOR_ERROR:[],CALENDAR_OPEN_FILTERS:[],CALENDAR_GET_EVENTS:[],CALENDAR_RESET:[],CALENDAR_SYM_SEARCH:[],NEXT_FOCUS:[],PREVIOUS_FOCUS:[],SL_SYM_SEARCH:[],TOGGLE_PROMOTION:[],ON_CONTRACT_SELECTED:[],ON_OPEN_DIALOG:[],"*":[]},optionCombo:{},markets:[],marketData:{},secdefData:{},marketsInfo:[],marketHistory:{},news:[],newsContent:[],performance:{},period:"1Y",pnl:[],upnl:{},positions:[],positionsTotalNum:[],priceHistory:[],rates:{},user:{username:"",uar:{portfolioAnalyst:!1,userInfo:!1,messageCenter:!1,accountDetails:!1,tradingRestrictions:!1,tws:!1,fyi:!1,voting:!1,forum:!1},features:{qt:!1,ibot:!1},props:{ReadOnlySession:!1,isIBAMClient:!1},showForum:!1},features:Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}),uar:{portfolioAnalyst:!1},showInBase:!1,fromMobile:!1,isCurInComMd:void 0,isInCompleteConidSel:!1,faviconUrl:"",notificationIconUrl:"",pickerAccounts:[],routeLoading:!1,privacyMode:!1,accountProperties:void 0,amStatus:void 0,isAccountTaskPending:!1,forceShowIBKeyWidget:!1,forceShowCryptoPopover:!1,forceShowNtwsPopover:!1,isTestingCryptoPos:!1,tradableCurrencies:[],supportEventContracts:!1,cesConfig:[],authorizedConsumers:[],hmdsAuthenticated:!1,eligibleCourses:[],completedCourses:{},manVolCorporateActionMsg:!1,voluntaryCorporateActionMsg:!1},Su=function(){var t=window.env,e=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IBCUST_BASE_URL||"";switch(t){case"alpha":return"/ibcust.proxy/alpha/ibcust";case"beta":return"/ibcust.proxy/beta/ibcust";default:return e}}(),bu=function(t){return fetch(t,{credentials:"include"}).then(H)},gu=function(t,e){return fetch(t,{method:"post",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(H)};var Eu={getEmail:function(){return bu(Su+"/user/email")},getEntityInfo:function(){return bu(Su+"/entity/info")},getMarketDataSubscriptions:function(){return bu(Su+"/marketdata/subscriptions")},getUser:function(){return bu(Su+"/one/user")},saveEmail:function(t){return gu(Su+"/user/email",t)},sendEmail:function(t){return gu(Su+"/user/sendemail",t)},setUser:function(t){return bu(Su+"/inject?user="+t)},logout:function(){return gu(Su+"/logout")},getAccountStatus:function(t){return gu(Su+"/tasks/edd/status/",t)}};function yu(t){"@babel/helpers - typeof";return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_u(Object(n),!0).forEach(function(e){Au(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Au(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=yu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yu(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ou=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).CQE_BASE_URL||"",wu={"sso-service":"AM.LOGIN"},Iu=function(t){return fetch(Ou+t,{credentials:"include",headers:wu}).then(H)},Cu=function(t,e){return fetch(Ou+t,{method:"post",body:JSON.stringify(e),credentials:"include",headers:Tu({"Content-Type":"application/json; charset=utf-8"},wu)}).then(H)};function Pu(t,e){var n="platform=web&";for(var r in e)n+="".concat(r,"=").concat(e[r],"&");return Iu("/".concat(t,"?").concat(n))}var Ru={getLqdTrade:function(t){return Pu("explain_liquidation_trades",t)},getService:Pu,postService:function(t,e){var n=Tu({platform:"web"},e);return Cu("/".concat(t),n)},setHeader:function(t,e){return wu[t]=e,console.debug("setting cqe headers:",wu),wu}};window.cqeApi=Ru;var Nu=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BASE_IA_URL||"",Du=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IA_AGREEMENTS||"",Lu=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IA_PARTITION_SIGNUP||"",Mu=$util.cookie("USERID"),Fu="".concat(Mu?"&uid=".concat(Mu):"");var Uu={getAdvisorsPromoData:function(t,e){return W("".concat(Nu,"?partner=").concat(t).concat(e?"&source=".concat(e):"").concat(Fu))},getAdvisorsAgreementsData:function(t,e){return W("".concat(Du,"?partner=").concat(t).concat(e?"&source=".concat(e):"").concat(Fu))},startPartitionSignUp:function(t,e,n){return V("".concat(Lu,"?partner=").concat(e).concat(n?"&source=".concat(n):"").concat(Fu),{agreements:t})}};function ku(t){if(null==t)throw new TypeError("Cannot destructure "+t)}function ju(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Bu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ju(Object(n),!0).forEach(function(e){xu(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function xu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Hu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hu(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hu(t){"@babel/helpers - typeof";return(Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Wu,Gu=0,Vu=3,qu=/.*;.*\//,Yu=new Set,$u=function(t){var e={};return"object"!==Hu(t)?e:("boolean"==typeof t.fa&&(e.fa=t.fa),e)},Ku=function(t,e){var n=t.commit;t.dispatch,t.state;return n("TRIGGER_EVENT",e)},Xu=function(t,e){var n=t.commit;t.dispatch,t.state;return n("portfolio/SET_ACCOUNT_SUMMARY",e)},zu=function(t){var e=t.commit,n=t.dispatch,r=t.state,o=t.getters;if(0==Gu){var i=r.sso&&r.sso.USER_ID||0;Gu=setInterval(function(){return function(t,e,n){var r=t.commit,o=t.dispatch,i=(t.state,t.getters);return Zc.tickleSession().then(function(t){if(null===t||void 0===t||!t.redirected)return t;window.app.$alert(window.app.$t("tickle_reload_page"),{verb:window.app.$t("ok"),action:function(t){location.reload()},dismissable:!1})}).then(function(t){var n,c;r("SET_AM_STATUS",null===(n=t.amStatus)||void 0===n?void 0:n.status),i.partialServiceInterruption&&0==i.pickerAccounts.length&&0!=i["iserverData/accounts"].length&&o("iserverData/setIserverAccountsAsPickerAccounts",{}),o("iserverData/onAuthStatus",(null===(c=t.iserver)||void 0===c?void 0:c.authStatus)||{}),o("iserverData/onAuthStatus",{backendDown:!1}),0!=e&&t&&t.userId&&t.userId!=e&&(console.debug("user id mismatch",e,t.userId),window.app.$alert(window.app.$t("logged_out_by_another_session"),{action:function(){o("goToLoginPage",{})}}))}).catch(function(t){var e=function(t){var e;return(null===t||void 0===t?void 0:null===(e=t.response)||void 0===e?void 0:e.status)||0}(t);401==e?($util.cookie("CP_VER",null),o("goToLoginPage",{})):500==e&&o("iserverData/onAuthStatus",{backendDown:!0})})}({commit:e,state:r,dispatch:n,getters:o},i)},3e4)}},Zu=function(t,e){var n=t.commit;t.dispatch,t.state;return n("SET_FROM_MOBILE",e)},Ju=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.el),o=e.acctIds,i=e.onSuccess,c=e.onError;return bt(r),Zc.getAllBalancesSummary(o).then(function(t){n("SET_BALANCE_SUMMARY",t),_r("get all balance summary",i,t),gt(r)}).catch(function(t){_r("get all balance summary",c,t),Or("get all balance summary",0,t),gt(r)})},Qu=function(t,e){var n=t.commit;t.dispatch,t.state;return Zc.getCompetitors().then(function(t){n("SET_COMPETITORS",t),e&&e.onSuccess&&e.onSuccess()}).catch(function(t){e&&e.onError&&e.onError(t),Or("get competitors ",0,t)})},ts=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.username),o=e.accountId,i=e.caElectionType,c=e.srcProcess;return new Promise(function(t,e){Zc.getCorporateActionsMsg(r,o,i,c).then(function(e){(null===e||void 0===e?void 0:e.success)&&(null===e||void 0===e?void 0:e.hasCAMsg)&&("Vol"==i?n("SET_VOL_CORPORATE_MSG",null===e||void 0===e?void 0:e.hasCAMsg):"ManVol"==i&&n("SET_MANVOL_CORPORATE_MSG",null===e||void 0===e?void 0:e.hasCAMsg)),t(e)}).catch(function(t){Or("get corporate action message error",0,t),e(t)})})},es=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.conid),o=e.onSuccess,i=void 0===o?null:o,c=e.onError,u=void 0===c?null:c;return n("SET_FUNDAMENTALS",{conid:r,data:{}}),Zc.getFundamentals(r).then(function(t){t.error?_r("get-fundamentals",u,t):(n("SET_FUNDAMENTALS",{conid:r,data:t}),_r("get-fundamentals",i,t))}).catch(function(t){_r("get-fundamentals",u,t),Or("get fundamentals ",0,t)})},ns=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.conid),o=e.el,i=e.lastNewsId,c=e.onSuccess,u=void 0===c?null:c;return bt(o),Zc.getNews(r,i).then(function(t){gt(o),n("SET_NEWS",{conid:r,data:t}),u&&u(t)}).catch(function(t){gt(o),Or("get news ",0,t)})},rs=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.id,i=e.onSuccess,c=e.el;if(void 0===r.newsContent[o])return bt(c),Zc.getNewsContent(o).then(function(t){gt(c),t.id=o,n("SET_NEWS_CONTENT",{newsId:o,data:t}),i&&i()}).catch(function(t){gt(c),Or("get news content ",0,t)});i()},os=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctIds),i=e.period,c=e.benchmarks,u=e.el,s=e.onSuccess,a=e.onError,l=e.retry,d=void 0===l?1:l;return bt(u),Zc.getPerformanceData(o,i,c).then(function(t){n("SET_PERFORMANCE",t),t.tpps&&t.tpps.data[0]?n("SET_RATES",t.tpps.data[0]):Or("bad response data",0,t),_r("get performance data",s,t),gt(u)}).catch(function(t){gt(u),++d>3?(t.response&&t.response.data&&t.response.data.code&&(n("SET_PERFORMANCE",t.response.data),n("SET_RATES",t.response.data)),_r("get performance data",a,t),Or("get performance data ",0,t)):r("getPerformanceData",{acctIds:o,period:i,benchmarks:c,el:u,onSuccess:s,onError:a,retry:d})})},is=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.acctIds),o=e.period,i=e.benchmarks,c=e.el,u=e.onSuccess,s=e.onError,a=e.retry,l=void 0===a?1:a;return bt(c),Zc.getPerformanceData(r,o,i).then(function(t){_r("get performance data",u,t),gt(c)}).catch(function(t){gt(c),++l>3?(_r("get benchmark data",s,t),Or("get benchmark data ",0,t)):n("getBenchmarkData",{acctIds:r,period:o,benchmarks:i,el:c,onSuccess:u,onError:s,retry:l})})},cs=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctIds),i=e.model,c=e.el,u=e.benchmarks,s=e.onSuccess,a=e.onError,l=e.retry,d=void 0===l?1:l;return bt(c),Zc.getPerformanceAllPeriods(o,i,u).then(function(t){n("SET_PERFORMANCE",t),_r("get performance data for all periods",s,t),gt(c)}).catch(function(t){gt(c),++d>3?(t.response&&t.response.data&&t.response.data.code&&n("SET_PERFORMANCE",t.response.data),_r("get performance data for all periods",a,t),Or("get performance data for all periods",0,t)):r("getPerformanceAllPeriods",{acctIds:o,model:i,el:c,benchmarks:u,onSuccess:s,onError:a,retry:d})})},us=function(t,e){return Zc.getUser().then(function(n){if(!n||!n.username)throw"Missing username in response";n&&n.uar&&t.dispatch("triggerEvent",{name:"ON_UAR_CHANGED",component:null,payload:n.uar}),t.commit("SET_USER",n),t.getters.wbId?t.dispatch("getMktAm",{id:t.getters.wbId}):(t.commit("SET_NOTIFICATION_ICON_URL","static/cp_favicon196.png"),t.commit("SET_FAVICON_URL","static/cp_favicon32.png"),t.dispatch("getAuthorizedConsumers",{})),e&&e.onSuccess&&e.onSuccess(n);var r=$u(n);xc("acesuser",r),Vu=3}).catch(function(n){t.state.user&&t.state.user.username;if(Vu--,e&&e.onError&&e.onError(n),Or("get user failed",t.commit,n),Vu>0)setTimeout(function(){return t.dispatch("getUser",e)},3e3);else try{var r=Bc("acesuser",void 0),o=$u(r);t.commit("SET_USER",Bu(Bu(Bu({},t.state.user),o),{},{showForum:!0}))}catch(t){console.error("Failed to restore aces content: ".concat(t))}})},ss=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters),o=e.conid,i=e.period,c=e.bar,u=e.source,s=e.outsideRth,a=e.onSuccess,l=e.onError;return(r["abFeatures/showDirectHMDS"]?Pt:wt).getPriceHistory(o,i,"",u,c,s).then(function(t){t.data?(n("SET_PRICE_HISTORY",{conid:o,data:t}),a&&a()):l?(n("CLEAR_PRICE_HISTORY"),l(t)):Or("get price history ",0,result)}).catch(function(t){l&&l(t),Or("get price history ",0,t)})},as=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.region),o=e.onSuccess;return Zc.getRegionMarkets(r).then(function(t){n("SET_MARKETS",t),o&&o()}).catch(function(t){Or("get region markets ",0,t)})},ls=function(t,e){var n=t.commit;t.dispatch,t.state;return n("SET_UAR",e)},ds=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=t.getters,i=e.conids,c=e.onSuccess;e.onError;if(o["abFeatures/useCtciWatchlists"]||(i=(i||[]).filter(function(t){return!qu.test(t)})),0!==i.length){var u=i.filter(function(t){var e=!r.secdefData[t]&&!Yu.has(t);return e&&Yu.add(t),e})||[];if(0!==(null===u||void 0===u?void 0:u.length))return Zc.getSecdefs(u).then(function(t){var e=t&&t.secdef;if(e)for(var o=0;o<e.length;o++){var s=e[o];s instanceof Object&&0!=Object.keys(s).length&&(s.conid?n("SET_SECDEF_DATA",{conid:s.conid,data:s}):console.error("conid missing in get secdef data",t))}var a=i.map(function(t){return r.secdefData[t]}).filter(function(t){return void 0!=t});_r("action get secdef",c,a),fs(u)}).catch(function(t){fs(u)});var s=i.map(function(t){return r.secdefData[t]}).filter(function(t){return void 0!=t});_r("action get secdef",c,s)}},fs=function(t){t.forEach(function(t){Yu.has(t)&&Yu.delete(t)})},ps=function(t,e){var n=t.commit;return ku(e),new Promise(function(t,e){Zc.getTradableCurrencies().then(function(e){n("SET_TRADABLE_CURRENCIES",e),t(e)}).catch(function(t){Or("Failed to get tradable currencies",0,t),e(t)})})},ms=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.id);return Zc.getMktAm(r).then(function(t){window.wbAm=t;var e={};if(t){var r=t.getElementsByTagName("address");r&&r[0]&&(e.email=r[0].textContent);var o=t.getElementsByTagName("customer_service");o&&o[0]&&(e.customer_service=o[0].getAttribute("url"));var i=t.getElementsByTagName("customerServiceFlag");i&&i[0]&&(e.customer_service_flag=i[0].getAttribute("flag"));var c=t.getElementsByTagName("whitebranding_name");c&&c[0]&&(e.whitebranding_name=c[0].textContent);for(var u=t.getElementsByTagName("banner")||[],s=0;s<u.length;s++){var a=u[s],l=a&&a.getAttribute("name")||"",d=a&&a.getAttribute("src")||"";l&&d&&(e[l]=d)}}n("SET_BRAND_INFO",e),e.am_favinco&&n("SET_FAVICON_URL","/"+e.am_favinco)})},vs=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.accounts;e.onSuccess,e.onError;n("SET_SELECTED_ACCOUNTS",i);o.user&&o.user.username;return r("triggerEvent",{name:"ON_SELECTED_ACCOUNTS",component:null,payload:i})},hs=function(t,e){var n=t.commit;return ku(e),new Promise(function(t,e){Zc.getAuthorizedConsumers().then(function(e){n("GET_AUTHORIZED_CONSUMER",e),t(e)}).catch(function(t){Or("Failed to get authorized consumers",0,t),e(t)})})},Ss=function(t,e){var n=t.commit,r=e.consumer;return new Promise(function(t,e){Zc.deauthorizeConsumer(r).then(function(e){n("DEAUTHORIZE_CONSUMER",r),t(e)}).catch(function(t){Or("Failed to get deauthorize consumer",0,t),e(t)})})},bs=function(t,e){return t.commit("SET_SSO_VALIDATED",e),t.dispatch("triggerEvent",{name:"ON_SSO_VALIDATED",component:null,payload:e})},gs=function(t,e){t.state;var n=t.commit;t.dispatch;return n("SET_EVENT_LISTENERS",e)},Es=function(t,e){t.commit,t.dispatch,t.state;var n=e.symbols,r=e.onSuccess,o=e.onError;return Zc.getFutureContracts(n).then(function(t){t.error?_r("getOverview: get overview",o,{}):_r("getOverview: get overview",r,t)}).catch(function(t){_r("getOverview: get overview",o,{}),Or("getOverview: get overview",0,t)})},ys=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accts),o=e.onSuccess,i=e.onError;r?(n("SET_PICKER_ACCOUNTS",r),_r("storePickerAccounts: success",o,{})):_r("storePickerAccounts: invalid accounts",i,{})},_s=function(t,e){var n=t.commit;t.dispatch,t.state;return n("ROUTE_LOADING",e.status)},Ts=function(t,e){var n=t.commit;t.dispatch,t.state;return n("PRIVACY_MODE",e.status)},As=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.accountIds),i=e.retry,c=void 0===i?1:i;if(!(c>3))return Zc.getAccountProperties(o).then(function(t){0==Object.keys((null===t||void 0===t?void 0:t.userProperties)||{}).length?(console.debug("User properties empty. Retrying.."),setTimeout(function(){return r("getAccountProperties",{accountIds:o,retry:++c})},1e3)):n("SET_ACCOUNT_PROPERTIES",t)}).catch(function(t){console.debug("Failed to get account properties: ".concat(t,". Retrying..")),setTimeout(function(){return r("getAccountProperties",{accountIds:o,retry:++c})},1e3)});console.error("Failed to get account properties. Stopped requesting")},Os=function(t,e){t.commit,t.dispatch,t.state;var n=t.getters;ku(e);var r=$util.cookie("URL_PARAM")||"",o="";(n.wbId&&"-"!=n.wbId&&"Covestor"!=n.wbId||$util.cookie("partnerID")&&"Covestor"!=$util.cookie("partnerID"))&&(o="&partnerID="+(n.wbId||$util.cookie("partnerID")));var i="/sso/Logout?";r&&'""'!==r&&(i+=r),o&&!i.includes("partnerID=")&&(i+=o),location.href=i},ws=function(t,e){var n=t.commit,r=e.data;return new Promise(function(t,e){Eu.getAccountStatus(r).then(function(e){n("SET_ACCOUNT_STATUS",{res:e,data:r}),t(e)}).catch(function(t){Or("Failed to get account status",0,t),e(t)})})},Is=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters),o=e.data,i=r.selectedAcctId,c=r["portfolio/accountSummary"].find(function(t){return t.acctId==i}),u={amount:0,currency:null,isNull:!1,timestamp:161462706e4,value:o,severity:0};void 0==c?n("portfolio/SET_ACCOUNT_SUMMARY",{acctId:i,data:{depositoncredithold:fundsOnHoldfundsOnHold}}):(c.data.depositoncredithold=u,n("portfolio/SET_ACCOUNT_SUMMARY",{acctId:i,data:c.data}))},Cs=function(t){t.commit;var e=t.dispatch,n=(t.state,t.getters);if(n.pickerAccounts.length)console.debug("Iserver accounts NOT used as picker accounts as they are already set.");else{var r=n["iserverData/accounts"].filter(function(t){return"All"!==t}).map(function(t){return{accountId:t}});e("storePickerAccounts",{accts:r}),r.length&&(e("setSelectedAccounts",{accounts:[r[0]]}),console.debug("Set iserver accounts ".concat(n["iserverData/accounts"]," as picker accounts successfully")))}},Ps=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.onSuccess,i=e.onError;Zc.getLearnAndEarnProducts(r).then(function(t){n("SET_SHOW_LEARN_AND_EARN_ELIGIBLE_COURSES",t.Eligible),_r("getLearnAndEarnProducts: get learn and earn products",o,t)}).catch(function(t){_r("getLearnAndEarnProducts: get learn and earn products",i,{}),Or("getLearnAndEarnProducts: get learn and earn products",0,t)}),Zc.getIBSalesCourses().then(function(t){n("SET_SHOW_LEARN_AND_EARN_COMPLETED_COURSES",t),_r("getIBSalesCourses: get IBSales courses",o,t)}).catch(function(t){_r("getIBSalesCourses: get IBSales courses",i,{}),Or("getIBSalesCourses: get IBSales courses",0,t)})};function Rs(t){"@babel/helpers - typeof";return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ns(Object(n),!0).forEach(function(e){Ls(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ls(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Rs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rs(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ms,Fs=(Ls(Wu={},"CLEAR_BALANCE_SUMMARY",function(t){t.balanceSummary={}}),Ls(Wu,"CLEAR_FA_CLIENT",function(t){t.user&&t.user.applicants&&(t.user.applicants=t.user.applicants.filter(function(t){return"test"!==t.type}))}),Ls(Wu,"CLEAR_OPTION_COMBO",function(t){t.optionCombo={}}),Ls(Wu,"CLEAR_MARKETDATA",function(t){t.marketData=[]}),Ls(Wu,"CLEAR_NEWS",function(t){t.news=[]}),Ls(Wu,"CLEAR_NEWS_CONTENT",function(t){t.newsContent=[]}),Ls(Wu,"CLEAR_PERFORMANCE",function(t){t.performance=[]}),Ls(Wu,"CLEAR_MODELS",function(t){t.models=[]}),Ls(Wu,"CLEAR_POSITIONS",function(t,e){var n=t.positions.find(function(t){return t.name==e});n&&n.positions&&(n.positions=[])}),Ls(Wu,"CLEAR_PRICE_HISTORY",function(t){t.priceHistory=[]}),Ls(Wu,"SET_ACCESSIBILITY",function(t,e){t.accessibility=e}),Ls(Wu,"SET_AUTH_TOKEN_CREATED",function(t,e){t.authTokenCreated=e}),Ls(Wu,"SET_BRAND_INFO",function(t,e){t.brandInfo=e}),Ls(Wu,"SET_BALANCE_SUMMARY",function(t,e){t.balanceSummary=e}),Ls(Wu,"SET_FA_CLIENT",function(t){if(t.user){var e=t.user.applicants||[];e.push({type:"test",businessType:"FA_CLIENT"}),m.a.set(t.user,"applicants",e)}}),Ls(Wu,"SET_ALL_ACCOUNTS",function(t,e){0===t.allAccounts.length&&(t.allAccounts=e)}),Ls(Wu,"SET_SELECTED_ACCOUNTS",function(t,e){t.selectedAccounts=e}),Ls(Wu,"SET_ACCOUNT_PNL",function(t,e){t.pnl=e}),Ls(Wu,"GET_AUTHORIZED_CONSUMER",function(t,e){t.authorizedConsumers=e||[]}),Ls(Wu,"DEAUTHORIZE_CONSUMER",function(t,e){t.authorizedConsumers=t.authorizedConsumers.filter(function(t){return t.consumerKey!=e})}),Ls(Wu,"SET_OPTION_COMBO",function(t,e){t.optionCombo=e}),Ls(Wu,"SET_COMPETITORS",function(t,e){t.competitors=e}),Ls(Wu,"SET_FROM_MOBILE",function(t,e){t.fromMobile=e}),Ls(Wu,"SET_FUNDAMENTALS",function(t,e){var n=e.conid,r=e.data;if(!isNaN(n)&&void 0!==r&&!r.error){for(var o={conid:n,data:r},i=0;i<t.fundamentals.length;i++){if(t.fundamentals[i].conid==n)return void m.a.set(t.fundamentals,i,o)}t.fundamentals.push(o)}}),Ls(Wu,"SET_MARKETS",function(t,e){t.markets=e}),Ls(Wu,"SET_MODELS",function(t,e){var n=!1,r=e.filter(function(t){return"MI.Core"!=t.name&&0!=t.name.indexOf("CP")&&(0==t.name.indexOf("MI")&&(n=!0),!0)});t.models=n?r.filter(function(t){if("MP.Core"==t.name)return!0;if(0==t.name.indexOf("MI")){var n=e.find(function(e){return e.name=="MP"+t.name.substr(2)});return n&&(t.description=n.description),!0}return!1}):r}),Ls(Wu,"SET_MARKETDATA",function(t,e){var n=e.conid,r=e.data;isNaN(n)||m.a.set(t.marketData,n,Ds(Ds({},t.marketData[n]),r))}),Ls(Wu,"SET_MANVOL_CORPORATE_MSG",function(t,e){t.manVolCorporateActionMsg=e}),Ls(Wu,"SET_SECDEF_DATA",function(t,e){var n=e.conid,r=e.data;isNaN(n)||(r&&r.conid==n?m.a.set(t.secdefData,n,Ds(Ds({},t.secdefData[n]),r)):console.error("wrong conid",n,r))}),Ls(Wu,"SET_TRADABLE_CURRENCIES",function(t,e){t.tradableCurrencies=e}),Ls(Wu,"SET_NEWS",function(t,e){var n=e.conid,r=e.data;if(!isNaN(n)){var o=[];t.news[n]&&t.news[n].length>0&&(o=t.news[n].slice()),t.news={},t.news[n]=r,0===o.length?(t.newsContent={},t.news[n]=r.map(function(t){return t.show=!1,t})):t.news[n]=o.concat(r.map(function(t){return t.show=!1,t}))}}),Ls(Wu,"SET_NEWS_CONTENT",function(t,e){var n=e.newsId,r=e.data;n&&r&&(t.newsContent[n]=r)}),Ls(Wu,"SET_PERFORMANCE",function(t,e){t.performance=e}),Ls(Wu,"SET_PERIOD",function(t,e){t.period=e}),Ls(Wu,"UPDATE_POSITIONS",function(t,e){var n=e.model,r=e.updates;if(r){var o=t.positions.find(function(t){return t.name==n});if(o)for(var i=0;i<r.length;i++)for(var c=r[i],u=0;u<o.positions.length;u++){var s=o.positions[u];s.conid==c.conid&&((c._updated>o.lastUpdate||void 0===o.lastUpdate)&&m.a.set(o,"lastUpdate",c._updated),m.a.set(o.positions,u,Object.assign(s,c)))}}}),Ls(Wu,"SET_POSITIONS",function(t,e){var n=e.model,r=e.list,o=t.positions.find(function(t){return t.name==n});o?o.positions=o.positions.concat(r):t.positions.push({name:n,positions:r})}),Ls(Wu,"SET_POSITIONS_TOTAL_NUM",function(t,e){var n=e.model,r=e.num,o=void 0===r?0:r,i=t.positions.find(function(t){return t.name==n});i&&(i.total=o)}),Ls(Wu,"SET_PRICE_HISTORY",function(t,e){var n=e.conid,r=e.data;isNaN(n)||(t.priceHistory={},t.priceHistory[n]=r)}),Ls(Wu,"SET_RATES",function(t,e){t.rates=e}),Ls(Wu,"SET_SEARCH_SYM_RESULTS",function(t,e){t.orderInfo=e}),Ls(Wu,"SET_USERNAME",function(t,e){window.username=e,m.a.set(t.user,"username",e)}),Ls(Wu,"SET_SSO",function(t,e){if(e){var n=!(!0!==e.IS_MASTER||!["AM","UNIVERSAL","PORTAL-AM-US"].includes(e.LANDING_APP));t.sso=Ds(Ds({},e),{IS_MASTER:n})}}),Ls(Wu,"SET_USER",function(t,e){if(t.user=e,Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).DISABLE_UAR)for(var n in t.user.uar)t.user.uar[n]=!0}),Ls(Wu,"SET_VOL_CORPORATE_MSG",function(t,e){t.voluntaryCorporateActionMsg=e}),Ls(Wu,"TOGGLE_NEWS_CONTENT",function(t,e){var n=t.newsContent[e],r=t.news[e];r.show=!r.show,n.show=!n.show}),Ls(Wu,"SET_UAR",function(t,e){t.uar=e}),Ls(Wu,"REGISTER_EVENT",function(t,e){var n=e[0],r=e[1],o=t.events[n];o?r?(o.push(r),"ON_UAR_CHANGED"==n&&r(t.user.uar)):console.error("registering event without callback",n,e):console.error("event unknown",n,e)}),Ls(Wu,"TRIGGER_EVENT",function(t,e){var n=e&&e.name;if(n){var r=t.events[n];r?r&&r.forEach(function(t){setTimeout(function(){return t(Ds({},e))})}):console.debug("callback is not documented, add to state",n)}else console.debug("can't trigger event without name",e)}),Ls(Wu,"SET_SSO_VALIDATED",function(t,e){t.ssoValidated=e}),Ls(Wu,"SET_EVENT_LISTENERS",function(t,e){e&&e.forEach(function(e){var n=e[0],r=e[1];t.events[n]?t.events[n].push(r):console.debug("unknown event key, ignored: ",n)})}),Ls(Wu,"SET_SHOW_BASE_CURRENCY",function(t,e){t.showInBase=e}),Ls(Wu,"SET_CLEARING_STATUS",function(t,e){var n=t.user.accts;n[Object.keys(n)[0]].clearingStatus=e}),Ls(Wu,"SET_FIRST_APPROVE_DATE",function(t,e){t.user.firstApprovedDate=e}),Ls(Wu,"SET_OPEN_DATE",function(t,e){var n=t.user.accts;n[Object.keys(n)[0]].openDate=e}),Ls(Wu,"TOGGLE_FREE_TRIAL",function(t,e){m.a.set(t.sso,"IS_FREE_TRIAL",e)}),Ls(Wu,"TOGGLE_IS_FUNDED",function(t){var e=t.user.accts,n=Object.keys(e);e[n[0]].isFunded=!e[n[0]].isFunded}),Ls(Wu,"TOGGLE_SF_ENABLED",function(t){t.sso.SF_ENABLED?m.a.set(t.sso,"SF_ENABLED",!1):m.a.set(t.sso,"SF_ENABLED",!0)}),Ls(Wu,"SET_WHITE_BRANDING",function(t,e){t.user.wbId=e}),Ls(Wu,"SET_FAVICON_URL",function(t,e){t.faviconUrl=e}),Ls(Wu,"SET_NOTIFICATION_ICON_URL",function(t,e){t.notificationIconUrl=e}),Ls(Wu,"SET_IS_CURRENT_INCOMPLETE_MD",function(t,e){t.isCurInComMd=e}),Ls(Wu,"SET_IS_INCOMPLETE_CONID_SELECTED_IN_QUICKTRADE",function(t,e){t.isInCompleteConidSel=e}),Ls(Wu,"SET_PICKER_ACCOUNTS",function(t,e){t.pickerAccounts=e}),Ls(Wu,"ROUTE_LOADING",function(t,e){t.routeLoading=e}),Ls(Wu,"PRIVACY_MODE",function(t,e){t.privacyMode=e}),Ls(Wu,"SET_ACCOUNT_PROPERTIES",function(t,e){t.accountProperties=e}),Ls(Wu,"SET_AM_STATUS",function(t,e){t.amStatus=e}),Ls(Wu,"SET_ACCOUNT_STATUS",function(t,e){var n=e.res;e.data.acctIds.forEach(function(e){n[e]&&("PENDING"!==n[e].POA_TASK&&"PENDING"!==n[e].EDD_TASK&&"PENDING"!==n[e].PEP_TASK||(t.isAccountTaskPending=!0))})}),Ls(Wu,"SET_SHOW_IB_KEY_WIDGET",function(t,e){t.forceShowIBKeyWidget=e}),Ls(Wu,"SET_SHOW_CRYPTO_POPOVER",function(t,e){t.forceShowCryptoPopover=e}),Ls(Wu,"SET_SHOW_NTWS_POPOVER",function(t,e){t.forceShowNtwsPopover=e}),Ls(Wu,"TOGGLE_TEST_CRYPTO_POS",function(t){t.isTestingCryptoPos=!t.isTestingCryptoPos}),Ls(Wu,"TOGGLE_EVENT_CONTRACTS_SUPPORT",function(t){t.supportEventContracts=!t.supportEventContracts}),Ls(Wu,"STORE_CES_FEEDBACK_CONFIG",function(t,e){t.cesConfig=e}),Ls(Wu,"SET_HMDS_AUTHENTICATED",function(t,e){t.hmdsAuthenticated=e}),Ls(Wu,"SET_SHOW_LEARN_AND_EARN_ELIGIBLE_COURSES",function(t,e){t.eligibleCourses=e}),Ls(Wu,"SET_SHOW_LEARN_AND_EARN_COMPLETED_COURSES",function(t,e){t.completedCourses=e}),Wu);function Us(t){"@babel/helpers - typeof";return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ks(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Us(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Us(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Us(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var js,Bs={namespaced:!0,state:{advisorsPromoData:{},finishPromoLoading:!1,partitionIsCreated:void 0},getters:{advisorsPromoData:function(t){return t.advisorsPromoData}},actions:{getAdvisorsPromoData:function(t,e){var n=t.commit,r=(t.state,e.iaPartner),o=e.source;return n("FINISH_IA_PROMO_LOADING",!1),new Promise(function(t,e){Uu.getAdvisorsPromoData(r,o).then(function(e){n("FINISH_IA_PROMO_LOADING",!0),n("SET_ADVISORS_PROMODATA",e),t(e)}).catch(function(t){n("FINISH_IA_PROMO_LOADING",!0),e(t)})})},createdPartition:function(t,e){var n=t.commit;t.state;n("SET_CREATED_PARTITION",e)}},mutations:(ks(Ms={},"SET_ADVISORS_PROMODATA",function(t,e){t.advisorsPromoData=e}),ks(Ms,"FINISH_IA_PROMO_LOADING",function(t,e){t.finishPromoLoading=e}),ks(Ms,"SET_CREATED_PARTITION",function(t,e){t.partitionIsCreated=e}),Ms)};function xs(t){"@babel/helpers - typeof";return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hs(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=xs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xs(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ws={namespaced:!0,state:{marketDataSubscriptions:[],entityInfo:[]},getters:{entityInfo:function(t){return t.entityInfo||[]},entityInfoAddresses:function(t){var e=[];return t.entityInfo&&t.entityInfo.forEach(function(t){t.entities.forEach(function(t){e.push(t.address||{})})}),e},entityInfoNames:function(t){var e=[];return t.entityInfo&&t.entityInfo.forEach(function(t){t.entities.forEach(function(t){var n=t.name||{};e.push(n.firstName+" "+n.lastName)})}),e},entityInfoIdentDocs:function(t){var e=[];return t.entityInfo&&t.entityInfo.forEach(function(t){t.entities.forEach(function(t){t.identDocs&&(e=e.concat(t.identDocs))})}),e},CUSIPSubscribed:function(t){return t.marketDataSubscriptions.length>0&&(-1!=t.marketDataSubscriptions.indexOf(550)||-1!=t.marketDataSubscriptions.indexOf(551))}},actions:{getEntityInfo:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onSuccess,e.onError);Eu.getEntityInfo().then(function(t){n("SET_ENTITY_INFO",t)}).catch(function(t){r&&r(t),Or("get entity info",0,t)})},getMarketDataSubscriptions:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onSuccess,e.onError);Eu.getMarketDataSubscriptions().then(function(t){n("SET_MARKETDATA_SUBSCRIPTIONS",t)}).catch(function(t){r&&r(t),Or("get market data subscription",0,t)})}},mutations:(Hs(js={},"SET_ENTITY_INFO",function(t,e){t.entityInfo=e||[]}),Hs(js,"SET_MARKETDATA_SUBSCRIPTIONS",function(t,e){t.marketDataSubscriptions=e}),js)};function Gs(t){"@babel/helpers - typeof";return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Vs={namespaced:!0,state:{enableRealtime:void 0,showIbot:!0},getters:{realtime:function(t,e,n){return t.enableRealtime}},actions:{},mutations:function(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Gs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gs(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"SET_ENABLE_REALTIME",function(t,e){t.enableRealtime=e})};function qs(t){"@babel/helpers - typeof";return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ys(Object(n),!0).forEach(function(e){Ks(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ks(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=qs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qs(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xs=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).AM_BASE_URL||"",zs={},Zs=function(t){return fetch(t,{credentials:"include",headers:zs}).then(H)},Js=function(t,e){return fetch(t,{method:"post",body:JSON.stringify(e),credentials:"include",headers:$s({"Content-Type":"application/json; charset=utf-8"},zs)}).then(H)},Qs=function(t,e){return fetch(t,{method:"put",body:JSON.stringify(e),credentials:"include",headers:$s({"Content-Type":"application/json; charset=utf-8"},zs)}).then(H)};var ta,ea={authenticate:function(t){return Zs(Xs+"/OneBarAuthentication?json=1"+(t?"&loginType=2":""))},getMenu:function(){return Zs(Xs+"/Menu")},getSelectedAccounts:function(){return Zs(Xs+"/AccountSelector")},getCrmUar:function(){return Zs(Xs+"/CrmUar")},setSelectedAccounts:function(t){return Js(Xs+"/AccountSelector",t)},setLanguage:function(t){return console.debug("set am language",t),Qs(Xs+"/Language",{lang:t})},getMonthlyActStmtPDF:function(t){var e=t.accounts,n=t.period,r=t.fromDate,o=t.toDate,i=t.reportDate;return Js(Xs+"/Statements/Run",{accounts:e,format:9,fromDate:r,toDate:o,reportDate:i,language:"en",period:n,statementCategory:"DEFAULT_STATEMENT",statementType:"DEFAULT_ACTIVITY"})},getNotifications:function(){return Zs(Xs+"/Notifications")},getPendingItems:function(){return Zs(Xs+"/PendingItems")},getTransactions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;return Zs(Xs+"/TransactionHistory/Data?period="+t)},getUser:function(){return Zs(Xs+"/User")},tickleSession:function(){return Qs(Xs+"/User/Tickle")},setSessionId:function(t){zs.SessionId=t},submitDocument:function(t,e){return Js(t||Xs+"/DocumentSubmission",e)},iaPartitionEligibility:function(t){return Js(Xs+"/IaPartition/Eligibility",{accountId:t})},iaPartitionSignUp:function(t){return Js(Xs+"/IaPartition/SignUp",{accountId:t})},iaPartitionCreate:function(t){return Js(Xs+"/IaPartition",t)},amConfiguration:function(t,e){return Js(Xs+"/AmConfiguration",{accountId:t,configs:e})},getContactUar:function(t){return Js(Xs+"/ContactUar",{accountId:t})}},na=ea;function ra(t){"@babel/helpers - typeof";return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oa(Object(n),!0).forEach(function(e){ca(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ca(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ra(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ra(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ra(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.amApi||(window.amApi=ea);var ua="SET_AM_SESSION_ID",sa="SET_AM_PENDING_ITEMS",aa="SET_AM_NOTIFICATIONS",la="SET_AM_USER",da="SET_AM_MENU",fa="SET_TRANSACTIONS",pa="SET_TRANSACTIONS_API_FAILED",ma="SET_AM_PICKER_LOADED",va="SET_IA_ELIGIBILITY",ha="SET_IA_PARTNERID",Sa="SET_MOST_RELEVANT_ACCOUNT",ba="SET_AM_CONFIGURATION",ga="SET_CRM_UAR",Ea="SET_AM_PAGE",ya="SET_CONTACT_UAR",_a="SET_AM_SELECTED_ACCOUNTS",Ta="SET_AM_LOGIN_COMPLETE",Aa={sessionId:"",pendingItems:{data:[],error:!1},notifications:{data:{corporateActions:[],messages:[]},error:!1},user:{title:""},recentTransactions:[],isRecentTransactionsApiFailed:!1,amMenu:{},amPickerLoaded:!1,iaEligibleAccounts:[],mostRelevantAcct:void 0,amConfiguration:{},iaPartnerId:void 0,crmUar:{},amPage:{},contactUar:{},amSelectedAccounts:[],amLoginComplete:void 0},Oa={sessionId:function(t){return t.sessionId},pendingItemNum:function(t,e){return e.amPendingItems.length},messageNum:function(t,e){return e.amMessages.length},amUser:function(t){return t.user||{}},corporateActionNum:function(t,e){return e.amCorporateActions.length},recentTransactions:function(t){return t.recentTransactions},isRecentTransactionsApiFailed:function(t){return t.isRecentTransactionsApiFailed},viewMoreTransactions:function(t){return!(!t.recentTransactions||!t.recentTransactions.manipulator)&&t.recentTransactions.manipulator.services.PAGINATION.totalPages>1},amMenu:function(t){return t.amMenu||{}},amPickerLoaded:function(t){return t.amPickerLoaded},amMessages:function(t){var e,n;return((null===(e=t.notifications)||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.messages)||[]).map(function(t){return ia(ia({},t),{epoch:t.date?$date.local(t.date).unix():void 0,AM_MESSAGE:!0})})},amCorporateActions:function(t){var e,n;return((null===(e=t.notifications)||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.corporateActions)||[]).map(function(t){return ia(ia({},t),{epoch:t.date?$date.local(t.date).unix():void 0,AM_CORP_ACTION:!0})})},amPendingItems:function(t){var e;return((null===(e=t.pendingItems)||void 0===e?void 0:e.data)||[]).map(function(t){return ia(ia({},t),{epoch:t.date?$date.local(t.date).unix():void 0,PENDING_ITEM:!0})})},amSelectedAccounts:function(t){return t.amSelectedAccounts},iaEligibileAccounts:function(t){return t.iaEligibleAccounts},iaEligibility:function(t,e){return""!==e.iaPartitionedAccount||t.iaEligibleAccounts.length>0},mostRelevantAccount:function(t){return t.mostRelevantAcct},iaPartitionedAccount:function(t,e,n,r){return(r.pickerAccounts.find(function(t){return t.iaPartition})||{}).accountId||""},amErrors:function(t){var e,n;return{pendingItems:null===(e=t.pendingItems)||void 0===e?void 0:e.error,notifications:null===(n=t.notifications)||void 0===n?void 0:n.error}},iaPartnerId:function(t){return t.iaPartnerId},classicAmEligible:function(){var t;return null===(t=Aa.user)||void 0===t?void 0:t.classicAmEligible},isAmLoginComplete:function(t){return"success"===t.amLoginComplete},isAmLoginError:function(t){return"error"===t.amLoginComplete}},wa=(ca(ta={},fa,function(t,e){t.recentTransactions=e}),ca(ta,pa,function(t,e){t.isRecentTransactionsApiFailed=e}),ca(ta,ua,function(t,e){t.sessionId=e}),ca(ta,sa,function(t,e){e.error?t.pendingItems.error=!0:e.data&&(t.pendingItems.data=e.data.pendingItems)}),ca(ta,aa,function(t,e){e.error?t.notifications.error=!0:e.data&&(t.notifications.data=e.data)}),ca(ta,la,function(t,e){t.user=e}),ca(ta,da,function(t,e){t.amMenu=e}),ca(ta,ma,function(t,e){t.amPickerLoaded=e}),ca(ta,va,function(t,e){t.iaEligibleAccounts.includes(e)||t.iaEligibleAccounts.push(e)}),ca(ta,ha,function(t,e){t.iaPartnerId=e}),ca(ta,Sa,function(t,e){t.mostRelevantAcct=e}),ca(ta,ba,function(t,e){for(var n in e)Vue.set(t.amConfiguration,n,e[n].accessible)}),ca(ta,ga,function(t,e){t.crmUar=e}),ca(ta,Ea,function(t,e){t.amPage=e}),ca(ta,ya,function(t,e){Vue.set(t.contactUar,e.accountId,e.res)}),ca(ta,_a,function(t,e){t.amSelectedAccounts=e}),ca(ta,Ta,function(t,e){t.amLoginComplete=e}),ta),Ia={namespaced:!0,state:Aa,getters:Oa,actions:{getBaseServices:function(t,e){t.state;var n=t.commit,r=e.skipPendingItems;na.getUser().then(function(t){console.debug("IB_LANG",window.IB_LANG,t.language),n(la,t)}).catch(function(t){return Or("am-user",0,null)}),r||na.getPendingItems().then(function(t){return n(sa,{data:t})}).catch(function(t){Or("am-pending-items",0,t),n(sa,{error:!0})}),na.getNotifications().then(function(t){return n(aa,{data:t})}).catch(function(t){Or("am-notifications",0,t),n(aa,{error:!0})})},setSessionId:function(t,e){t.state;var n=t.commit,r=(t.dispatch,t.rootGetters,e.id),o=e.data,i=e.onSuccess;na.setSessionId(r),n(ua,r),_r("am-login",i,o)},setMostRelevantAccount:function(t,e){t.state;var n=t.commit;e&&e.mostRelevantAccount&&n(Sa,e.mostRelevantAccount)},login:function(t,e){t.state;var n=t.commit,r=t.dispatch,o=(t.rootGetters,e.isFreeTrial),i=e.onSuccess,c=e.onError;if(window.AM_SESSION_ID)return r("setSessionId",{id:window.AM_SESSION_ID,data:{},onSuccess:i}),void n(Ta,"success");na.authenticate(o).then(function(t){var e=t&&t.sessionId;e?(r("setSessionId",{id:e,data:t,onSuccess:i}),r("setMostRelevantAccount",t),n(Ta,"success")):(_r("am-login",c,t),n(Ta,"error"))}).catch(function(t){Or("am/login",0,t),_r("am/login",c,t),n(Ta,"error")})},getTransactions:function(t){var e=t.commit;t.dispatch,t.state;na.getTransactions(90).then(function(t){t.entries?(e(fa,t.entries),e(pa,!1)):e(pa,!0)}).catch(function(){e(pa,!0)})},setLanguage:function(t,e){var n=e.lang,r=e.onSuccess;na.setLanguage(n).then(function(t){return _r("am-set-lang",r,t)}).catch(function(e){return Or("am-set-lang",t.commit,e)})},getAmMenu:function(t){var e=t.commit,n=t.dispatch;t.state;na.getMenu().then(function(t){var r;e(da,t),(null===(r=t.groups)||void 0===r?void 0:r.length)&&t.groups[0].groupMenuEntries.find(function(t){return"Crm"===t.id})&&n("getCrmUar",{})}).catch(function(t){return Or("am menu",0,t)})},amPickerLoaded:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.status);n(ma,r)},getIaEligibleAccounts:function(t){t.state;var e=t.commit,n=t.rootGetters.pickerAccounts;if(n.length>0)for(var r=function(){var t=n[o].accountId;na.iaPartitionEligibility(t).then(function(n){n.partnerId&&e(ha,n.partnerId),e(va,t)})},o=0;o<n.length;o++)r()},getAmConfigurations:function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.acctId,i=e.configs;r.sessionId?na.amConfiguration(o,i).then(function(t){n(ba,t.configs)}):console.debug("Rejected AM configuration request due to missing session id")},getCrmUar:function(t,e){var n=t.commit;t.dispatch,t.state;!function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(e),na.getCrmUar().then(function(t){n(ga,t)})},setAmPage:function(t,e){var n=t.commit;t.dispatch,t.state;n(Ea,e)},getContactUar:function(t,e){var n=t.commit;t.dispatch,t.state;na.getContactUar(e).then(function(t){n(ya,{accountId:e,res:t})})},setPendingItems:function(t,e){var n=t.commit;t.dispatch,t.state;n(sa,e)},getAmSelectedAccounts:function(t){var e=t.state,n=t.commit;return new Promise(function(t,r){e.amSelectedAccounts&&e.amSelectedAccounts.length>0?t(e.amSelectedAccounts):na.getSelectedAccounts().then(function(e){n(_a,e.selections),t(e.selections)}).catch(function(t){r(t)})})},setAmSelectedAccounts:function(t,e){var n=t.commit;na.setSelectedAccounts(e).then(function(){n(_a,e)})}},mutations:wa},Ca="";var Pa={getIRAContributions:function(t){return W(Ca+"/ira/isa-contributions/"+t)}};function Ra(t){"@babel/helpers - typeof";return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Na="SET_IRA_CONTRIBUTIONS",Da={namespaced:!0,state:{contributions:{}},getters:{},actions:{getIRAContributions:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId);Pa.getIRAContributions(r).then(function(t){n(Na,{contributions:null===t||void 0===t?void 0:t.contributionTotals,acctId:r})})}},mutations:function(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ra(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ra(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ra(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},Na,function(t,e){var n=e.contributions,r=e.acctId;Vue.set(t.contributions,r,n)})};var La={getAllRecurringOrders:function(t){return new Promise(function(e,n){dt.request("recinv/recurringInvestment?custacctnumber=".concat(t)).then(function(t){if(t.ok)return t.json();throw"".concat(t.status,", ").concat(t.statusText)}).then(function(t){e(t)}).catch(function(t){console.log("Failed to get all recurring orders: "+t),n("Failed to get all recurring orders: "+t)})})},canTradeRecurringInvestment:function(t,e){return new Promise(function(n,r){dt.request("recinv/canTradeRecurringInvestment?custacctnumber=".concat(t,"&conid=").concat(e)).then(function(t){if(t.ok)return t.json();throw"".concat(t.status,", ").concat(t.statusText)}).then(function(t){n(t)}).catch(function(t){console.log("Failed to check can trade recurring orders: "+t),r("Failed to check can trade recurring orders: "+t)})})}},Ma={namespaced:!0,state:{recurringInvestments:{},accountAssetRecurringPerms:{}},actions:{subscribeRecurringOrders:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.onSuccess,i=e.onError;La.getAllRecurringOrders(r).then(function(t){n("SET_RECURRING_ORDERS",t),_r("get all recurring orders",o,t)}).catch(function(t){_r("get all recurring orders",i,t)})},canTradeRecurringInvestment:function(t,e){var n,r=t.commit,o=(t.dispatch,t.state),i=e.acctId,c=e.conid,u=e.onSuccess,s=e.onError,a="".concat(i,"@").concat(c);void 0===(null===(n=o.accountAssetRecurringPerms)||void 0===n?void 0:n[a])&&La.canTradeRecurringInvestment(i,c).then(function(t){r("SET_ACCOUNT_ASSET_RECURRING_PERM",{acctId:i,conid:c,val:t}),_r("get acctId conid recurring permission",u,t)}).catch(function(t){_r("get acctId conid recurring permission",s,t)})}},mutations:{SET_RECURRING_ORDERS:function(t,e){e.forEach(function(e){m.a.set(t.recurringInvestments,e.custAcctNumber,e)})},SET_ACCOUNT_ASSET_RECURRING_PERM:function(t,e){m.a.set(t.accountAssetRecurringPerms,"".concat(e.acctId,"@").concat(e.conid),e.val)},CLEAR_RECURRING_ORDERS:function(t){t.recurringInvestments={}}}};function Fa(t){"@babel/helpers - typeof";return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ua={namespaced:!0,state:{authenticated:!1},getters:{},actions:{doAuthentication:function(t){var e=t.commit;t.dispatch,t.state;return new Promise(function(t,n){Lt.authenticate().then(function(n){e("SET_MD_AUTH_STATUS",null===n||void 0===n?void 0:n.authenticated),t(n)}).catch(function(t){n(t)})})}},mutations:function(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Fa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fa(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"SET_MD_AUTH_STATUS",function(t,e){t.authenticated=e||!1})},ka="/ccp";function ja(t){return Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).SEARCH_OVER_TWS?dt.request("portal".concat(t)).then(function(t){if(t.ok)return t.json();throw"".concat(t.status,", ").concat(t.statusText)}):W(t)}var Ba={deleteSymbolPreset:function(t,e){return q(ka+"/preset/delete?secType="+t+"&symbol="+e)},savePresetDetails:function(t){return V(ka+"/preset/save",t)},getPresetDetails:function(t,e){var n=e?"?sectype=".concat(t,"&symbol=").concat(e):"?sectype=".concat(t);return W(ka+"/preset/details"+n)},getExistingPresets:function(){return W(ka+"/preset/list")},getWatchlist:function(t){return W(ka+"/watchlist?id="+t)},getAllWatchlists:function(){return W(ka+"/watchlists")},saveWatchlist:function(t){return V(ka+"/watchlist",t)},deleteWatchlist:function(t){return q(ka+"/watchlist?id="+t)},getAccountSummary:function(t,e){var n="".concat(ka,"/accounts/").concat(t,"/summary");return e&&(n+="?model=".concat(e)),W(n)},getPnlPositions:function(t,e){return W("/pnl/"+t+"/pnl?model="+e)},slGetSearchByName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t,e){return Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).SEARCH_OVER_TWS?dt.request("portal".concat(t),{method:"POST",body:JSON.stringify(e)}).then(function(t){if(t.ok)return t.json();throw"".concat(t.status,", ").concat(t.statusText)}):V(t,e)}(ka+"/secdef/search",{symbol:t,name:!0,secType:"STK",referrer:e})},slGetSearchByPattern:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/secdef/search?symbol=".concat(t,"&pattern=true&referrer=").concat(e,"&filter=").concat(n,"&accountId=").concat(r);return ja(ka+o)},slGetSearchBySym:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/secdef/search?symbol=".concat(t,"&referrer=").concat(e,"&filter=").concat(n,"&accountId=").concat(r);return ja(ka+o)},slGetSearchDetails:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/secdef/search?symbol=".concat(t,"&more=true&referrer=").concat(e,"&filter=").concat(n,"&accountId=").concat(r);return ja(ka+o)},slGetSecdefInfo:function(t,e,n,r,o,i,c,u){return ja("CFD"==n||"CASH"==n?ka+"/secdef/info?conid="+e+"&sectype="+n+"&symbol="+t:ka+"/secdef/info?conid="+e+"&sectype="+n+"&month="+o+"&exchange="+i+"&strike="+c+"&right="+u+"&symbol="+t)},slGetStrikes:function(t,e,n,r,o){return ja(ka+"/secdef/strikes?conid="+t+"&sectype="+e+"&month="+n+"&exchange="+r+"&symbol="+o)},subscribeAcctSumm:function(t,e){var n=t.acctId,r=t.model,o=e.onUpdates;if(n){if(window.ibrt){var i=A.topics().SUBSCRIBE_ACCOUNT_SUMMARY+"+"+n;return r&&(i+="+"+r),window.ibrt.subscribeArgs(i,"ACCT_SUMM",null,{onMessage:o})}console.error("subscribeAcctSumm: real-time api missing")}},subscribePositions:function(t,e){var n=t.acctId,r=t.model,o=e.onUpdates;if(n){if(window.ibrt){var i=A.topics().SUBSCRIBE_PNL+"+"+n;return r&&(i+="+"+r),window.ibrt.subscribeArgs(i,"NEW_PNL",null,{onMessage:o})}console.error("subscribePositions: real-time api missing")}},unsubscribeAcctSumm:function(t,e){if(t){var n=A.topics().UNSUBSCRIBE_ACCOUNT_SUMMARY+"+"+t;return e&&(n+="+"+e),window.ibrt?window.ibrt.send(n):W(ka+"/accounts/"+t+"summary/unsubscribe"+(e?"?filteredFields=$CPDETAIL&model="+e:"?filteredFields=$CPDETAIL"))}},unsubscribePositions:function(t,e){if(t){var n=A.topics().UNSUBSCRIBE_PNL+"+"+t;return e&&(n+="+"+e),window.ibrt?window.ibrt.send(n):W(ka+"/pnl/"+t+"pnl/unsubscribe"+(e?"?model="+e:""))}},slGetTriggerToken:function(t,e){var n="conid="+t;return e&&(n+="&exchange="+e),ja(ka+"/secdef/info?"+n)},slgetBondFilters:function(t,e){return ja(ka+"/secdef/bond-filters?symbol="+t+"&issuerId="+e)},slGetSecdefBondInfo:function(t,e,n,r){return ja(ka+"/secdef/info?symbol="+t+"&issuerId="+e+"&sectype="+n+"&filters="+r)}};function xa(t){"@babel/helpers - typeof";return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ha={namespaced:!0,state:{ctciAccountSummary:[]},actions:{getAccountSummary:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.model;return new Promise(function(t,e){Ba.getAccountSummary(r,o).then(function(e){n("SET_CTCI_ACCOUNT_SUMMARY",{acctId:r,data:e}),t(e)}).catch(function(t){Or("Failed to fetch account summary",0,t),e(t)})})},subscribeFilteredAcctSumm:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.model;e.onSuccess;Ba.subscribeAcctSumm({acctId:r,model:o},{onUpdates:function(t){var e=t.args;n("UPDATE_CTCI_ACCOUNT_SUMMARY",{acctId:r,data:e})}})}},mutations:{SET_CTCI_ACCOUNT_SUMMARY:function(t,e){for(var n=e.acctId,r={acctId:n,data:e.data},o=0;o<t.ctciAccountSummary.length;o++){if(t.ctciAccountSummary[o].acctId==n)return void m.a.set(t.ctciAccountSummary,o,r)}t.ctciAccountSummary.push(r)},UPDATE_CTCI_ACCOUNT_SUMMARY:function(t,e){for(var n=e.acctId,r=e.data,o=0;o<t.ctciAccountSummary.length;o++){var i=t.ctciAccountSummary[o];if(i.acctId==n){var c,u,s,a,l,d=null===(c=i.data)||void 0===c?void 0:null===(u=c.ledger)||void 0===u?void 0:u.BASE;if(d)d.NetLiquidation=(null===r||void 0===r?void 0:null===(a=r.ledger)||void 0===a?void 0:null===(l=a.BASE)||void 0===l?void 0:l.NetLiquidation)||d.NetLiquidation;var f=null===(s=i.data)||void 0===s?void 0:s.summary;if(f){var p,m,v="object"==xa(f)&&0!=Object.keys(f).length?Object.keys(f)[0]:"";f[v].ExcessLiquidity=(null===r||void 0===r?void 0:null===(p=r.summary[v])||void 0===p?void 0:p.ExcessLiquidity)||f[v].ExcessLiquidity,f[v].Timestamp=(null===r||void 0===r?void 0:null===(m=r.summary[v])||void 0===m?void 0:m.Timestamp)||f[v].Timestamp}return}}}}},Wa=function(t,e){var n=t.id,r=e.onUpdates,o=e.onFyiError;if(window.ibrt)return window.ibrt.subscribeArgs(A.topics().SUBSCRIBE_FYI+"+"+n,"FD",{},{onMessage:function(t){t.serverId,console.debug("fyiApi onMessage handler result",t),r(t)},onError:function(t){o(t)}});console.error("fyiApi: real-time api missing")};function Ga(t){if(null==t)throw new TypeError("Cannot destructure "+t)}function Va(t){throw new TypeError('"'+t+'" is read-only')}var qa="root",Ya="level",$a="parent",Ka="order",Xa="sel",za="text";var Za=function(t,e){t.commit,t.dispatch,t.state,t.getters,t.rootState;var n=t.rootGetters,r=e.deviceId,o=(e.deviceName,e.el),i=e.onSuccess,c=e.onError;bt(o),V("/fyi/deliveryoptions/device/delete"+(n.isZenith?"?AP=hsbcWorldTrader":""),{deviceId:r}).then(function(t){i&&i(),gt(o)}).catch(function(t){gt(o),c&&c(Ar(t.response)),Or("delete device delivery option failed",0,t)})},Ja=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=(e.conids,e.onSuccess),i=e.onError;W("/fyi/deliveryoptions"+(r.isZenith?"?AP=hsbcWorldTrader":"")).then(function(t){n("SET_FYI_DELIVERY_OPTIONS",t),o&&o()}).catch(function(t){Or("get fyi delivery options failed",0,t),i&&i(t)})},Qa=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.fc,i=e.onSuccess;W("/fyi/disclaimer/"+o+(r.isZenith?"?AP=hsbcWorldTrader":"")).then(function(t){n("SET_FYI_DISCLAIMER",t),i&&i()}).catch(function(t){Or("get fyi disclaimer failed",0,t)})},tl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.el,i=e.onSuccess,c=e.onError;bt(o),W("/fyi/settings"+(r.isZenith?"?AP=hsbcWorldTrader":"")).then(function(t){n("SET_FYI_SETTINGS",t),gt(o),i&&i()}).catch(function(t){c&&c(t),gt(o),Or("get fyi settings failed",0,t)})},el=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.id,i=e.el,c=e.onSuccess,u=e.onError;bt(i);var s="/fyi/notifications";o&&Va("path"),r.isZenith&&Va("path"),W(s).then(function(t){n("SET_FYI_NOTIFICATIONS",t),gt(i),_r("get all fyi notifications",c,t)}).catch(function(t){gt(i),_r("get all fyi notifications",u,wr(t)),Or("get all fyi notifications failed",0,t)})},nl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.id,i=e.el,c=e.onSuccess,u=e.onError;bt(i),W("/fyi/notifications?exclude=UA&max=10"+(o?"&id="+o:"")+(r.isZenith?"&AP=hsbcWorldTrader":"")).then(function(t){n("SET_FYI_NOTIFICATIONS",t),gt(i),_r("get fyi notifications",c,t)}).catch(function(t){gt(i),_r("get fyi notifications",u,wr(t)),Or("get fyi notifications failed",0,t)})},rl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.id,i=e.el,c=e.onSuccess;bt(i),W("/fyi/notifications?include=UA&max=10"+(o?"&id="+o:"")+(r.isZenith?"&AP=hsbcWorldTrader":"")).then(function(t){n("SET_FYI_ALERTS",t),gt(i),_r("get fyi alerts",c,t)}).catch(function(t){gt(i),Or("get fyi alerts failed",0,t)})},ol=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.id,i=e.onSuccess,c="/fyi/notifications/more";o&&Va("path"),r.isZenith&&Va("path"),W(c).then(function(t){n("SET_FYI_NOTIFICATIONS",t),_r("fyi notifications",i,t)}).catch(function(t){Or("get more fyi notifications failed",0,t)})},il=function(t,e){t.commit,t.dispatch,t.state,t.getters,t.rootState;var n=t.rootGetters,r=e.fc,o=e.el,i=e.onSuccess,c=e.onError;bt(o),Y("/fyi/disclaimer/"+r+(n.isZenith?"?AP=hsbcWorldTrader":"")).then(function(t){i&&i(),gt(o)}).catch(function(t){gt(o),c&&c(wr(t.response)),Or("mark disclamer read failed",0,t)})},cl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.n,i=e.el,c=e.onSuccess,u=e.onError;bt(i),Y("/fyi/notifications/"+o.id+(r.isZenith?"?AP=hsbcWorldTrader":"")).then(function(t){n("MARK_FYI_NOTIFICATION_READ",o),n("MARK_FYI_READ",1),c&&c(),gt(i)}).catch(function(t){gt(i),_r("mark notification read",u,wr(t)),Or("mark notification read failed",0,t)})},ul=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.option,i=e.i,c=e.el,u=e.onSuccess,s=e.onError;bt(c),V("/fyi/deliveryoptions/device",o+(r.isZenith?"?AP=hsbcWorldTrader":"")).then(function(t){n("TOGGLE_FYI_DELIVERY_OPTION",i),u&&u(),gt(c)}).catch(function(t){gt(c),s&&s(Ar(t.response)),Or("change device delivery option failed",0,t)})},sl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.enabled,i=e.el,c=e.onSuccess,u=e.onError;bt(i),Y("/fyi/deliveryoptions/email?enabled="+o+(r.isZenith?"&AP=hsbcWorldTrader":"")).then(function(t){n("TOGGLE_FYI_EMAIL_OPTION"),c&&c(),gt(i)}).catch(function(t){gt(i),u&&u(Ar(t.response)),Or("change email delivery option failed",0,t)})},al=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters),o=e.fc,i=e.enabled,c=e.i,u=e.el,s=e.onSuccess,a=e.onError;bt(u),V("/fyi/settings/"+o+(r.isZenith?"?AP=hsbcWorldTrader":""),{enabled:i}).then(function(t){n("TOGGLE_FYI_SUBSCRIPTION",c),s&&s(),gt(u)}).catch(function(t){gt(u),a&&a(Ar(t.response)),Or("change notification setting",0,t)})},ll=function(t,e){t.commit,t.dispatch,t.state;var n=e.el,r=e.json,o=e.onSuccess,i=e.onFailure;bt(n),V("/fyipub/refresponse",r).then(function(t){o&&o(t,r),gt(n)}).catch(function(t){gt(n),i&&i(r),Or("Submit Referral response failed",0,t)})},dl=function(t,e){t.commit,t.dispatch,t.state,e.el;var n=e.id,r=e.onUserIdResp;W("/fyipub/userid/"+n).then(function(t){r&&r(t)}).catch(function(t){r&&r(t),Or("Query userId  failed",0,t)})},fl=function(t,e){var n=t.commit,r=(t.dispatch,t.state);e.onSuccess;0==r.countryCodes.length&&W("/ibcust/countries/list/").then(function(t){var e=t.map(function(t){return{label:t.name,value:t.alpha3,callingCode:t.calling_code}});n("SET_COUNTRY_CODES",e)})},pl=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.forInvitee,i=e.onSuccess;0==r.feedbackData.length&&W("/fyipub/"+(o?"inviteefbdata":"feedbackdata")).then(function(t){var e=function(t){for(var e=!1,n=0;!e;){if((n+=1)>3){console.error("Unexpected FB data error.");break}e=!0;for(var r=function(){var n=t[o];if(n.level)return 0;if(n.parentLabel==qa)return n[Ya]=1,n[Ka]=Number(n.rank)*Math.pow(10,3-n.level+1),n[Xa]=!1,n[za]="",0;var r=t.find(function(t){return t.label==n.parentLabel});if(r&&r.level)return n[$a]=r,n[Ya]=r.level+1,n[Ka]=r.order+Math.pow(10,3-n.level+1)*Number(n.rank),n[Xa]=!1,n[za],0;e=!1},o=0;o<t.length;++o)r()}return t=t.sort(function(t,e){return t.order<e.order?-1:1})}(t);n("SET_FEEDBACK_DATA",e),_r("getFeedbackData onSuccess",i)})},ml=function(t,e){t.commit,t.dispatch,t.state;var n=e.el,r=e.isInvitee,o=e.json,i=e.onSuccess,c=e.onFailure;bt(n),V("/fyipub/"+(r?"inviteefeedback":"reffeedback"),o).then(function(t){i&&i(t,o),gt(n)}).catch(function(t){gt(n),c&&c(o),Or("Submit feedback failed",0,t)})},vl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters);return Ga(e),new Promise(function(t,e){W("/fyi/unreadnumber"+(r.isZenith?"?AP=hsbcWorldTrader":"")).then(function(r){void 0!==r.BN?(n("SET_UNREAD_FYI_NUM",r.BN),t(r)):e("Missing BN attribute in response: ".concat(r))}).catch(function(t){e(t),Or("Get unread fyi num failed",0,t)})})},hl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters,t.rootState,t.rootGetters);Ga(e);var o=r.isZenith?"&AP=hsbcWorldTrader":"";return new Promise(function(t,e){G(["/fyi/notifications?exclude=UA&max=10"+o,"/fyi/notifications?include=UA&max=10"+o]).then(function(e){n("SET_FYI_NOTIFICATIONS",e[0]),n("SET_FYI_ALERTS",e[1]),t(e)}).catch(function(t){e(t)})})},Sl=function(t,e){var n=t.commit;t.state;n("SET_UNSAVED_PRICE_ALERTS",e.flag)},bl=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,t.rootGetters),i=e.id,c=e.onSuccess,u=e.onError;o.realtime?Wa({id:i},{onUpdates:function(t){var e,r=[],o=[];null===t||void 0===t||null===(e=t.data)||void 0===e||e.result.forEach(function(t){"UA"===t.FC?o.push(t):r.push(t)}),n("SET_FYI_NOTIFICATIONS",r),n("SET_FYI_ALERTS",o),_r("subscribe-fyi-data",c,t)},onFyiError:function(t){_r("subscribe-fyi-data",u,t)}}):r("getFyisAndTradeAlerts",{})},gl=function(t){return t.fyi.fyiDeliveryOptions&&t.fyi.fyiDeliveryOptions.M},El=function(t){return t.fyi.fyiDeliveryOptions.E},yl=function(t){return t.fyi.fyiDisclaimers},_l=function(t){return t.fyi.fyiNotifications},Tl=function(t){return t.fyi.fyiAlerts},Al=function(t){return t.fyi.fyiSettings},Ol=function(t){return t.fyiTabState},wl=function(t){return t.countryCodes},Il=function(t){return t.feedbackData},Cl=function(t){return t.fyiUnreadNum};function Pl(t){return function(t){if(Array.isArray(t))return Rl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Rl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nl(t,e,n){var r=t.fyi[e]||[];(n=n.map(function(t){return{id:t.ID,date:1e3*parseInt(t.D),D:t.D,summary:t.MS,detail:t.MD,fc:t.FC,read:1==t.R,show:!1,epoch:t.D}})).sort(function(t,e){return e.id-t.id});var o=[];if(t.fyi[e]&&0!==t.fyi[e].length){for(var i,c=0,u=r.length;c<u;c++)for(var s=0,a=n.length;s<a;s++)if(r[c].id===n[s].id){r.splice(c,1,n[s]),o.push(n[s].id);break}0!==(null===o||void 0===o?void 0:o.length)&&(n=n.filter(function(t){return!o.includes(t.id)})),0!==(null===(i=n)||void 0===i?void 0:i.length)&&(parseInt(n[n.length-1].id)>parseInt(r[0].id)?Vue.set(t.fyi,e,[].concat(Pl(n),Pl(r))):Vue.set(t.fyi,e,[].concat(Pl(r),Pl(n))))}else Vue.set(t.fyi,e,n)}var Dl={state:{fyiTabState:0,totalPendingNum:0,fyi:{fyiDeliveryOptions:[],fyiDisclaimers:[],fyiSettings:[],fyiNotifications:void 0,fyiAlerts:void 0},countryCodes:[],feedbackData:[],fyiUnreadNum:0,unsavedPriceAlerts:void 0},getters:s,actions:u,mutations:{CLEAR_FYI_NOTIFICATIONS:function(t){t.fyi.fyiNotifications=[]},CLEAR_FYI_ALERTS:function(t){t.fyi.fyiAlerts=[]},MARK_FYI_NOTIFICATION_READ:function(t,e){var n=void 0;(n="UA"==e.fc?t.fyi.fyiAlerts.find(function(t){return t.id==e.id}):t.fyi.fyiNotifications.find(function(t){return t.id==e.id}))&&(n.read=!0)},SET_FYI_DELIVERY_OPTIONS:function(t,e){t.fyi.fyiDeliveryOptions=e},SET_FYI_DISCLAIMER:function(t,e){t.fyi.fyiDisclaimers.find(function(t){return t.FC===e.FC})||t.fyi.fyiDisclaimers.push(e)},SET_FYI_NOTIFICATIONS:function(t,e){Nl(t,"fyiNotifications",e)},SET_FYI_ALERTS:function(t,e){Nl(t,"fyiAlerts",e)},SET_FYI_SETTINGS:function(t,e){t.fyi.fyiSettings=e},TOGGLE_FYI_EMAIL_OPTION:function(t){1===t.fyi.fyiDeliveryOptions.M?t.fyi.fyiDeliveryOptions.M=0:t.fyi.fyiDeliveryOptions.M=1},TOGGLE_FYI_DELIVERY_OPTION:function(t,e){var n=t.fyi.fyiDeliveryOptions.E[e];1===n.A?n.A=0:n.A=1},TOGGLE_FYI_SUBSCRIPTION:function(t,e){var n=t.fyi.fyiSettings[e];1===n.A?n.A=0:n.A=1},SET_COUNTRY_CODES:function(t,e){t.countryCodes=e},SET_FEEDBACK_DATA:function(t,e){t.feedbackData=e},SET_UNREAD_FYI_NUM:function(t,e){t.fyiUnreadNum=e},MARK_FYI_READ:function(t,e){t.fyiUnreadNum<=0?console.error("Failed to decrement fyi count by ".concat(e,". Count is already <= 0: ").concat(t.fyiUnreadNum)):t.fyiUnreadNum-=e},SET_UNSAVED_PRICE_ALERTS:function(t,e){t.unsavedPriceAlerts=e}},namespaced:!0},Ll={namespaced:!0,state:{},getters:{hasBalanceSummary:function(t,e,n,r){return!r.isFreeTrial||!1}},actions:{},mutations:{}};function Ml(t){"@babel/helpers - typeof";return(Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ul(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ml(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ml(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ml(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId);wt.getFolioModels({selectedAcctId:r}).then(function(t){n("SET_FOLIO_MODELS",t.models)}).catch(function(t){Or("get set folio models",0,t)})},jl=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.selectedAcctId,c=e.modelName;wt.getFolioModel({selectedAcctId:i,modelName:c}).then(function(t){var e,i=o.selectedModel;if(i.name===t.modelEntry.name)if(i.positions=t.holdingList||t.targetList,i.modelEntry=t.modelEntry,r("setSelectedModel",{model:i}),null===t||void 0===t?void 0:null===(e=t.targetList)||void 0===e?void 0:e.length){var c=t.targetList.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fl(Object(n),!0).forEach(function(e){Ul(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t)});n("SET_MODEL_TARGET_LIST",c)}else n("SET_MODEL_TARGET_LIST",[])}).catch(function(t){Or("get model details",0,t)})},Bl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId),o=e.modelName;wt.getFolioModelOrders({selectedAcctId:r,modelName:o}).then(function(t){n("SET_MODEL_ORDERS_STATUS",t)}).catch(function(t){Or("get model orders",0,t)})},xl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.model);n("SET_SELECTED_MODEL",Object.assign({},r))},Hl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accId),o=e.modelName,i=e.benchmarks,c=void 0===i?[]:i;Zc.getPerformanceAllPeriods(r,o,c).then(function(t){n("SET_PERFORMANCE_CHART_DATA",t)}).catch(function(t){Or("get performance chart details",0,t)})},Wl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId),o=e.modelEntry,i=e.targetList;wt.createUpdateFolioModel({selectedAcctId:r,modelEntry:o,targetList:i}).then(function(t){n("SET_SAVED_MODEL_REQUEST_STATUS",t)}).catch(function(t){Or("createUpdateFolioModel details",0,t)})},Gl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId),o=e.modelName,i=e.amount,c=e.fullDivest;wt.rebalanceFolioModel({selectedAcctId:r,modelName:o,amount:i,fullDivest:c}).then(function(t){n("SET_REBALANCE_FOLIO_MODEL",t)}).catch(function(t){Or("rebalanceFolioModel details",0,t)})},Vl=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.investDivestRebalanceSetID),o=e.overrideList,i=e.waitSeconds;wt.transmitFolioOrders({investDivestRebalanceSetID:r,overrideList:o,waitSeconds:i}).then(function(t){n("SET_TRANSMIT_ORDER_STATUS",t)}).catch(function(t){Or("transmitFolioOrders details",0,t)})},ql=function(t){return t.selectedConids||[]},Yl=function(t){return t.folioModels},$l=function(t){return t.selectedModel},Kl=function(t){return t.modelOrdersStatus},Xl=function(t){return t.performanceChartData},zl=function(t){return t.savedModelStatus},Zl=function(t){return t.rebalancedOrderDetails},Jl=function(t){return t.transmitOrdersStatus},Ql=function(t){return t.modelTargetList},td={namespaced:!0,state:{app:"Folio",selectedConids:[],folioModels:[],selectedModel:{},performanceChartData:{},savedModelStatus:{},rebalancedOrderDetails:{},transmitOrdersStatus:{},modelOrdersStatus:{},modelTargetList:[]},getters:l,actions:a,mutations:{SET_SELECTED_CONIDS:function(t,e){t.selectedConids=e||[]},SET_FOLIO_MODELS:function(t,e){t.folioModels=e},SET_SELECTED_MODEL:function(t,e){t.selectedModel=e},SET_PERFORMANCE_CHART_DATA:function(t,e){t.performanceChartData=e},SET_SAVED_MODEL_REQUEST_STATUS:function(t,e){t.savedModelStatus=e},SET_REBALANCE_FOLIO_MODEL:function(t,e){t.rebalancedOrderDetails=e},SET_TRANSMIT_ORDER_STATUS:function(t,e){t.transmitOrdersStatus=e},SET_MODEL_ORDERS_STATUS:function(t,e){t.modelOrdersStatus=e},SET_MODEL_TARGET_LIST:function(t,e){t.modelTargetList=e}}};function ed(t){"@babel/helpers - typeof";return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nd(Object(n),!0).forEach(function(e){od(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function od(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ed(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ed(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ed(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var id=function(t){var e=t.commit;t.dispatch,t.state;return new Promise(function(t,n){Er.authenticatePnl().then(function(n){e("SET_PNL_AUTH",null===n||void 0===n?void 0:n.authenticated),t(n)}).catch(function(t){n(t)})})},cd=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.onSuccess,o=e.onError;Er.getModels(n).then(function(t){_r("get-models",r,t)}).catch(function(t){_r("get-models",o,t),Or("get models",0,t)})},ud=function(t,e){t.commit,t.dispatch,t.state;var n=e.model,r=e.onSuccess,o=e.onError;Er.getIbkramModelInfo(n).then(function(t){_r("get-model-info",r,t)}).catch(function(t){_r("get-model-info",o,t),Or("get model info",0,t)})},sd=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=e.onSuccess,i=e.onError;Er.getNlv(n,r).then(function(t){return _r(name,o,t)}).catch(function(t){return _r(name,i,t)})},ad=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=void 0===r?"":r,i=e.pageId,c=e.period,u=void 0===c?"7D":c,s=e.sortBy,a=void 0===s?"name":s,l=e.sortDir,d=void 0===l?"a":l,f=(e.el,e.clear,e.final),p=void 0!==f&&f,m=e.onSuccess,v=e.onError,h=void 0===v?null:v;n?W("/portfolio/"+n+"/positions/"+i+"?"+new URLSearchParams({model:o,sort:a,direction:d,period:u,final:p})).then(function(t){_r(name,m,t)}).catch(function(t){_r("get-positions",h,t),Or("get postitions ",0,t)}):_r("positions",h,"Invalid account id")},ld=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=(e.el,e.onSuccess),i=e.sort,c=e.direction,u=e.onError,s=void 0===u?null:u;n?Er.getPositions2(n,r,i,c).then(function(t){_r(name,o,t)}).catch(function(t){_r("get-positions2",s,t),Or("get postitions2 ",0,t)}):_r("positions2",s,"Invalid account id")},dd=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.model,i=(e.el,e.onSuccess),c=e.onError,u=void 0===c?null:c;r?Er.getPositions3(r,o).then(function(t){n("SET_PTF_POSITIONS",{acctId:r,model:o,data:t}),_r(name,i,t)}).catch(function(t){_r("get-positions3",u,t),Or("get postitions3 ",0,t)}):_r("positions3",u,"Invalid account id")},fd=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctId),i=e.model,c=(e.el,e.onSuccess),u=e.onError,s=void 0===u?null:u;o?Ba.getPnlPositions(o,i).then(function(t){n("SET_PNL_POSITIONS",{acctId:o,model:i,data:t}),_r(name,c,t),r("subscribePositions",{acctId:o,model:i})}).catch(function(t){_r("get-pnl-positions",s,t),Or("get pnl positions",0,t)}):_r("getPnlPositions",s,"Invalid account id")},pd=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=e.onSuccess,i=e.onError;Er.getPositionMetals(n,r).then(function(t){return _r(name,o,t)}).catch(function(t){return _r(name,i,t)})},md=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.acctId,i=e.force;return new Promise(function(t,e){o?!i&&r.comboPositions[o]?t(r.comboPositions[o]):Er.getComboPositions(o,i).then(function(e){n("SET_COMBO_POSITIONS",{acctId:o,data:e}),t(e)}).catch(function(t){e(wr(t))}):e("Account missing")})},vd=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.onSuccess,i=e.onError;if(r)return Er.getAccountSummary(r).then(function(t){if(Array.isArray(t)){for(var e={},i=0;i<t.length;i++){var c=t[i].key;c&&(e[c.toLocaleLowerCase()]=rd({amount:t[i].monetaryValue},t[i]))}Object.keys(e).length>0&&n("SET_ACCOUNT_SUMMARY",{acctId:r,data:e})}else n("SET_ACCOUNT_SUMMARY",{acctId:r,data:t});_r("account-summary",o,t)}).catch(function(t){_r("get-account-summary",i,t),Or("get account summary ",0,t)});_r("account-summary",i,"Invalid account id")},hd=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=(e.model,e.onSuccess),i=e.onError;if(r)return Er.getAccountLedger(r).then(function(t){if(Array.isArray(t)){for(var e={},i=0;i<t.length;i++){var c=t[i].secondKey;if(c){var u={};for(var s in t[i])u[s.toLocaleLowerCase()]=t[i][s];e[c]=u}}Object.keys(e).length>0&&n("SET_ACCOUNT_LEDGER",{acctId:r,data:e})}else n("SET_ACCOUNT_LEDGER",{acctId:r,data:t});o&&o(),_r("account-ledger",o,t)}).catch(function(t){_r("get-account-ledger",i,t),Or("get account ledger",0,t)});_r("account-ledger",i,"Invalid account id")},Sd=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctIds),o=e.model,i=e.onSuccess,c=e.onError;return Er.postPortfolioAllocation(r,o).then(function(t){n("SET_PORTFOLIO_ALLOCATION",t),_r("get portfolio alloc",i,t)}).catch(function(t){_r("get allocation httpFailed",c,t),Or("get portfolio allocation ",0,t)})},bd=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.modelcodes);return Er.getIbkrAmInfo(r).then(function(t){return n("SET_IBKRAM_INFO",t)}).catch(function(t){return Or("get ibkr am info",0,t)})},gd=function(t,e){t.commit,t.dispatch,t.state;var n=e.accts,r=(e.validateOnly,e.onSuccess),o=e.onError;return Er.validateAccounts(n).then(function(t){t&&t.length>0?_r("validate-accounts",r,t):_r("validate-accounts",o,[])}).catch(function(t){return Or("validate accounts",0,t)})},Ed=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.onSuccess;return Er.invalidatePositions(n).then(function(t){r&&r()}).catch(function(t){Or("invalidate positions",0,t)})},yd=function(t,e){t.commit,t.dispatch,t.state;var n=e.onSuccess;return Er.invalidateAllPositions().then(function(t){n&&n()}).catch(function(t){Or("invalidate all positions",0,t)})},_d=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.onSuccess,i=e.onError;return Er.getAccountMeta(r).then(function(t){t.error?_r("getAccountMeta: get account meta",i,{}):(n("SET_ACCOUNT_META",t),_r("getAccountMeta: get account meta",o,t))}).catch(function(t){_r("getAccountMeta: get account meta",i,{}),Or("getAccountMeta: get account meta",0,t)})},Td=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctId),i=e.tryAgain;return Er.getModels(o).then(function(t){var e=t.map(function(t){return t.name.split(".").pop()});r("getIbkrAmInfo",{modelcodes:e}),t.forEach(function(t){Er.getAccountLedger(o,t.name).then(function(e){var r=(e||[]).find(function(t){return"BASE"==t.secondKey});n("SET_MODELS_LEDGER",{acctId:o,modelName:t.name,modelDescription:t.description,data:r})})})}).catch(function(t){i>0&&(i--,setTimeout(function(){return r("getModelsLedger",{acctId:o,tryAgain:i})},3e3))})},Ad=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.acctId;if(r.portfolioPositions[o]&&r.portfolioPositions[o].length>0)return r.portfolioPositions[o];Er.getAllPositions(o).then(function(t){n("PTF_POSITIONS_SIMPLE",{acctId:o,list:t})})},Od=function(t,e){var n=t.commit;return function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(e),new Promise(function(t,e){Er.getPortfolioAccounts().then(function(e){n("SET_PORTFOLIO_ACCOUNTS",e),n("SET_HAS_BROKERAGE_ACCESS",(e||[]).some(function(t){return t.brokerageAccess})),t(e)}).catch(function(t){Or("Failed to get portfolio accounts",0,t),n("SET_HAS_BROKERAGE_ACCESS",!0),e(t)})})},wd=function(t,e){var n=t.commit,r=e.pageNum,o=void 0===r?0:r;return new Promise(function(t,e){Er.getPortfolioSubaccounts(o).then(function(e){n("SET_PORTFOLIO_SUBACCOUNTS",e),t(e)}).catch(function(t){Or("Failed to get portfolio subaccounts",0,t),e(t)})})},Id=new Set,Cd=new Map,Pd=function(t,e){var n=t.commit,r=(t.dispatch,t.rootGetters),o=e.acctId,i=e.model,c=e.onSuccess;e.onError;if(o){var u=r.realtime;if(void 0!==u){var s=o+i;if(Id.has(s)){var a=Cd.get(s);return c&&a.push(c),void _r("subscribePositions",c,{})}Id.add(s),c?Cd.set(s,[c]):Cd.set(s,[]);var l=function(t){var e=t.args;(n("SET_PNL_POSITIONS",{acctId:o,model:i,data:e}),Object.keys(e.total||{}).length>0)&&Cd.get(s).forEach(function(t){_r("subscribePositions",t,e)})};u?Ba.subscribePositions({acctId:o,model:i},{onUpdates:l}):Ba.getPnlPositions(o,i).then(l)}else console.error("Transport mode unknown. Couldnt subscribe to positions",o)}},Rd=function(t,e){t.commit,t.dispatch;var n=t.rootGetters,r=e.acctId,o=e.model;e.onSuccess,e.onError;if(r)if(void 0!==n.realtime){var i=r+o;Id.delete(i),Cd.delete(i),Ba.unsubscribePositions(r,o)}else console.error("Transport mode unknown. Couldnt unsubscribe to positions",r)},Nd=function(t){return t.accountSummary},Dd=function(t){return t.accountLedger||{}},Ld=function(t){return t.allocation},Md=function(t){return t.ibkramModels},Fd=function(t){return t.ledgerModels||{}},Ud=function(t,e){return t.portfolioPositionsSimple||{}},kd=function(t){return t.portfolioAccounts},jd=function(t){return t.portfolioSubaccounts},Bd=function(t,e,n,r){var o=t.portfolioAccounts.find(function(t){var e;return(null===t||void 0===t?void 0:t.accountId)==(null===(e=r.selectedAccounts[0])||void 0===e?void 0:e.accountId)});return(null===o||void 0===o?void 0:o["PrepaidCrypto-P"])?Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).CRYPTO_PLUS_URL.replace("{$}","PAXOS"):(null===o||void 0===o?void 0:o["PrepaidCrypto-Z"])?Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).CRYPTO_PLUS_URL.replace("{$}","ZEROHASH"):"AccountSettings&config=TradingPermissions&sectype=CRYPTO"},xd=function(t){return"INTR_BROK_CLIENT"===(t.portfolioAccounts.length?t.portfolioAccounts[0]:{}).businessType},Hd=function(t){var e;return null===(e=t.portfolioAccounts)||void 0===e?void 0:e.some(function(t){return"PRO-ADV"===(null===t||void 0===t?void 0:t.type)})};function Wd(t){"@babel/helpers - typeof";return(Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gd(Object(n),!0).forEach(function(e){qd(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function qd(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Wd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wd(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yd,$d={state:{authenticated:!1,conids:{},isMissingIServerAccount:!1,comboPositions:{},portfolioModels:{},portfolioModelsNlv:{},portfolioPositions:{},pnlPositions:{},accountSummary:[],accountLedger:[],allocation:{},ibkramModels:[],accountMeta:{},ledgerModels:{},portfolioPositionsSimple:{},portfolioAccounts:[],portfolioSubaccounts:{},hasBrokerageAccess:!1},getters:f,actions:d,mutations:{SET_CONID_MAP:function(t,e){e.forEach(function(e){return t.conids[e.conid]=e})},PTF_MODEL_CONIDS:function(t,e){var n=e.acctId,r=e.model,o=e.list;Vue.set(t.modelConids,n+r,o)},PTF_MODEL_NLVS:function(t,e){var n=e.acctId,r=e.model,o=e.nlv;Vue.set(t.portfolioModelsNlv,n+r,o)},PTF_MODELS:function(t,e){var n=e.acctId,r=e.list;Vue.set(t.portfolioModels,n,r)},SET_MISSING_ISERVERACC_STATUS:function(t,e){t.isMissingIServerAccount=e},SET_HAS_BROKERAGE_ACCESS:function(t,e){t.hasBrokerageAccess=e},SET_COMBO_POSITIONS:function(t,e){var n=e.acctId,r=e.data;Vue.set(t.comboPositions,n,r)},SET_PTF_POSITIONS:function(t,e){var n=e.acctId,r=e.model,o=e.data,i=t.portfolioPositions,c=!1;if(i[n]&&i[n].forEach(function(t){t.model===r&&(t.positions=o,c=!0)}),!c)if(i[n])i[n].push({model:r,positions:o});else{var u=[{model:r,positions:o}];i[n]=u}t.portfolioPositions=i},SET_PNL_AUTH:function(t,e){t.authenticated=e},SET_PNL_POSITIONS:function(t,e){var n=e.acctId,r=e.model,o=e.data,i=t.pnlPositions,c=o.total||{},u=o.combos||{},s=o.positions||{},a=o.updates||{},l=!1;if(i[n]){for(var d=0;d<i[n].length;d++){var f=i[n][d];if(f.model===r){if(f.total=c,Object.keys(s).length>0)for(var p in s){for(var m=!1,v=0;v<f.positions.length;v++)if(f.positions[v].conid==p){var h=Vd(Vd({},f.positions[v]),s[p]);Vue.set(f.positions,v,h),m=!0;break}m||f.positions.push(s[p])}for(var S in a)for(var b=0;b<f.positions.length;b++)if(f.positions[b].conid==S){var g=Vd(Vd({},f.positions[b]),a[S]);Vue.set(f.positions,b,g);break}Object.keys(u).length>0&&(f.combos=Vd(Vd({},f.combos),u)),l=!0;break}}t.pnlPositions=Vd({},i)}if(!l){var E=[];for(var y in s)E.push(s[y]);if(i[n])i[n].push({model:r,combos:u,positions:E,total:c});else{var _=[{model:r,combos:u,positions:E,total:c}];i[n]=_}}},SET_ACCOUNT_SUMMARY:function(t,e){for(var n=e.acctId,r={acctId:n,data:e.data},o=0;o<t.accountSummary.length;o++){if(t.accountSummary[o].acctId==n)return void Vue.set(t.accountSummary,o,r)}t.accountSummary.push(r)},SET_ACCOUNT_LEDGER:function(t,e){for(var n=e.acctId,r={acctId:n,data:e.data},o=0;o<t.accountLedger.length;o++){if(t.accountLedger[o].acctId==n)return void Vue.set(t.accountLedger,o,r)}t.accountLedger.push(r)},SET_PORTFOLIO_ALLOCATION:function(t,e){t.allocation=e},SET_IBKRAM_INFO:function(t,e){t.ibkramModels=e},SET_ACCOUNT_META:function(t,e){t.accountMeta=e},SET_MODELS_LEDGER:function(t,e){var n=e.acctId,r=e.modelName,o=e.modelDescription,i=e.data||{};i.description=o,i.name=r,Vue.set(t.ledgerModels,n,Vd(Vd({},t.ledgerModels[n]),qd({},r,i)))},PTF_POSITIONS_SIMPLE:function(t,e){var n=e.acctId,r=e.list;Vue.set(t.portfolioPositionsSimple,n,r)},SET_PORTFOLIO_ACCOUNTS:function(t,e){t.portfolioAccounts=e},SET_PORTFOLIO_SUBACCOUNTS:function(t,e){e&&e.metadata&&(t.portfolioSubaccounts[e.metadata.pageNum||0]=e)}},namespaced:!0};function Kd(t){"@babel/helpers - typeof";return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xd(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Kd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kd(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zd,Zd={namespaced:!0,state:{wideScreenSelectedConid:"",wideLayout:!1},actions:{setWideScreenSelectedConid:function(t,e){(0,t.commit)("SET_WIDE_SCREEN_SELECTED_CONID",e.conid)},setWideLayout:function(t,e){(0,t.commit)("SET_WIDE_LAYOUT",e.val)}},mutations:(Xd(Yd={},"SET_WIDE_SCREEN_SELECTED_CONID",function(t,e){t.wideScreenSelectedConid=e}),Xd(Yd,"SET_WIDE_LAYOUT",function(t,e){t.wideLayout=e,$media.wideMode=!!e}),Yd)},Jd={namespaced:!0,actions:{postScannerQuery:function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters,r=e.instrument,o=e.type,i=e.filter,c=e.location,u=e.delayedLocations,s=e.secType,a=e.maxItems,l=e.size,d=void 0===l?50:l,f=e.el,p=e.onSuccess,m=e.onError;bt(f),n["abFeatures/showDirectHMDS"]?Pt.postScannerQuery(r,o,i,c,u,s,a).then(function(t){_r("post scanner query",p,t),gt(f)}).catch(function(t){gt(f),_r("post scanner query",m,t),Or("post scanner query",0,t)}):wt.postScannerQuery(r,o,i,c,d).then(function(t){_r("post scanner query",p,t),gt(f)}).catch(function(t){gt(f),_r("post scanner query",m,t),Or("post scanner query",0,t)})}}};function Qd(t){"@babel/helpers - typeof";return(Qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ef(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Qd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qd(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nf=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).SLB_BASE_URL||"",rf="SET_SLB_DETAILS",of="RESET",cf="SET_SLB_DETAILS_LOADED",uf=function(t){return apiPost(nf+"/cstoolsws/ibgroup.custops.cust.slb/slb/search/",t)},sf={namespaced:!0,state:{app:"slb ",slbDetails:{quantity:0,quality:0,rebateRate:0,feeRate:0,isin:"",country:"",historical:{},conid:"",exchange:""},slbDetailsLoaded:!1},getters:{historicalData:function(t){return t.slbDetails.historical},quantity:function(t){return t.slbDetails.quantity},quality:function(t){return t.slbDetails.quality},rebateRate:function(t){return t.slbDetails.rebateRate},feeRate:function(t){return t.slbDetails.feeRate},isin:function(t){return t.slbDetails.isin},country:function(t){return t.slbDetails.country},slbDetailsLoaded:function(t){return t.slbDetailsLoaded}},actions:{getSlbData:function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.data;return r.slbDetails.conid===o.conid&&r.slbDetails.exchange===o.exchange?Promise.resolve():new Promise(function(t,e){uf(o).then(function(r){r&&r.result&&0!=r.result.length?(n(cf,!0),n(rf,{val:r.result[0],data:o}),t()):e("no_data_available")}).catch(function(t){e(wr(t)),console.error("failed to get SLB data: ",t)})})},reset:function(t){(0,t.commit)(of)}},mutations:(ef(zd={},rf,function(t,e){var n=e.val,r=e.data;t.slbDetails.quantity=n.quantity,t.slbDetails.quality=n.quality,t.slbDetails.rebateRate=n.rebateRate,t.slbDetails.feeRate=n.feeRate,t.slbDetails.isin=n.isin,t.slbDetails.country=n.country,t.slbDetails.historical=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tf(Object(n),!0).forEach(function(e){ef(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n.historical),t.slbDetails.conid=r.conid,t.slbDetails.exchange=r.exchange}),ef(zd,of,function(t){t.slbDetails.quantity=0,t.slbDetailsLoaded=!1}),ef(zd,cf,function(t,e){t.slbDetailsLoaded=e}),zd)};function af(t){"@babel/helpers - typeof";return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function df(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=af(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=af(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==af(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.PORTAL_BASE_URL="/portal.proxy/v1/mkt";var ff=new Vuex.Store({});!function(t){t._modules.root._children.abFeatures||t.registerModule("abFeatures",St),t._modules.root._children.iaPromo||t.registerModule("iaPromo",Bs),t._modules.root._children.options||t.registerModule("options",Vs),t._modules.root._children.ibcust||t.registerModule("ibcust",Ws),t._modules.root._children.am||t.registerModule("am",Ia),t._modules.root._children.ira||t.registerModule("ira",Da),t._modules.root._children.mdfarm||t.registerModule("mdfarm",Ua),t._modules.root._children.iserverData||t.registerModule("iserverData",$c),t._modules.root._children.ctci||t.registerModule("ctci",Ha),t._modules.root._children.fyi||t.registerModule("fyi",Dl),t._modules.root._children.pa||t.registerModule("pa",Ll),t._modules.root._children.folio||t.registerModule("folio",td),t._modules.root._children.portfolio||t.registerModule("portfolio",$d),t._modules.root._children.recurringInvestment||t.registerModule("recurringInvestment",Ma),t._modules.root._children.common||t.registerModule("common",{strict:!1,state:hu,getters:r,actions:c,mutations:Fs}),t._modules.root._children.wideScreen||t.registerModule("wideScreen",Zd),t._modules.root._children.scanner||t.registerModule("scanner",Jd),t._modules.root._children.slb||t.registerModule("slb",sf)}(ff);var pf=new m.a(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lf(Object(n),!0).forEach(function(e){df(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({store:ff},vu));!1!==window.AUTO_MOUNT&&(document.getElementById("app")&&pf.$mount("#app"));window.sbiApp=pf}]);