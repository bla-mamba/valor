!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/lib/sbi/",n(n.s=15)}([function(t,e){t.exports=Vue},function(t,e,n){(function(t){var e=function(t){"use strict";var n=1e7,r=7,o=9007199254740992,i=d(o),c=Math.log(o);function s(t,e){this.value=t,this.sign=e,this.isSmall=!1}function a(t){this.value=t,this.sign=t<0,this.isSmall=!0}function u(t){return-o<t&&t<o}function d(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function l(t){f(t);var e=t.length;if(e<4&&w(t,i)<0)switch(e){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*n;default:return t[0]+(t[1]+t[2]*n)*n}return t}function f(t){for(var e=t.length;0===t[--e];);t.length=e+1}function p(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function m(t){return t>0?Math.floor(t):Math.ceil(t)}function h(t,e){var r,o,i=t.length,c=e.length,s=new Array(i),a=0,u=n;for(o=0;o<c;o++)a=(r=t[o]+e[o]+a)>=u?1:0,s[o]=r-a*u;for(;o<i;)a=(r=t[o]+a)===u?1:0,s[o++]=r-a*u;return a>0&&s.push(a),s}function v(t,e){return t.length>=e.length?h(t,e):h(e,t)}function g(t,e){var r,o,i=t.length,c=new Array(i),s=n;for(o=0;o<i;o++)r=t[o]-s+e,e=Math.floor(r/s),c[o]=r-e*s,e+=1;for(;e>0;)c[o++]=e%s,e=Math.floor(e/s);return c}function S(t,e){var r,o,i=t.length,c=e.length,s=new Array(i),a=0,u=n;for(r=0;r<c;r++)(o=t[r]-a-e[r])<0?(o+=u,a=1):a=0,s[r]=o;for(r=c;r<i;r++){if(!((o=t[r]-a)<0)){s[r++]=o;break}o+=u,s[r]=o}for(;r<i;r++)s[r]=t[r];return f(s),s}function E(t,e,r){var o,i,c=t.length,u=new Array(c),d=-e,f=n;for(o=0;o<c;o++)i=t[o]+d,d=Math.floor(i/f),i%=f,u[o]=i<0?i+f:i;return"number"==typeof(u=l(u))?(r&&(u=-u),new a(u)):new s(u,r)}function b(t,e){var r,o,i,c,s=t.length,a=e.length,u=p(s+a),d=n;for(i=0;i<s;++i){c=t[i];for(var l=0;l<a;++l)r=c*e[l]+u[i+l],o=Math.floor(r/d),u[i+l]=r-o*d,u[i+l+1]+=o}return f(u),u}function _(t,e){var r,o,i=t.length,c=new Array(i),s=n,a=0;for(o=0;o<i;o++)r=t[o]*e+a,a=Math.floor(r/s),c[o]=r-a*s;for(;a>0;)c[o++]=a%s,a=Math.floor(a/s);return c}function y(t,e){for(var n=[];e-- >0;)n.push(0);return n.concat(t)}function T(t,e,r){return new s(t<n?_(e,t):b(e,d(t)),r)}function A(t){var e,r,o,i,c=t.length,s=p(c+c),a=n;for(o=0;o<c;o++){i=t[o];for(var u=0;u<c;u++)e=i*t[u]+s[o+u],r=Math.floor(e/a),s[o+u]=e-r*a,s[o+u+1]+=r}return f(s),s}function O(t,e){var r,o,i,c,s=t.length,a=p(s),u=n;for(i=0,r=s-1;r>=0;--r)i=(c=i*u+t[r])-(o=m(c/e))*e,a[r]=0|o;return[a,0|i]}function I(t,e){var r,o,i=V(e),c=t.value,u=i.value;if(0===u)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new a(m(c/u)),new a(c%u)]:[q[0],t];if(i.isSmall){if(1===u)return[t,q[0]];if(-1==u)return[t.negate(),q[0]];var f=Math.abs(u);if(f<n){o=l((r=O(c,f))[0]);var h=r[1];return t.sign&&(h=-h),"number"==typeof o?(t.sign!==i.sign&&(o=-o),[new a(o),new a(h)]):[new s(o,t.sign!==i.sign),new a(h)]}u=d(f)}var v=w(c,u);if(-1===v)return[q[0],t];if(0===v)return[q[t.sign===i.sign?1:-1],q[0]];o=(r=c.length+u.length<=200?function(t,e){var r,o,i,c,s,a,u,d=t.length,f=e.length,m=n,h=p(e.length),v=e[f-1],g=Math.ceil(m/(2*v)),S=_(t,g),E=_(e,g);for(S.length<=d&&S.push(0),E.push(0),v=E[f-1],o=d-f;o>=0;o--){for(r=m-1,S[o+f]!==v&&(r=Math.floor((S[o+f]*m+S[o+f-1])/v)),i=0,c=0,a=E.length,s=0;s<a;s++)i+=r*E[s],u=Math.floor(i/m),c+=S[o+s]-(i-u*m),i=u,c<0?(S[o+s]=c+m,c=-1):(S[o+s]=c,c=0);for(;0!==c;){for(r-=1,i=0,s=0;s<a;s++)(i+=S[o+s]-m+E[s])<0?(S[o+s]=i+m,i=0):(S[o+s]=i,i=1);c+=i}h[o]=r}return S=O(S,g)[0],[l(h),l(S)]}(c,u):function(t,e){for(var r,o,i,c,s,a=t.length,u=e.length,d=[],f=[],p=n;a;)if(f.unshift(t[--a]),w(f,e)<0)d.push(0);else{i=f[(o=f.length)-1]*p+f[o-2],c=e[u-1]*p+e[u-2],o>u&&(i=(i+1)*p),r=Math.ceil(i/c);do{if(w(s=_(e,r),f)<=0)break;r--}while(r);d.push(r),f=S(f,s)}return d.reverse(),[l(d),l(f)]}(c,u))[0];var g=t.sign!==i.sign,E=r[1],b=t.sign;return"number"==typeof o?(g&&(o=-o),o=new a(o)):o=new s(o,g),"number"==typeof E?(b&&(E=-E),E=new a(E)):E=new s(E,b),[o,E]}function w(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var n=t.length-1;n>=0;n--)if(t[n]!==e[n])return t[n]>e[n]?1:-1;return 0}function P(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(25)||void 0))}s.prototype.add=function(t){var e=V(t);if(this.sign!==e.sign)return this.subtract(e.negate());var n=this.value,r=e.value;return e.isSmall?new s(g(n,Math.abs(r)),this.sign):new s(v(n,r),this.sign)},s.prototype.plus=s.prototype.add,a.prototype.add=function(t){var e=V(t),n=this.value;if(n<0!==e.sign)return this.subtract(e.negate());var r=e.value;if(e.isSmall){if(u(n+r))return new a(n+r);r=d(Math.abs(r))}return new s(g(r,Math.abs(n)),n<0)},a.prototype.plus=a.prototype.add,s.prototype.subtract=function(t){var e=V(t);if(this.sign!==e.sign)return this.add(e.negate());var n=this.value,r=e.value;return e.isSmall?E(n,Math.abs(r),this.sign):function(t,e,n){var r;return w(t,e)>=0?r=S(t,e):(r=S(e,t),n=!n),"number"==typeof(r=l(r))?(n&&(r=-r),new a(r)):new s(r,n)}(n,r,this.sign)},s.prototype.minus=s.prototype.subtract,a.prototype.subtract=function(t){var e=V(t),n=this.value;if(n<0!==e.sign)return this.add(e.negate());var r=e.value;return e.isSmall?new a(n-r):E(r,Math.abs(n),n>=0)},a.prototype.minus=a.prototype.subtract,s.prototype.negate=function(){return new s(this.value,!this.sign)},a.prototype.negate=function(){var t=this.sign,e=new a(-this.value);return e.sign=!t,e},s.prototype.abs=function(){return new s(this.value,!1)},a.prototype.abs=function(){return new a(Math.abs(this.value))},s.prototype.multiply=function(t){var e,r=V(t),o=this.value,i=r.value,c=this.sign!==r.sign;if(r.isSmall){if(0===i)return q[0];if(1===i)return this;if(-1===i)return this.negate();if((e=Math.abs(i))<n)return new s(_(o,e),c);i=d(e)}return function(t,e){return-.012*t-.012*e+15e-6*t*e>0}(o.length,i.length)?new s(function t(e,n){var r=Math.max(e.length,n.length);if(r<=30)return b(e,n);r=Math.ceil(r/2);var o=e.slice(r),i=e.slice(0,r),c=n.slice(r),s=n.slice(0,r),a=t(i,s),u=t(o,c),d=v(v(a,y(S(S(t(v(i,o),v(s,c)),a),u),r)),y(u,2*r));return f(d),d}(o,i),c):new s(b(o,i),c)},s.prototype.times=s.prototype.multiply,a.prototype._multiplyBySmall=function(t){return u(t.value*this.value)?new a(t.value*this.value):T(Math.abs(t.value),d(Math.abs(this.value)),this.sign!==t.sign)},s.prototype._multiplyBySmall=function(t){return 0===t.value?q[0]:1===t.value?this:-1===t.value?this.negate():T(Math.abs(t.value),this.value,this.sign!==t.sign)},a.prototype.multiply=function(t){return V(t)._multiplyBySmall(this)},a.prototype.times=a.prototype.multiply,s.prototype.square=function(){return new s(A(this.value),!1)},a.prototype.square=function(){var t=this.value*this.value;return u(t)?new a(t):new s(A(d(Math.abs(this.value))),!1)},s.prototype.divmod=function(t){var e=I(this,t);return{quotient:e[0],remainder:e[1]}},a.prototype.divmod=s.prototype.divmod,s.prototype.divide=function(t){return I(this,t)[0]},a.prototype.over=a.prototype.divide=s.prototype.over=s.prototype.divide,s.prototype.mod=function(t){return I(this,t)[1]},a.prototype.remainder=a.prototype.mod=s.prototype.remainder=s.prototype.mod,s.prototype.pow=function(t){var e,n,r,o=V(t),i=this.value,c=o.value;if(0===c)return q[1];if(0===i)return q[0];if(1===i)return q[1];if(-1===i)return o.isEven()?q[1]:q[-1];if(o.sign)return q[0];if(!o.isSmall)throw new Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&u(e=Math.pow(i,c)))return new a(m(e));for(n=this,r=q[1];!0&c&&(r=r.times(n),--c),0!==c;)c/=2,n=n.square();return r},a.prototype.pow=s.prototype.pow,s.prototype.modPow=function(t,e){if(t=V(t),(e=V(e)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var n=q[1],r=this.mod(e);t.isPositive();){if(r.isZero())return q[0];t.isOdd()&&(n=n.multiply(r).mod(e)),t=t.divide(2),r=r.square().mod(e)}return n},a.prototype.modPow=s.prototype.modPow,s.prototype.compareAbs=function(t){var e=V(t),n=this.value,r=e.value;return e.isSmall?1:w(n,r)},a.prototype.compareAbs=function(t){var e=V(t),n=Math.abs(this.value),r=e.value;return e.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=V(t),n=this.value,r=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:w(n,r)*(this.sign?-1:1)},s.prototype.compareTo=s.prototype.compare,a.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=V(t),n=this.value,r=e.value;return e.isSmall?n==r?0:n>r?1:-1:n<0!==e.sign?n<0?-1:1:n<0?1:-1},a.prototype.compareTo=a.prototype.compare,s.prototype.equals=function(t){return 0===this.compare(t)},a.prototype.eq=a.prototype.equals=s.prototype.eq=s.prototype.equals,s.prototype.notEquals=function(t){return 0!==this.compare(t)},a.prototype.neq=a.prototype.notEquals=s.prototype.neq=s.prototype.notEquals,s.prototype.greater=function(t){return this.compare(t)>0},a.prototype.gt=a.prototype.greater=s.prototype.gt=s.prototype.greater,s.prototype.lesser=function(t){return this.compare(t)<0},a.prototype.lt=a.prototype.lesser=s.prototype.lt=s.prototype.lesser,s.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},a.prototype.geq=a.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals,s.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},a.prototype.leq=a.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals,s.prototype.isEven=function(){return 0==(1&this.value[0])},a.prototype.isEven=function(){return 0==(1&this.value)},s.prototype.isOdd=function(){return 1==(1&this.value[0])},a.prototype.isOdd=function(){return 1==(1&this.value)},s.prototype.isPositive=function(){return!this.sign},a.prototype.isPositive=function(){return this.value>0},s.prototype.isNegative=function(){return this.sign},a.prototype.isNegative=function(){return this.value<0},s.prototype.isUnit=function(){return!1},a.prototype.isUnit=function(){return 1===Math.abs(this.value)},s.prototype.isZero=function(){return!1},a.prototype.isZero=function(){return 0===this.value},s.prototype.isDivisibleBy=function(t){var e=V(t),n=e.value;return 0!==n&&(1===n||(2===n?this.isEven():this.mod(e).equals(q[0])))},a.prototype.isDivisibleBy=s.prototype.isDivisibleBy,s.prototype.isPrime=function(){var t=P(this);if(void 0!==t)return t;for(var n,r,o,i,c=this.abs(),s=c.prev(),a=[2,3,5,7,11,13,17,19],u=s;u.isEven();)u=u.divide(2);for(o=0;o<a.length;o++)if(!(i=e(a[o]).modPow(u,c)).equals(q[1])&&!i.equals(s)){for(r=!0,n=u;r&&n.lesser(s);n=n.multiply(2))(i=i.square().mod(c)).equals(s)&&(r=!1);if(r)return!1}return!0},a.prototype.isPrime=s.prototype.isPrime,s.prototype.isProbablePrime=function(t){var n=P(this);if(void 0!==n)return n;for(var r=this.abs(),o=void 0===t?5:t,i=0;i<o;i++){if(!e.randBetween(2,r.minus(2)).modPow(r.prev(),r).isUnit())return!1}return!0},a.prototype.isProbablePrime=s.prototype.isProbablePrime,s.prototype.next=function(){var t=this.value;return this.sign?E(t,1,this.sign):new s(g(t,1),this.sign)},a.prototype.next=function(){var t=this.value;return t+1<o?new a(t+1):new s(i,!1)},s.prototype.prev=function(){var t=this.value;return this.sign?new s(g(t,1),!0):E(t,1,this.sign)},a.prototype.prev=function(){var t=this.value;return t-1>-o?new a(t-1):new s(i,!0)};for(var C=[1];C[C.length-1]<=n;)C.push(2*C[C.length-1]);var R=C.length,N=C[R-1];function D(t){return("number"==typeof t||"string"==typeof t)&&+Math.abs(t)<=n||t instanceof s&&t.value.length<=1}function M(t,n,r){n=V(n);for(var o=t.isNegative(),i=n.isNegative(),c=o?t.not():t,s=i?n.not():n,a=[],u=[],d=!1,l=!1;!d||!l;)c.isZero()?(d=!0,a.push(o?1:0)):o?a.push(c.isEven()?1:0):a.push(c.isEven()?0:1),s.isZero()?(l=!0,u.push(i?1:0)):i?u.push(s.isEven()?1:0):u.push(s.isEven()?0:1),c=c.over(2),s=s.over(2);for(var f=[],p=0;p<a.length;p++)f.push(r(a[p],u[p]));for(var m=e(f.pop()).negate().times(e(2).pow(f.length));f.length;)m=m.add(e(f.pop()).times(e(2).pow(f.length)));return m}s.prototype.shiftLeft=function(t){if(!D(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftRight(-t);for(var e=this;t>=R;)e=e.multiply(N),t-=R-1;return e.multiply(C[t])},a.prototype.shiftLeft=s.prototype.shiftLeft,s.prototype.shiftRight=function(t){var e;if(!D(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftLeft(-t);for(var n=this;t>=R;){if(n.isZero())return n;n=(e=I(n,N))[1].isNegative()?e[0].prev():e[0],t-=R-1}return(e=I(n,C[t]))[1].isNegative()?e[0].prev():e[0]},a.prototype.shiftRight=s.prototype.shiftRight,s.prototype.not=function(){return this.negate().prev()},a.prototype.not=s.prototype.not,s.prototype.and=function(t){return M(this,t,function(t,e){return t&e})},a.prototype.and=s.prototype.and,s.prototype.or=function(t){return M(this,t,function(t,e){return t|e})},a.prototype.or=s.prototype.or,s.prototype.xor=function(t){return M(this,t,function(t,e){return t^e})},a.prototype.xor=s.prototype.xor;var L=1<<30,k=(n&-n)*(n&-n)|L;function U(t){var e=t.value,r="number"==typeof e?e|L:e[0]+e[1]*n|k;return r&-r}function F(t,e){return t=V(t),e=V(e),t.greater(e)?t:e}function j(t,e){return t=V(t),e=V(e),t.lesser(e)?t:e}function x(t,e){if(t=V(t).abs(),e=V(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var n,r,o=q[1];t.isEven()&&e.isEven();)n=Math.min(U(t),U(e)),t=t.divide(n),e=e.divide(n),o=o.multiply(n);for(;t.isEven();)t=t.divide(U(t));do{for(;e.isEven();)e=e.divide(U(e));t.greater(e)&&(r=e,e=t,t=r),e=e.subtract(t)}while(!e.isZero());return o.isUnit()?t:t.multiply(o)}var B=function(t,e){var n=q[0],r=q[1],o=t.length;if(2<=e&&e<=36&&o<=c/Math.log(e))return new a(parseInt(t,e));e=V(e);var i,s=[],u="-"===t[0];for(i=u?1:0;i<t.length;i++){var d=t[i].toLowerCase(),l=d.charCodeAt(0);if(48<=l&&l<=57)s.push(V(d));else if(97<=l&&l<=122)s.push(V(d.charCodeAt(0)-87));else{if("<"!==d)throw new Error(d+" is not a valid character");var f=i;do{i++}while(">"!==t[i]);s.push(V(t.slice(f+1,i)))}}for(s.reverse(),i=0;i<s.length;i++)n=n.add(s[i].times(r)),r=r.times(e);return u?n.negate():n};function H(t){var e=t.value;return"number"==typeof e&&(e=[e]),1===e.length&&e[0]<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e[0]):"<"+e+">"}function G(t,n){if((n=e(n)).isZero()){if(t.isZero())return"0";throw new Error("Cannot convert nonzero numbers to base 0.")}if(n.equals(-1))return t.isZero()?"0":t.isNegative()?new Array(1-t).join("10"):"1"+new Array(+t).join("01");var r="";if(t.isNegative()&&n.isPositive()&&(r="-",t=t.abs()),n.equals(1))return t.isZero()?"0":r+new Array(+t+1).join(1);for(var o,i=[],c=t;c.isNegative()||c.compareAbs(n)>=0;){c=(o=c.divmod(n)).quotient;var s=o.remainder;s.isNegative()&&(s=n.minus(s).abs(),c=c.next()),i.push(H(s))}return i.push(H(c)),r+i.reverse().join("")}function W(t){if(u(+t)){var e=+t;if(e===m(e))return new a(e);throw"Invalid integer: "+t}var n="-"===t[0];n&&(t=t.slice(1));var o=t.split(/e/i);if(o.length>2)throw new Error("Invalid integer: "+o.join("e"));if(2===o.length){var i=o[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==m(i)||!u(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var c=o[0],d=c.indexOf(".");if(d>=0&&(i-=c.length-d-1,c=c.slice(0,d)+c.slice(d+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=c+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);for(var l=[],p=t.length,h=r,v=p-h;p>0;)l.push(+t.slice(v,p)),(v-=h)<0&&(v=0),p-=h;return f(l),new s(l,n)}function V(t){return"number"==typeof t?function(t){return u(t)?new a(t):W(t.toString())}(t):"string"==typeof t?W(t):t}s.prototype.toString=function(t){if(void 0===t&&(t=10),10!==t)return G(this,t);for(var e,n=this.value,r=n.length,o=String(n[--r]);--r>=0;)e=String(n[r]),o+="0000000".slice(e.length)+e;return(this.sign?"-":"")+o},a.prototype.toString=function(t){return void 0===t&&(t=10),10!=t?G(this,t):String(this.value)},s.prototype.valueOf=function(){return+this.toString()},s.prototype.toJSNumber=s.prototype.valueOf,a.prototype.valueOf=function(){return this.value},a.prototype.toJSNumber=a.prototype.valueOf;for(var q=function t(e,n){return void 0===e?t[0]:void 0!==n?10==+n?V(e):B(e,n):V(e)},Y=0;Y<1e3;Y++)q[Y]=new a(Y),Y>0&&(q[-Y]=new a(-Y));return q.one=q[1],q.zero=q[0],q.minusOne=q[-1],q.max=F,q.min=j,q.gcd=x,q.lcm=function(t,e){return t=V(t).abs(),e=V(e).abs(),t.divide(x(t,e)).multiply(e)},q.isInstance=function(t){return t instanceof s||t instanceof a},q.randBetween=function(t,e){var r=j(t=V(t),e=V(e)),o=F(t,e).subtract(r);if(o.isSmall)return r.add(Math.round(Math.random()*o));for(var i=[],c=!0,u=o.value.length-1;u>=0;u--){var d=c?o.value[u]:n,f=m(Math.random()*d);i.unshift(f),f<d&&(c=!1)}return i=l(i),r.add("number"==typeof i?new a(i):new s(i,!1))},q}();t.hasOwnProperty("exports")&&(t.exports=e)}).call(this,n(14)(t))},function(t,e){t.exports=Vuex},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}(r),i=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var c=0;c<t.length;c++){var s=t[c];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],c=i[0],s={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[c]?r[c].parts.push(s):n.push(r[c]={id:c,parts:[s]})}return n}n.r(e),n.d(e,"default",function(){return m});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},c=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,a=0,u=!1,d=function(){},l=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,n,o){u=n,l=o||{};var c=r(t,e);return h(c),function(e){for(var n=[],o=0;o<c.length;o++){var s=c[o];(a=i[s.id]).refs--,n.push(a)}e?h(c=r(t,e)):c=[];for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete i[a.id]}}}}function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(g(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var c=[];for(o=0;o<n.parts.length;o++)c.push(g(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:c}}}}function v(){var t=document.createElement("style");return t.type="text/css",c.appendChild(t),t}function g(t){var e,n,r=document.querySelector("style["+f+'~="'+t.id+'"]');if(r){if(u)return d;r.parentNode.removeChild(r)}if(p){var o=a++;r=s||(s=v()),e=E.bind(null,r,o,!1),n=E.bind(null,r,o,!0)}else r=v(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);l.ssrId&&t.setAttribute(f,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var S=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function E(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=S(e,o);else{var i=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(i,c[e]):t.appendChild(i)}}},function(t,e,n){var r=n(9);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("1f3403ad",r,!0,{})},function(t,e,n){var r=n(11);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("3593c1f8",r,!0,{})},function(t,e,n){var r=n(13);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("14a2dfc0",r,!0,{})},function(t,e,n){"use strict";n(5)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".search-field[data-v-1d744558] {\n  width: calc(100% - 62px);\n  margin: 0 0 20px 0;\n  border-color: rgba(0, 0, 0, 0.2);\n}\n.search-field[data-v-1d744558]:hover {\n  border-color: #000;\n}\n.cancel[data-v-1d744558] {\n  display: inline-block;\n  height: 31px;\n  padding: 4px;\n  margin-left: -3px;\n  margin-bottom: 8px;\n  width: 31px;\n  border: 1px solid #d7d7d7;\n}\n.cancel svg[data-v-1d744558] {\n  color: #dcdcde;\n}\n.magnify[data-v-1d744558] {\n  height: 31px;\n  width: 31px;\n  border: 1px solid #D7D7D7;\n  border-radius: 0 5px 5px 0px;\n  background-color: #F7F7F7;\n  position: relative;\n  margin-bottom: 8px;\n  border-left: 0;\n}\n.magnify svg[data-v-1d744558] {\n  width: 100%;\n  height: 1em;\n}\n",""])},function(t,e,n){"use strict";n(6)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".quotes table {\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  border-left: 1px solid rgba(0, 0, 0, 0.1);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.quotes th {\n  border-right: 1px solid rgba(0, 0, 0, 0.1);\n  color: #666;\n}\n.quotes th svg {\n  color: #000;\n}\n.quotes th:hover {\n  background-color: #fafafa;\n  color: #000;\n}\n.quotes th > span {\n  width: 100%;\n}\n",""])},function(t,e,n){"use strict";n(7)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".si-quotes-view {\n  height: calc(100vh - 240px);\n}\n",""])},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"realtime",function(){return Xt}),n.d(r,"accessibility",function(){return zt}),n.d(r,"accountSummaries",function(){return Zt}),n.d(r,"excludedAccounts",function(){return Qt}),n.d(r,"balanceSummary",function(){return te}),n.d(r,"conids",function(){return ee}),n.d(r,"competitors",function(){return ne}),n.d(r,"firstApprovedDate",function(){return re}),n.d(r,"fundamentals",function(){return oe}),n.d(r,"items",function(){return ie}),n.d(r,"features",function(){return ce}),n.d(r,"userFeatures",function(){return se}),n.d(r,"userProps",function(){return ae}),n.d(r,"userAccts",function(){return ue}),n.d(r,"isCNLang",function(){return de}),n.d(r,"isPaperUser",function(){return le}),n.d(r,"markets",function(){return fe}),n.d(r,"marketData",function(){return pe}),n.d(r,"secdefData",function(){return me}),n.d(r,"bond",function(){return he}),n.d(r,"marketsInfo",function(){return ve}),n.d(r,"news",function(){return ge}),n.d(r,"newsContent",function(){return Se}),n.d(r,"performance",function(){return Ee}),n.d(r,"period",function(){return be}),n.d(r,"pnl",function(){return _e}),n.d(r,"positions",function(){return ye}),n.d(r,"priceHistory",function(){return Te}),n.d(r,"rates",function(){return Ae}),n.d(r,"user",function(){return Oe}),n.d(r,"username",function(){return Ie}),n.d(r,"isLiteUser",function(){return we}),n.d(r,"wbId",function(){return Pe}),n.d(r,"positionsSince",function(){return Ce}),n.d(r,"iserver",function(){return Re}),n.d(r,"uar",function(){return Ne}),n.d(r,"isFAClient",function(){return De}),n.d(r,"showMessageCenter",function(){return Me}),n.d(r,"showUserInfo",function(){return Le}),n.d(r,"showWLMS",function(){return ke}),n.d(r,"showIBAM",function(){return Ue}),n.d(r,"showBond",function(){return Fe}),n.d(r,"showCalendar",function(){return je}),n.d(r,"showOptionChains",function(){return xe}),n.d(r,"showMF",function(){return Be}),n.d(r,"showAdvisors",function(){return He}),n.d(r,"showPortfolioAnalyst",function(){return Ge}),n.d(r,"showSuggestionsForYou",function(){return We}),n.d(r,"isProd",function(){return Ve}),n.d(r,"showFyi",function(){return qe}),n.d(r,"showForum",function(){return Ye}),n.d(r,"isLocal",function(){return $e}),n.d(r,"isAlphaUser",function(){return Ke}),n.d(r,"hasDebugMenu",function(){return Je}),n.d(r,"isDev",function(){return Xe}),n.d(r,"isCI",function(){return ze}),n.d(r,"isQA",function(){return Ze}),n.d(r,"amSessionId",function(){return Qe}),n.d(r,"hasAmPicker",function(){return tn}),n.d(r,"canTradeBonds",function(){return en}),n.d(r,"appPath",function(){return nn}),n.d(r,"isAppMode",function(){return rn}),n.d(r,"brandInfo",function(){return on}),n.d(r,"canShowLogo",function(){return cn}),n.d(r,"brandLogo",function(){return sn}),n.d(r,"brandBlackLogo",function(){return an}),n.d(r,"hasSso",function(){return un}),n.d(r,"allAccounts",function(){return dn}),n.d(r,"selectedAccounts",function(){return ln}),n.d(r,"selectedAcctIds",function(){return fn}),n.d(r,"selectedAcctId",function(){return pn}),n.d(r,"selecteAcctAlias",function(){return mn}),n.d(r,"showQuickTradeV2",function(){return hn}),n.d(r,"showQuickTrade",function(){return vn}),n.d(r,"uniqueSelectedAcctIds",function(){return gn}),n.d(r,"ssoValidated",function(){return Sn}),n.d(r,"optionCombo",function(){return En}),n.d(r,"totalSummary",function(){return bn}),n.d(r,"connectedIServer",function(){return _n}),n.d(r,"iserverAccounts",function(){return yn}),n.d(r,"applicants",function(){return Tn}),n.d(r,"legalCountry",function(){return An}),n.d(r,"fromMobile",function(){return On}),n.d(r,"fromTWS",function(){return In}),n.d(r,"sso",function(){return wn}),n.d(r,"showInBase",function(){return Pn}),n.d(r,"isAlphaEnv",function(){return Cn}),n.d(r,"masterId",function(){return Rn}),n.d(r,"SFEnabled",function(){return Nn}),n.d(r,"isFreeTrial",function(){return Dn}),n.d(r,"clearingStatus",function(){return Mn}),n.d(r,"isAcctsEmpty",function(){return Ln}),n.d(r,"openDate",function(){return kn}),n.d(r,"isFunded",function(){return Un}),n.d(r,"withinFirstWeek",function(){return Fn}),n.d(r,"withinFirstMonth",function(){return jn}),n.d(r,"faviconUrl",function(){return xn}),n.d(r,"notificationIconUrl",function(){return Bn}),n.d(r,"isCurInComMd",function(){return Hn}),n.d(r,"isInCompleteConidSel",function(){return Gn}),n.d(r,"pickerAccounts",function(){return Wn}),n.d(r,"showNewMf",function(){return Vn}),n.d(r,"routeLoading",function(){return qn}),n.d(r,"totalUnreadNotifications",function(){return Yn}),n.d(r,"protectProd",function(){return $n}),n.d(r,"privacyMode",function(){return Kn}),n.d(r,"userProperties",function(){return Jn}),n.d(r,"accountProperties",function(){return Xn}),n.d(r,"europeResidencyIndex",function(){return zn}),n.d(r,"partialServiceInterruption",function(){return Zn}),n.d(r,"isAccountTaskPending",function(){return Qn}),n.d(r,"depositOnCreditHold",function(){return tr}),n.d(r,"consolidatedDepositOnCreditHold",function(){return er}),n.d(r,"supportsIBKeyWidget",function(){return nr}),n.d(r,"forceShowIBKeyWidget",function(){return rr}),n.d(r,"forceShowCryptoPopover",function(){return or}),n.d(r,"isTestingCryptoPos",function(){return ir}),n.d(r,"isFaOrIbroker",function(){return cr}),n.d(r,"ssoRestrictTrade",function(){return sr}),n.d(r,"hideCashReport",function(){return ar}),n.d(r,"isReferrerAccountType",function(){return ur});var o={};n.r(o),n.d(o,"triggerEvent",function(){return br}),n.d(o,"setAccountSummary",function(){return _r}),n.d(o,"tickleSession",function(){return yr}),n.d(o,"setFromMobile",function(){return Tr}),n.d(o,"getAllBalancesSummary",function(){return Ar}),n.d(o,"getCompetitors",function(){return Or}),n.d(o,"getFundamentals",function(){return Ir}),n.d(o,"getNews",function(){return wr}),n.d(o,"getNewsContent",function(){return Pr}),n.d(o,"getPerformanceData",function(){return Cr}),n.d(o,"getBenchmarkData",function(){return Rr}),n.d(o,"getPerformanceAllPeriods",function(){return Nr}),n.d(o,"getUser",function(){return Dr}),n.d(o,"getPriceHistory",function(){return Mr}),n.d(o,"getRegionMarkets",function(){return Lr}),n.d(o,"setUAR",function(){return kr}),n.d(o,"getSecdefs",function(){return Ur}),n.d(o,"getMktAm",function(){return Fr}),n.d(o,"setSelectedAccounts",function(){return jr}),n.d(o,"onSsoValidated",function(){return xr}),n.d(o,"setEventListeners",function(){return Br}),n.d(o,"getFutureContracts",function(){return Hr}),n.d(o,"storePickerAccounts",function(){return Gr}),n.d(o,"routeLoading",function(){return Wr}),n.d(o,"privacyMode",function(){return Vr}),n.d(o,"getAccountProperties",function(){return qr}),n.d(o,"goToLoginPage",function(){return Yr}),n.d(o,"getAccountStatus",function(){return $r}),n.d(o,"injectFundsOnHold",function(){return Kr}),n.d(o,"setIserverAccountsAsPickerAccounts",function(){return Jr});var i={};n.r(i),n.d(i,"getOrderStatus",function(){return fi}),n.d(i,"onIserverAuthStatus",function(){return pi}),n.d(i,"retrySSODH",function(){return mi}),n.d(i,"getAccounts",function(){return hi}),n.d(i,"registerUnsolicitedWsHandlers",function(){return vi}),n.d(i,"startSSODH",function(){return gi}),n.d(i,"startIServerSSODH",function(){return Si}),n.d(i,"compete",function(){return Ei}),n.d(i,"login",function(){return bi}),n.d(i,"onLoggedIn",function(){return _i}),n.d(i,"setClientStatus",function(){return yi}),n.d(i,"getMarketdata",function(){return Ti}),n.d(i,"getOrderTicketMarketdata",function(){return Ai}),n.d(i,"contingentUnsubscribeMarketdata",function(){return Oi}),n.d(i,"unsubscribeAllMarketData",function(){return Ii}),n.d(i,"unsubscribeMarketData",function(){return wi}),n.d(i,"startMarketDataPolling",function(){return Pi}),n.d(i,"stopMarketDataPolling",function(){return Ci}),n.d(i,"subscribeOrders",function(){return Ri}),n.d(i,"getOrders",function(){return Ni}),n.d(i,"forceFetchOrdersSnapshot",function(){return Di}),n.d(i,"unsubscribeOrders",function(){return Mi}),n.d(i,"stopOrdersPolling",function(){return Li}),n.d(i,"subscribePnl",function(){return ki}),n.d(i,"getPnl",function(){return Ui}),n.d(i,"unsubscribePnl",function(){return Fi}),n.d(i,"stopPnlPolling",function(){return ji}),n.d(i,"startAuthStatusPolling",function(){return xi}),n.d(i,"stopAuthStatusPolling",function(){return Bi}),n.d(i,"getBulletins",function(){return Hi}),n.d(i,"markBulletinsAsRead",function(){return Gi}),n.d(i,"getBriefingArticle",function(){return Wi}),n.d(i,"performAccountSwitch",function(){return Vi}),n.d(i,"searchBySym",function(){return qi}),n.d(i,"getLinks",function(){return Yi}),n.d(i,"getRegsnapshot",function(){return $i}),n.d(i,"clearRegsnapshots",function(){return Ki}),n.d(i,"setOEMode",function(){return Ji}),n.d(i,"getDebugPnl",function(){return Xi}),n.d(i,"getCurrencyPairs",function(){return zi}),n.d(i,"getContractInfo",function(){return Zi}),n.d(i,"subscribeTrades",function(){return Qi}),n.d(i,"unsubscribeTrades",function(){return tc}),n.d(i,"setCcyChartPair",function(){return ec}),n.d(i,"setWatchlistMap",function(){return nc}),n.d(i,"fetchWatchlist",function(){return rc}),n.d(i,"getMDColumns",function(){return oc}),n.d(i,"getPFMDColumns",function(){return ic}),n.d(i,"getWLMDColumns",function(){return cc}),n.d(i,"getAvailableAlerts",function(){return sc}),n.d(i,"getPriceAlerts",function(){return ac}),n.d(i,"deleteAlert",function(){return uc}),n.d(i,"activateAlert",function(){return dc}),n.d(i,"createOrModifyAlert",function(){return lc}),n.d(i,"setPriceAlertsDeliveryOptions",function(){return fc}),n.d(i,"resetAvailableAlerts",function(){return pc}),n.d(i,"getMtaAlerts",function(){return mc}),n.d(i,"setUserTimeZone",function(){return hc}),n.d(i,"onAuthStatus",function(){return vc}),n.d(i,"getOrderRules",function(){return gc}),n.d(i,"getCryptoClarification",function(){return Sc}),n.d(i,"getWatchlist",function(){return Ec}),n.d(i,"getAllWatchlists",function(){return bc}),n.d(i,"saveWatchlist",function(){return _c}),n.d(i,"appendToWatchlist",function(){return yc}),n.d(i,"updateAuthStatus",function(){return Tc}),n.d(i,"getHistorydata",function(){return Ac});var c={};n.r(c),n.d(c,"upnl",function(){return Pc}),n.d(c,"acctPnl",function(){return Cc}),n.d(c,"authenticated",function(){return Rc}),n.d(c,"backendDown",function(){return Nc}),n.d(c,"connected",function(){return Dc}),n.d(c,"status",function(){return Mc}),n.d(c,"prompts",function(){return Lc}),n.d(c,"marketData",function(){return kc}),n.d(c,"accounts",function(){return Uc}),n.d(c,"groups",function(){return Fc}),n.d(c,"profiles",function(){return jc}),n.d(c,"acctProps",function(){return xc}),n.d(c,"chartPeriods",function(){return Bc}),n.d(c,"aliases",function(){return Hc}),n.d(c,"selectedAccount",function(){return Gc}),n.d(c,"selectedAccountAlias",function(){return Wc}),n.d(c,"notifications",function(){return Vc}),n.d(c,"orders",function(){return qc}),n.d(c,"bulletins",function(){return Yc}),n.d(c,"readBulletins",function(){return $c}),n.d(c,"unreadBulletins",function(){return Kc}),n.d(c,"pendingOrdersNum",function(){return Jc}),n.d(c,"executedOrders",function(){return Xc}),n.d(c,"pendingOrders",function(){return zc}),n.d(c,"executedByOrderid",function(){return Zc}),n.d(c,"showIBotMic",function(){return Qc}),n.d(c,"briefing",function(){return ts}),n.d(c,"links",function(){return es}),n.d(c,"gfisLink",function(){return ns}),n.d(c,"showGFIS",function(){return rs}),n.d(c,"isLiteUser",function(){return os}),n.d(c,"snapshotRefreshTimeout",function(){return is}),n.d(c,"showWebNews",function(){return cs}),n.d(c,"iserverInfo",function(){return ss}),n.d(c,"showDebugPnl",function(){return as}),n.d(c,"allowFxConv",function(){return us}),n.d(c,"allowResearch",function(){return ds}),n.d(c,"allowTypeAhead",function(){return ls}),n.d(c,"currencyPairs",function(){return fs}),n.d(c,"watchlistMap",function(){return ps}),n.d(c,"showAlertBar",function(){return ms}),n.d(c,"brokerageAuthenticated",function(){return hs}),n.d(c,"loggingIn",function(){return vs}),n.d(c,"ccpSessionId",function(){return gs}),n.d(c,"exploreWatchlists",function(){return Ss}),n.d(c,"watchlists",function(){return Es}),n.d(c,"allowedAssetTypes",function(){return bs}),n.d(c,"allowImpactDashboard",function(){return _s}),n.d(c,"allowMTA",function(){return ys}),n.d(c,"allowFinancialLens",function(){return Ts}),n.d(c,"correctedTrades",function(){return As});var s={};n.r(s),n.d(s,"deleteDeviceOption",function(){return xs}),n.d(s,"getDeliveryOptions",function(){return Bs}),n.d(s,"getFyiDisclaimer",function(){return Hs}),n.d(s,"getFyiSettings",function(){return Gs}),n.d(s,"getAllFyis",function(){return Ws}),n.d(s,"getFyiNotifications",function(){return Vs}),n.d(s,"getFyiAlerts",function(){return qs}),n.d(s,"getMoreFyiNotifications",function(){return Ys}),n.d(s,"markDisclaimerRead",function(){return $s}),n.d(s,"markNotificationRead",function(){return Ks}),n.d(s,"setDeviceOption",function(){return Js}),n.d(s,"setEmailOption",function(){return Xs}),n.d(s,"setNotificationSetting",function(){return zs}),n.d(s,"submitReferralResponse",function(){return Zs}),n.d(s,"queryUserId",function(){return Qs}),n.d(s,"getCountryCodes",function(){return ta}),n.d(s,"getFeedbackData",function(){return ea}),n.d(s,"submitFeedback",function(){return na}),n.d(s,"getUnreadFyiNum",function(){return ra}),n.d(s,"getFyisAndTradeAlerts",function(){return oa}),n.d(s,"storeUnsavedPriceAlerts",function(){return ia});var a={};n.r(a),n.d(a,"email",function(){return ca}),n.d(a,"fyiDeviceOptions",function(){return sa}),n.d(a,"fyiDisclaimers",function(){return aa}),n.d(a,"fyiNotifications",function(){return ua}),n.d(a,"fyiAlerts",function(){return da}),n.d(a,"fyiSettings",function(){return la}),n.d(a,"fyiTabState",function(){return fa}),n.d(a,"countryCodes",function(){return pa}),n.d(a,"feedbackData",function(){return ma}),n.d(a,"fyiUnreadNum",function(){return ha});var u={};n.r(u),n.d(u,"getFolioModels",function(){return _a}),n.d(u,"getModelDetails",function(){return ya}),n.d(u,"getFolioModelOrders",function(){return Ta}),n.d(u,"setSelectedModel",function(){return Aa}),n.d(u,"getPerformanceChartData",function(){return Oa}),n.d(u,"createUpdateFolioModel",function(){return Ia}),n.d(u,"rebalanceFolioModel",function(){return wa}),n.d(u,"transmitFolioOrders",function(){return Pa});var d={};n.r(d),n.d(d,"selectedConids",function(){return Ca}),n.d(d,"folioModels",function(){return Ra}),n.d(d,"selectedModel",function(){return Na}),n.d(d,"modelOrdersStatus",function(){return Da}),n.d(d,"performanceChartData",function(){return Ma}),n.d(d,"savedModelStatus",function(){return La}),n.d(d,"rebalancedOrderDetails",function(){return ka}),n.d(d,"transmitOrdersStatus",function(){return Ua}),n.d(d,"modelTargetList",function(){return Fa});var l={};n.r(l),n.d(l,"doAuthentication",function(){return Va}),n.d(l,"getModels",function(){return qa}),n.d(l,"getIbkramModelInfo",function(){return Ya}),n.d(l,"getNlv",function(){return $a}),n.d(l,"getPositions",function(){return Ka}),n.d(l,"getPositions2",function(){return Ja}),n.d(l,"getPositions3",function(){return Xa}),n.d(l,"getPnlPositions",function(){return za}),n.d(l,"getPositionMetals",function(){return Za}),n.d(l,"getComboPositions",function(){return Qa}),n.d(l,"getAccountSummary",function(){return tu}),n.d(l,"getAccountLedger",function(){return eu}),n.d(l,"getPortfolioAllocation",function(){return nu}),n.d(l,"getIbkrAmInfo",function(){return ru}),n.d(l,"validateAccounts",function(){return ou}),n.d(l,"invalidatePositions",function(){return iu}),n.d(l,"invalidateAllPositions",function(){return cu}),n.d(l,"getAccountMeta",function(){return su}),n.d(l,"getModelsLedger",function(){return au}),n.d(l,"fetchAllPositionsConids",function(){return uu}),n.d(l,"getPortfolioAccounts",function(){return du}),n.d(l,"subscribePositions",function(){return pu}),n.d(l,"unsubscribePositions",function(){return mu});var f={};n.r(f),n.d(f,"accountSummary",function(){return hu}),n.d(f,"accountLedger",function(){return vu}),n.d(f,"allocation",function(){return gu}),n.d(f,"ibkramModels",function(){return Su}),n.d(f,"ledgerModels",function(){return Eu}),n.d(f,"portfolioPositionsSimple",function(){return bu}),n.d(f,"portfolioAccounts",function(){return _u});var p=n(0),m=n.n(p),h=n(2),v={get:function(){return window.PORTAL_BASE_URL||"/portal.proxy/"+($util.cookie("CP_API")||window.env)+"/portal"}};function g(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}window.baseUrl=v,null==window.ibrtDefaultSubscriptions&&(window.ibrtDefaultSubscriptions=[]);var E=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).DEBUG_REALTIME||!1,b="TextDecoder"in window?new TextDecoder:{decode:function(t){for(var e,n=new Uint8Array(t),r="",o=n.length,i=0;i<o;i++)e=n[i],r+=String.fromCharCode(e>251&&e<254&&i+5<o?1073741824*(e-252)+(n[++i]-128<<24)+(n[++i]-128<<18)+(n[++i]-128<<12)+(n[++i]-128<<6)+n[++i]-128:e>247&&e<252&&i+4<o?(e-248<<24)+(n[++i]-128<<18)+(n[++i]-128<<12)+(n[++i]-128<<6)+n[++i]-128:e>239&&e<248&&i+3<o?(e-240<<18)+(n[++i]-128<<12)+(n[++i]-128<<6)+n[++i]-128:e>223&&e<240&&i+2<o?(e-224<<12)+(n[++i]-128<<6)+n[++i]-128:e>191&&e<224&&i+1<o?(e-192<<6)+n[++i]-128:e);return r}},_=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hid=1,this.subscriptions=window.ibrtDefaultSubscriptions,this.log=!1,this.tickle=void 0,Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).WS_BASE_URL?this.wsUrl=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).WS_BASE_URL:this.wsUrl=("https:"==location.protocol?"wss:":"ws:")+"//"+location.host+v.get()+"/ws"}return function(t,e,n){e&&S(t.prototype,e),n&&S(t,n)}(t,[{key:"addEventListener",value:function(t){this.listener=t}},{key:"supportsWs",value:function(){return"WebSocket"in window}},{key:"connect",value:function(){if(console.debug("connecting to ws: ",this.wsUrl),this.supportsWs()){var t=new WebSocket(this.wsUrl);t.binaryType="arraybuffer",t.onopen=this.onOpen.bind(this),t.onerror=this.onError.bind(this),t.onclose=this.onClose.bind(this),t.onmessage=this.onMessage.bind(this),this.connected=!1,this.ws=t}else console.error("ws not supported")}},{key:"disconnect",value:function(){this.ws&&this.ws.close()}},{key:"onOpen",value:function(t){var e=this;console.debug("Websocket connection opened."),this.connected=!0,this.tickle||(this.tickle=setInterval(function(){return e.send("ech+hb")},2e4)),this.listener&&this.listener({event:"open",payload:t})}},{key:"onError",value:function(t){console.error("error",t),this.listener&&this.listener({event:"error",payload:t})}},{key:"onClose",value:function(t){console.debug("Websocket connection closed.",t),this.connected=!1,this.tickle&&clearInterval(this.tickle),this.listener&&this.listener({event:"close",payload:t})}},{key:"onMessage",value:function(t){var e=b.decode(t.data);if(this.log&&console.debug("<- on message",e),"ech+hb"!==e){var n=JSON.parse(e),r=n.topic||"";if(r){var o=this.subscriptions.filter(function(t){return t.topic==r});this.log&&console.debug("Topic: ".concat(r,"\nData: ").concat(JSON.stringify(n),"\nSubscriber Count: ").concat(o.length)),0!=o.length?o.forEach(function(t){n.success?t.handlers.forEach(function(t){return t.onSubscribed(n)}):t.handlers.forEach(function(t){return t.onMessage(n)})}):"system"!=r&&this.log&&console.warn("no subscribers for ",r,n)}else console.debug("no topic",n)}else this.log&&console.debug("echo hb back")}},{key:"send",value:function(t){this.log&&console.debug("-> sending ",t),this.ws&&this.ws.send(t)}},{key:"_registerSubscription",value:function(t,e,n,r){var o=this.subscriptions.find(function(e){var r;return(null===n||void 0===n?void 0:n.requestId)?e.topic==t&&(null===n||void 0===n?void 0:n.requestId)==(null===(r=e.args)||void 0===r?void 0:r.requestId):e.topic==t});if(o?o.handlers.push(r):this.subscriptions.push({topic:t,type:e,args:n,handlers:[r]}),this.ws.readyState==this.ws.OPEN){var i=t;n&&(i+="+"+JSON.stringify(n)),this.send(i)}else console.error("subscription queued, websocket not ready")}},{key:"cancelId",value:function(t,e,n){if(E&&console.debug("cancel ",t,"handler",e),e){var r=this.subscriptions.find(function(e){return e.topic=="u+"+t});if(r){var o=r.handler.findIndex(function(t){return t.id==e});return-1!=o&&r.handler.slice(o,1),void(r.handler.length>0&&E&&console.debug("subscriptions left",r.handler.length))}}this.subscriptions=this.subscriptions.filter(function(e){return e.topic!=t}),this.send(t)}},{key:"newCancelSubscriptions",value:function(t,e){this.log&&console.debug("new cancel subscription ",t,"args",e),this.subscriptions=this.subscriptions.filter(function(n){var r;return n.topic!=t||!(null===e||void 0===e||!e.requestId)&&(null===e||void 0===e?void 0:e.requestId)!=(null===n||void 0===n?void 0:null===(r=n.args)||void 0===r?void 0:r.requestId)})}},{key:"cancelAll",value:function(t,e){this.cancelId(t,null,e)}},{key:"isSubscribed",value:function(t){return void 0!=this.subscriptions.find(function(e){return e.topic==t})}},{key:"subscribeOrSendArgs",value:function(t,e,n,r){if(!this.subscriptions.find(function(e){return e.topic==t}))return this.subscribeArgs(t,e,n,r);this.send(t+"+"+JSON.stringify(n))}},{key:"subscribeArgs",value:function(t,e,n,r){var o=r.onSubscribed,i=r.onMessage,c=r.onError;if(this.log&&console.debug("realtime subscribe args",t,"args",n),this.supportsWs()){if(null==i)throw Error("onMessage handler to subscription expected");var s={id:this.hid++,onSubscribed:o||function(){return E&&console.debug("subscribed "+t)},onMessage:i,onError:c||function(){return console.error("subscription error "+t)}};return this._registerSubscription(t,e,n,s),s.id}c("ws not supported")}},{key:"subscribe",value:function(t,e,n){this.subscribeArgs(t,e,null,n)}},{key:"toggleConsoleLog",value:function(){this.log=!this.log}},{key:"resubscribe",value:function(){for(var t=g(this.subscriptions),e=0;e<t.length;e++){var n=t[e];this.cancelAll(n.topic)}this.subscriptions=[];for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<o.handlers.length;i++)this._registerSubscription(o.topic,o.type,o.args,o.handlers[i])}},{key:"clearSubscriptions",value:function(t){t?this.subscriptions=this.subscriptions.filter(function(e){return e.type!==t}):console.error("Couldnt clear realtime subscriptions: type missing.")}}],[{key:"setUnsolicitedHandlers",value:function(t){t&&(window.ibrtDefaultSubscriptions=t)}},{key:"instance",value:function(){try{null==window.ibrt&&(window.ibrt=new t);var e=window.ibrt;return e.connected||e.connect(),e}catch(t){console.error("realtime instance e",t)}}}]),t}(),y="SET_ORDERS",T={name:"SearchTerm",props:{contracts:Array},data:function(){return{curSearch:"",invalidInput:!1}},methods:{checkValidation:function(t){this.invalidInput=!!/[^a-zA-Z\d\s\.]/g.test(t)},clearField:function(){this.curSearch="",this.$emit("clearRes")},findTicker:function(){var t=this;if(this.invalidInput)return $alert(this.$t("valid_symbol")),void this.clearField();this.curSearch=this.curSearch.toUpperCase();var e=this.contracts.filter(function(e){return e.ticker===t.curSearch});0===e.length?($alert(this.$t("ticker_exist")),this.curSearch=""):(console.log("searchResult",e),this.$emit("searchRes",e))}}};n(8);function A(t,e,n,r,o,i,c,s){var a,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),c?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},u._ssrRegister=a):o&&(a=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),a)if(u.functional){u._injectStyles=a;var d=u.render;u.render=function(t,e){return a.call(e),d(t,e)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,a):[a]}return{exports:t,options:u}}var O=A(T,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outsety-4"},[n("ib-row",[n("ib-col",{staticClass:"s12 m12 l12 xl6"},[n("ib-form",{on:{submit:t.findTicker}},[n("ib-field",{staticClass:"search-field",attrs:{uppercase:!0,placeholder:this.$t("search_by_ticker")},on:{input:function(e){return t.checkValidation(t.curSearch)}},model:{value:t.curSearch,callback:function(e){t.curSearch=e},expression:"curSearch"}}),n("span",{staticClass:"bg15-inverse cancel",on:{click:t.clearField}},[n("svg",{attrs:{viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M10 0a10 10 0 1010 10A10.029 10.029 0 0010 0z"}}),n("path",{attrs:{d:"M14.9 13.5l-1.4 1.4-3.5-3.5-3.5 3.5-1.4-1.4L8.6 10 5.1 6.5l1.4-1.4L10 8.6l3.5-3.5 1.4 1.4-3.5 3.5z",fill:"#fff"}})])]),n("button",{staticClass:"magnify",on:{click:t.findTicker}},[n("svg",{attrs:{viewBox:"0 0 50 50"}},[n("path",{attrs:{d:"M21 3C11.6 3 4 10.6 4 20a16.99 16.99 0 0 0 26.1 14.34l12.27 12.28 4.26-4.24-12.13-12.1A16.99 16.99 0 0 0 21 3zm0 4c7.2 0 13 5.8 13 13s-5.8 13-13 13S8 27.2 8 20 13.8 7 21 7z"}})])])],1)],1)],1)],1)},[],!1,null,"1d744558",null).exports,I="";var w={report:function(t){return Y(I+"/metrics/report",t)},error:function(t){}};var P={report:function(t){return new Promise}};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e,n){var r=window.username+t;localStorage.setItem(r,e),n&&n(!0)}function N(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=window.username+t;e&&e(n?JSON.parse(localStorage.getItem(r)):localStorage.getItem(r))}var D={get:function(t,e){return new Promise(function(n,r){var o=window.username;if(o){var i=localStorage.getItem(o+"."+t);if(null===i||void 0===i)null!==e&&void 0!==e?("object"===("undefined"==typeof value?"undefined":C(value))?localStorage.setItem(o+"."+t,JSON.stringify(e)):localStorage.setItem(o+"."+t,e),n(e)):r("null");else{var c=i;try{c=JSON.parse(i)}catch(t){}n(c)}}else r("no username")})},store:function(t,e){var n=window.username;return new Promise(function(r,o){n?("object"===C(e)?localStorage.setItem(n+"."+t,JSON.stringify(e)):localStorage.setItem(n+"."+t,e),r(e)):o("no username")})},getPortfolioView:function(t){N(".pmview",t)},savePortfolioView:function(t){R(".pmview",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},getAccountSelection:function(t){N(".lastaccount",t,!0)},saveAccountSelection:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;R(".lastaccount",JSON.stringify(t),e)},getPerformanceWidgetPeriod:function(){N(".pw-period",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},savePerformanceWidgetPeriod:function(t){R(".pw-period",t)},getShowVirtualFX:function(){N(".show-virtual-fx",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveShowVirtualFX:function(t){R(".show-virtual-fx",t)},getShowInBase:function(){N(".show-in-base",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveShowInBase:function(t){R(".show-in-base",t)},getIndexChartData:function(){N(".mo-index-chart",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!0)},saveIndexChartData:function(t){R(".mo-index-chart",t)},getPerformanceRegion:function(){N(".mo-performance-region",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},savePerformanceRegion:function(t){R(".mo-performance-region",t)},getGainersLosersRegion:function(){N(".mo-gainers-losers-region",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveGainersLosersRegion:function(t){R(".mo-gainers-losers-region",t)},getMarketScannerRegion:function(){N(".mo-market-scanner-region",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveMarketScannerRegion:function(t){R(".mo-market-scanner-region",t)},getShowTradeNotification:function(){N(".show-trade-notification",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveShowTradeNotification:function(t){D.store(".show-trade-notification",t)},getHideGettingStarted:function(){N(".hide-getting-started",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveHideGettingStarted:function(t){R(".hide-getting-started",t)},getNotificationPrefs:function(){N(".notification-prefs",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!0)},saveNotificationPrefs:function(t){R(".notification-prefs",t)},getPrivacyMode:function(){N(".privacy-mode",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},savePrivacyMode:function(t){R(".privacy-mode",t)},saveRecentSearch:function(t){R(".recent-search",t)},getRecentSearch:function(){N(".recent-search",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveTelemetrySstm:function(t){R(".telemetry-sstm",t)},getTelemetrySstm:function(){N(".telemetry-sstm",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},savePerfChartSelection:function(t){R(".performance-chart-selection",t)},getPerfChartSelection:function(){N(".performance-chart-selection",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)},saveTelemetryComponents:function(t){R(".telemetry-components",t)},getTelemetryComponents:function(){N(".telemetry-components",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,!1)}};function M(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).DEBUG_USAGE;var k=null,U=!1,F=15e3,j={},x=new Set(["iserver","REST"]),B=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),setInterval(function(){return e.publishMetrics()},F)}return function(t,e,n){e&&L(t.prototype,e),n&&L(t,n)}(t,[{key:"store",value:function(t){D&&D.get("cp.metrics",[]).then(function(e){t.source&&x.has(t.source)&&(D.store("cp.metrics",[].concat(M(e),[t])),U&&console.debug("-metrics- Stored to LocalStorage: ".concat(JSON.stringify(t))))}).catch(function(t){U&&console.debug("-metrics- Failed to store metrics to LocalStorage: ".concat(t))})}},{key:"publishMetrics",value:function(){D&&D.get("cp.metrics").then(function(t){t.length&&(w.report(t),D.store("cp.metrics",[]),U&&console.debug("-metrics- published ".concat(t.length)))}).catch(function(t){U&&console.debug("-metrics- Failed to load metrics from LocalStorage: ".concat(t))})}},{key:"register",value:function(t){t&&this.store(t)}},{key:"registerDaily",value:function(t){}},{key:"registerEvent",value:function(t,e,n){if(t&&n){var r={source:t,type:e,value:n};this.store(r)}else console.warn("missing source or value",t,n)}},{key:"registerClickEvent",value:function(t,e){this.registerEvent(t,"click-event",e)}}],[{key:"startTimer",value:function(t){j[t]=+$date.local()}},{key:"endTimer",value:function(e,n){var r=j[n];t.instance().register({type:n,source:e,timestamp:r,"value-int":$date.local()-r})}},{key:"error",value:function(t){w.error(t),U&&console.debug("-metrics- on error, ".concat(t))}},{key:"toggleLogging",value:function(){U=!U,console.debug("-metrics- Logging:".concat(U))}},{key:"instance",value:function(){try{return null==k&&(k=new t),k}catch(t){P.report("Failed to create Metrics instance: "+t)}}}]),t}();function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var G=function(t){return t.includes("://")?t:v.get()+t},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.Max_VALUE;if(null===t||void 0===t?void 0:t.redirected)return{redirected:!0};if(t.ok){var n=$date.now()-e;return n>5e3&&B.instance().register({source:"REST",type:"slow-req","value-int":n,u:J(t.url)}),t.text().then(function(t){var e;try{e=JSON.parse(t)}catch(n){e=t}return e})}var r=t.status,o=t.statusText;return t.clone().text().then(function(e){var n;try{var o=JSON.parse(e);n=X(o)}catch(t){n=e}B.instance().register({source:"REST",type:"failed-req",u:J(t.url),"value-int":r,t:n})}),t.text().then(function(t){var e;try{e=JSON.parse(t)}catch(n){e=t}throw{response:{data:e,status:r,statusText:o}}})},V=function(t){var e=$date.now();return fetch(G(t),{credentials:"include"}).then(function(t){return W(t,e)})},q=function(t){var e=$date.now();return Promise.all(t.map(function(t){return fetch(G(t),{credentials:"include"}).then(function(t){return W(t,e)})}))},Y=function(t,e){var n=$date.now();return fetch(G(t),{method:"post",body:e instanceof FormData?e:JSON.stringify(e),credentials:"include",headers:e instanceof FormData?{}:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){return W(t,n)})},$=function(t){var e=$date.now();return fetch(G(t),{method:"delete",credentials:"include"}).then(function(t){return W(t,e)})},K=function(t,e){var n=$date.now();return fetch(G(t),{method:"put",body:e instanceof FormData?e:JSON.stringify(e),credentials:"include",headers:e instanceof FormData?{}:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){return W(t,n)})},J=function(t){var e=document.createElement("a");return e.href=t,e.pathname},X=function(t){for(var e="",n=0,r=Object.entries(t);n<r.length;n++){var o=H(r[n],2),i=o[0],c=o[1];e+="".concat(i,": ").concat(c,", ")}return e};function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(e){Q(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(){return Date.now()/1e3|0}window.$requestUtil||(window.$requestUtil={sstm:et(),request_id:0,uuid:$util.uuidv4(),infoReported:!1});var nt=$requestUtil.uuid,rt=$requestUtil.sstm,ot=function(t){window.nativeConsole&&"function"==typeof nativeConsole.log&&nativeConsole.log(t),"function"==typeof window.__logger?window.__logger(t):Array.isArray(window.__logs)&&__logs.push([(new Date).toLocaleString(),t])},it=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.headers={},this.baseUrlOverride="",this.paramsPreprocessors=[]}return function(t,e,n){e&&tt(t.prototype,e),n&&tt(t,n)}(t,[{key:"getBase",value:function(){var t="".concat(document.location.origin,"/tws.proxy");try{void 0!==PROCESS_ENDPOINT&&(t=PROCESS_ENDPOINT)}catch(t){}return this.baseUrlOverride||t}},{key:"formatUrl",value:function(t){return 0===t.indexOf("http")?t:this.getBase()+"/"+t}},{key:"addParamsPreprocessor",value:function(t){var e=this;return this.paramsPreprocessors.push(t),function(){e.paramsPreprocessors=e.paramsPreprocessors.filter(function(e){return e!==t})}}},{key:"formatParams",value:function(t){var e=$util.cookie("XYZAB"),n={"Content-Type":"application/json; charset=utf-8","x-session-id":$requestUtil.uuid,"x-request-id":$requestUtil.request_id++,"X-SERVICE":"WEB_APP_ACTION","x-embedded-in":"marketing","X-WA-VERSION":["7addd92","Wed, 6 Jul 2022 12:08:22 -0400"]+"/2022-07-07T14:04:17.445Z"};(function(t){return!(null===t||void 0===t||"null"===(""+t).toLowerCase()||"undefined"===(""+t).toLowerCase()||!/^[a-z0-9]+$/i.exec(t))})(e)&&(n["X-XYZAB"]=e);var r=Z({credentials:"include",headers:n},t);return this.paramsPreprocessors.reduce(function(t,e){return t=e(t)},r)}},{key:"overrideBase",value:function(t){this.baseUrlOverride=t}},{key:"request",value:function(t,e){return ot("WA > requesting ".concat(t," with params ").concat(JSON.stringify(e))),fetch(this.formatUrl(t),this.formatParams(e)).then(function(e){if(e.clone){var n=e.clone();if(n&&n.status&&"401"===n.status.toString())return $app.send({action:"sso_validation_failed"}),Promise.reject(new Error("Session expired"));n.ok?n.text().then(function(e){ot("WA > ".concat(t," SUCCESS with response ").concat(e," statusText ").concat(n.statusText," statusCode ").concat(n.status))}).catch(function(e){ot("WA > ".concat(t," FAILED with response error message ").concat(e?e.message:"Unknown"," statusText ").concat(n.statusText," statusCode ").concat(n.status))}):n.text().then(function(e){ot("WA > ".concat(t," FAILED with response ").concat(e," statusText ").concat(n.statusText," statusCode ").concat(n.status))}).catch(function(e){ot("WA > ".concat(t," FAILED with response error message ").concat(e?e.message:"Unknown"," statusText ").concat(n.statusText," statusCode ").concat(n.status))})}else ot("WA > ".concat(t," SUCCESS with response ").concat(e," statusText ").concat(e&&e.statusText," statusCode ").concat(e&&e.status));return e}).catch(function(e){return ot("WA > ".concat(t," FAILED with response ").concat(e?e.message:"Unknown")),e})}},{key:"reportTelemetry",value:function(t){var e,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=null===(e=Object({mode:"production",env:"production",rev:["7addd92","Wed, 6 Jul 2022 12:08:22 -0400"],platform:"marketing",date:"2022-07-07T14:04:17.445Z"}))||void 0===e?void 0:e.platform,s=$requestUtil.infoReported?void 0:Z({prod:"production"==(null===(n=Object({mode:"production",env:"production",rev:["7addd92","Wed, 6 Jul 2022 12:08:22 -0400"],platform:"marketing",date:"2022-07-07T14:04:17.445Z"}))||void 0===n?void 0:n.env)?1:0},i),a="web"===c||"desktop"===c,u=Z({},t,{},{wa_session:nt,sstm:rt,t:et()-rt});if(a){$requestUtil.infoReported=!0;var d={sstm:rt,info:s,data:u};return this.request("telemetry/authAdd",{method:"POST",body:JSON.stringify(d)}).then(function(t){if(!t.ok&&["401","400"].includes(t.status.toString()))return r.request("telemetry/noAuthAdd",{method:"POST",body:JSON.stringify(Z({user:o},d))}).then(function(t){if(t.ok)return t.json();throw"Failed non auth telemetry"});if(t.ok)return t.json();throw"Failed auth telemetry"}).catch(function(t){console.log(t)})}$app.send({action:"web_app_telemetry",data:u})}}]),t}()),ct=it,st="",at="build.qa"==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV||"qa"==window.env;var ut={autologon:function(){return Y(st+"/iserver/auth/autologon")},getAllBalancesSummary:function(t){return Y(st+"/pa/summary",{acctIds:t})},getCloudRead:function(t){var e=t.scanners,n=void 0===e?void 0:e,r=t.filename,o=void 0===r?void 0:r,i=t.portal,c=void 0===i?void 0:i,s=t.ext,a=void 0===s?void 0:s,u="";return n&&(u+="scanners=1"),o&&(u+="filename=portal."+o),c&&(u+="portal=1"),a&&c&&(u+="&ext="+a),V(st+"/wlms/cloud/read"+(u?"?"+u:""))},getCloudStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="?";return t&&(r+="md5base64="+t),e&&(r+="&ext="+e),n&&(r+="&bin="+n),V(st+"/wlms/cloud/store"+r)},getCloudDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";return t&&(e="?ext="+t),V(st+"/wlms/cloud/delete"+e)},getCompanyLogo:function(t){return V(st+"/benzinga/logos?conid="+t)},getCompetitors:function(){return V(st+"/portfolio/competitors")},getFundamentals:function(t){if(!isNaN(t))return V(st+"/iserver/fundamentals/"+t+"/summary")},getMktAm:function(t){return fetch("https://"+Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).WB_DOMAIN+"/mkt/am.php?id="+t).then(function(t){return t.text()}).then(function(t){return(new window.DOMParser).parseFromString(t,"text/xml")})},getAcctPnl:function(t){return V(st+"/iserver/account/"+t+"/pnl")},getMarketDataSubscriptions:function(){return V(st+"/ibcust/marketdata/subscriptions")},getNews:function(t,e){if(!isNaN(t))return V(e?st+"/iserver/news?conid="+t+"&more="+e:st+"/iserver/news?conid="+t)},getPortfolioNews:function(){return V(st+"/iserver/news/portfolio")},getNewsSources:function(){return V(st+"/iserver/news/sources")},getBriefingArticle:function(){return V(st+"/iserver/news/briefing")},getTopNews:function(){return V(st+"/iserver/news/top")},getNewsContent:function(t){return V(st+"/iserver/news/"+t+"/content")},getPerformanceData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12M",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return Y(st+"/pa/performance",{acctIds:t,period:e,benchmarks:n,consolidate:r})},getPerformanceAllPeriods:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Y(st+"/pa/allperiods",{acctIds:t,model:e,benchmarks:n})},getTransactions:function(t){var e=t.acctIds,n=t.days,r=t.currency,o=t.conids,i=t.additional;return Y(st+"/pa/transactions",{acctIds:e,days:n,currency:r,conids:o,additional:void 0===i?null:i})},getMarketIndices:function(){return V(st+"/markets/indices")},getSearchBySym:function(t){return Y("/iserver/secdef/search",{symbol:t})},getSecdefInfo:function(t){return V("/iserver/secdef/info?conid="+t)},getSecdefs:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0==t||0==t.length?Promise.reject("getSecdefs: empty conids"):V("/trsrv/secdef?conids=".concat(t.join(","),"&contracts=").concat(e))},getSecdefSchedule:function(t,e,n){return V("/trsrv/secdef/schedule?assetClass=".concat(t,"&symbol=").concat(e,"&exchangeFilter=").concat(n))},getTimeInForceTypes:function(){return V(st+"/one/order/tifs")},getTrades:function(t){return V(st+"/iserver/account/trades",t)},logout:function(){return Y(st+"/logout")},postOrderPreview:function(t,e){return Y(st+"/iserver/account/"+t+"/order/whatif",e)},ssoDHresponse:function(t){return Y(st+"/iserver/auth/ssodh/response",{response:t})},validateSso:function(){return V(st+"/sso/validate")},getFutureContracts:function(t){return V(st+"/trsrv/futures?symbols="+t)},getStockContracts:function(t){return V(st+"/trsrv/stocks?symbols="+t)},tickleSession:function(){return Y(st+"/tickle")},apiGet:V,getSbuzzData:function(t){var e;return e=at?Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BRAND_BASE_URL+"/tws.proxy/sma/request?type=latest&conid="+t:"sma/request?type=latest&conid="+t,new Promise(function(t,n){ct.request(e,{}).then(function(t){return t.json()}).then(function(e){return t(e)}).catch(function(t){n(t)})})},apiPut:K,apiPost:Y,apiDelete:$,getReutersSections:function(t){return V(st+"/reuters/sections?conid="+t)},getAccountProperties:function(t){return Y(st+"/properties",{accountIds:t})},sendTelemetry:function(t){var e,n=JSON.stringify(t);(e=at?Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BRAND_BASE_URL+"/tws.proxy/telemetry/authAdd":"telemetry/authAdd")&&ct.request(e,{method:"POST",body:n})},getImpactPosition:function(t,e){var n="impact/portfolio/position?conid=".concat(t,"&accounts=").concat(e,"&short=false");return at&&(n=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BRAND_BASE_URL+"/tws.proxy/"+n),new Promise(function(t,e){ct.request(n,{}).then(function(t){return t.json()}).then(function(e){return t(e)}).catch(function(t){e(t)})})},getConidsByExchange:function(t){return t?V("/trsrv/all-conids?exchange=".concat(t)):Promise.reject("getConidsByExchange: Exchange not specified")}},dt=ut;function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.cmnApi=ut;var pt=["88","84","85","86","7051"],mt={name:"SiQuotes",components:{SearchTerm:O},data:function(){return{contracts:[],search:[],loading:!0,error:void 0}},beforeCreate:function(){this.subscribed=new Set,this.toSubscribe=new Set,this.toUnsubscribe=new Set,this.willSubscribe=0,this.willUnsubscribe=0},created:function(){this.getConids()},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach(function(e){ft(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},Object(h.mapGetters)({md:"iserverData/marketData"})),methods:{getConids:function(){var t=this;this.loading=!0,this.error=void 0,dt.getConidsByExchange(this.getExchange()).then(function(e){t.contracts=e}).catch(function(e){t.error=e}).finally(function(){t.loading=!1})},getExchange:function(){return new URLSearchParams(window.location.search).get("siExchange")||"EUIBSI"},rowEnter:function(t){this.toUnsubscribe.delete(t),this.toSubscribe.add(this.contracts[t].conid),this.queueSubscriptions()},rowLeave:function(t){this.subscribed.size&&(this.toSubscribe.delete(t),this.toUnsubscribe.add(t),this.queueSubscriptions())},queueSubscriptions:function(){!this.willSubscribe&&this.toSubscribe.size&&(this.willSubscribe=setTimeout(this.subscribe,100)),!this.willUnsubscribe&&this.toUnsubscribe.size&&(this.willUnsubscribe=setTimeout(this.unsubscribe,2e3))},subscribe:function(){var t=Array.from(this.toSubscribe);this.$store.dispatch("iserverData/getMarketdata",{conids:t,fields:pt}),t.forEach(this.subscribed.add,this.subscribed),this.toSubscribe.clear(),this.willSubscribe=0},unsubscribe:function(){var t=this;Array.from(this.toUnsubscribe).forEach(function(e){t.$store.dispatch("iserverData/unsubscribeMarketData",{conid:e}),t.subscribed.delete(e)}),this.toUnsubscribe.clear(),this.willUnsubscribe=0},clearSearch:function(){this.search=[]},setSearch:function(t){this.search=t}},beforeDestroy:function(){this.$store.dispatch("iserverData/unsubscribeAllMarketData",{})}};n(10);function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach(function(e){gt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var St={name:"index",data:function(){return{translations:{en:{Ask_Size:"Ask Size",Ask_price:"Ask price",Bid_Price:"Bid Price",Bid_Size:"Bid Size",Failed_to_get_contracts:"Failed to get contracts",Financial_Instrument:"Financial Instrument",No_contracts_found:"No contracts found",ib_symbol:"IB Symbol",of:"of",product_description:"Product Description",search_by_ticker:"Search by Ticker Symbol",showing:"Showing",ticker_exist:"This ticker symbol doesn't exist",valid_symbol:"Please use a valid ticker symbol"},es:"/lib/sbi/i18n/es.json",fr:"/lib/sbi/i18n/fr.json",it:"/lib/sbi/i18n/it.json",ru:"/lib/sbi/i18n/ru.json","zh-Hans":"/lib/sbi/i18n/zh-Hans.json","zh-Hant":"/lib/sbi/i18n/zh-Hant.json",ja:"/lib/sbi/i18n/ja.json"},title:""}},components:{SiQuotes:A(mt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ib-col",{staticClass:"flex"},[t.search.length>0?n("p",{staticClass:"insety-16"},[t._v(t._s(t.$t("showing"))+" "+t._s(t.search.length)+" "+t._s(t.$t("of"))+" "+t._s(t.search.length))]):n("p",{staticClass:"insety-16"},[t._v(t._s(t.$t("showing"))+" "+t._s(t.contracts.length)+" "+t._s(t.$t("of"))+" "+t._s(t.contracts.length))]),n("SearchTerm",{attrs:{contracts:t.contracts},on:{clearRes:t.clearSearch,searchRes:t.setSearch}}),n("ib-table-basic",{staticClass:"quotes",attrs:{data:t.search.length>0?t.search:t.contracts,root:"window","root-margin":"256px",rowstripe:"",rowborder:"",colborder:""},on:{enter:t.rowEnter,leave:t.rowLeave},scopedSlots:t._u([{key:"empty",fn:function(){return[t.loading?n("ib-progress-linear"):t.error?n("p",{domProps:{textContent:t._s(t.$t("Failed_to_get_contracts"))}}):n("p",{domProps:{textContent:t._s(t.$t("No_contracts_found"))}})]},proxy:!0},{key:"body",fn:function(e){return[n("td",[n("span",{staticClass:"end-8 text-bold",domProps:{textContent:t._s(e.ticker)}}),n("span",{staticClass:"fg50 fs7 upeprcase",domProps:{textContent:t._s(e.exchange)}})]),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:(t.md[e.conid]||{})[7051],expression:"(md[pos.conid] || {})[7051]",modifiers:{raw:!0}}]}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:(t.md[e.conid]||{})[88],expression:"(md[pos.conid] || {})[88]",modifiers:{raw:!0}}]}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:(t.md[e.conid]||{})[84],expression:"(md[pos.conid] || {})[84]",modifiers:{raw:!0}}]}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:(t.md[e.conid]||{})[85],expression:"(md[pos.conid] || {})[85]",modifiers:{raw:!0}}]}),n("td",{directives:[{name:"num",rawName:"v-num.raw",value:(t.md[e.conid]||{})[86],expression:"(md[pos.conid] || {})[86]",modifiers:{raw:!0}}]})]}}])},[n("ib-table-col",{attrs:{width:"7ch",sticky:"",sort:"ticker",sorted:""}},[t._v(t._s(t.$t("ib_symbol"))+"    ")]),n("ib-table-col",{attrs:{width:"24ch"}},[t._v(t._s(t.$t("product_description")))]),n("ib-table-col",{attrs:{width:"6ch"}},[t._v(t._s(t.$t("Bid_Size"))+"    ")]),n("ib-table-col",{attrs:{width:"6ch"}},[t._v(t._s(t.$t("Bid_Price"))+" ")]),n("ib-table-col",{attrs:{width:"6ch"}},[t._v(t._s(t.$t("Ask_Size"))+" ")]),n("ib-table-col",{attrs:{width:"6ch"}},[t._v(t._s(t.$t("Ask_price"))+"   ")])],1)],1)},[],!1,null,null,null).exports},created:function(){this.initWs()},computed:vt({},Object(h.mapGetters)("options",["realtime"])),methods:vt({},Object(h.mapMutations)("options",{setRealtime:"SET_ENABLE_REALTIME"}),{mount:function(t,e){window.sbiApp._isMounted||(console.debug("mount for the first time"),window.sbiApp.$mount());var n=document.getElementById(t);n?(n.innerHTML="",n.appendChild(window.sbiApp.$el),e&&(this.title=e)):this.$notify("Can't instantiate SI quotes app")},initWs:function(){var t=this;if(!window.ibrt){if(console.debug("Initialising websocket"),!("WebSocket"in window))return console.debug("Browser doesnt support websockets."),void this.setRealtime(!1);window.ibrt=_.instance(),window.ibrt&&window.ibrt.addEventListener(function(e){switch(console.debug("realtime socket event",e.event,e),e.event){case"open":console.debug("Websocket Initialised"),t.setRealtime(!0);break;case"close":console.debug("Websocket Closed"),t.setRealtime(!1)}})}}})},Et=(n(12),A(St,function(){var t=this.$createElement,e=this._self._c||t;return e("ib-application",{staticClass:"si-quotes-view",attrs:{layout:"full",translations:this.translations,row:"",grow:""}},[this.title?e("div",{staticClass:"insety-16",domProps:{textContent:this._s(this.title)}}):this._e(),void 0!==this.realtime?e("SiQuotes"):this._e()],1)},[],!1,null,null,null).exports),bt={accessibility:!1,amSessionId:"",authTokenCreated:!1,brandInfo:{},ssoValidated:!1,selectedAccounts:[],allAccounts:[],sso:{features:{}},balanceSummary:{},competitors:[],fundamentals:[],events:{ON_UAR_CHANGED:[],ON_USER:[],ON_SSO_VALIDATED:[],ON_LOGIN_FAILED:[],ON_NAVIGATE:[],ON_LOGOUT:[],ON_MOUNTED:[],ON_MOBILE_MENU:[],ON_ACCOUNT_SELECTOR:[],ON_USER_SETTINGS:[],ON_ISERVER_AUTHENTICATED:[],ON_SNAPSHOT_ALERT:[],ON_ORDER_EXECUTED:[],ACCOUNT_SELECTOR_ERROR:[],CALENDAR_OPEN_FILTERS:[],CALENDAR_GET_EVENTS:[],CALENDAR_RESET:[],CALENDAR_SYM_SEARCH:[],NEXT_FOCUS:[],PREVIOUS_FOCUS:[],SL_SYM_SEARCH:[],TOGGLE_PROMOTION:[],"*":[]},optionCombo:{},markets:[],marketData:{},secdefData:{},marketsInfo:[],marketHistory:{},news:[],newsContent:[],performance:{},period:"1Y",pnl:[],upnl:{},positions:[],positionsTotalNum:[],priceHistory:[],rates:{},user:{username:"",uar:{portfolioAnalyst:!1,userInfo:!1,messageCenter:!1,accountDetails:!1,tradingRestrictions:!1,tws:!1,fyi:!1,voting:!1,forum:!1},features:{qt:!1,ibot:!1},props:{readOnlySession:!1,isIBAMClient:!1}},features:Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}),uar:{portfolioAnalyst:!1},showInBase:!1,fromMobile:!1,isCurInComMd:void 0,isInCompleteConidSel:!1,faviconUrl:"",notificationIconUrl:"",pickerAccounts:[],routeLoading:!1,privacyMode:!1,accountProperties:void 0,amStatus:void 0,isAccountTaskPending:!1,forceShowIBKeyWidget:!1,forceShowCryptoPopover:!1,isTestingCryptoPos:!1},_t=function(){var t=window.env,e=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IBCUST_BASE_URL||"";switch(t){case"alpha":return"/ibcust.proxy/alpha/ibcust";default:return e}}(),yt=function(t){return fetch(t,{credentials:"include"}).then(W)},Tt=function(t,e){return fetch(t,{method:"post",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(W)};var At={getEmail:function(){return yt(_t+"/user/email")},getEntityInfo:function(){return yt(_t+"/entity/info")},getMarketDataSubscriptions:function(){return yt(_t+"/marketdata/subscriptions")},getUser:function(){return yt(_t+"/one/user")},saveEmail:function(t){return Tt(_t+"/user/email",t)},sendEmail:function(t){return Tt(_t+"/user/sendemail",t)},setUser:function(t){return yt(_t+"/inject?user="+t)},logout:function(){return Tt(_t+"/logout")},getAccountStatus:function(t){return Tt(_t+"/tasks/edd/status/",t)}};function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach(function(e){wt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).CQE_BASE_URL||"",Ct={"sso-service":"AM.LOGIN"},Rt=function(t){return fetch(Pt+t,{credentials:"include",headers:Ct}).then(W)},Nt=function(t,e){return fetch(Pt+t,{method:"post",body:JSON.stringify(e),credentials:"include",headers:It({"Content-Type":"application/json; charset=utf-8"},Ct)}).then(W)};function Dt(t,e){var n="platform=web&";for(var r in e)n+="".concat(r,"=").concat(e[r],"&");return Rt("/".concat(t,"?").concat(n))}var Mt={getLqdTrade:function(t){return Dt("explain_liquidation_trades",t)},getService:Dt,postService:function(t,e){var n=It({platform:"web"},e);return Nt("/".concat(t),n)},setHeader:function(t,e){return Ct[t]=e,console.debug("setting cqe headers:",Ct),Ct}};window.cqeApi=Mt;var Lt=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).MDFARM_BASE_URL||"",kt=0,Ut={authenticate:function(t){return V(Lt+"/md/auth/init")},newSubscribeUpdates:function(t,e){var n=t.conid,r=t.fields,o=e.onUpdates;if(n){if(window.ibrt){var i={fields:r};return window.ibrt.subscribeArgs("mds+"+n,"MD",i,{onMessage:o})}console.error("mdapi: real-time api missing")}},subscribeUpdates:function(t,e){var n=t.conid,r=t.fields,o=t.backout,i=e.onUpdates;if(n){if(window.ibrt){var c={fields:r,backout:o};return window.ibrt.subscribeArgs("smd+"+n,"MD",c,{onMessage:i})}console.error("mdapi: real-time api missing")}},subscribe:function(t,e){var n=e.since,r=void 0===n?1:n,o=e.fields,i="/iserver/marketdata/subscribe?conids="+t+"&since="+r;return o&&(i+="&fields="+o),V(Lt+i)},getSnapshot:function(t){return Y(Lt+"/iserver/marketdata/snapshot",t)},getNewSnapshot:function(t){var e=t.conids,n=t.fields;return V("".concat(Lt,"/md/snapshot?conids=").concat(e,"&fields=").concat(n))},getMarketData:function(){return V(Lt+"/iserver/marketdata")},unsubscribeMarketData:function(t){if(t&&t.length)return Y(Lt+"/iserver/marketdata/unsubscribe",{conids:t})},unsubscribeAllMarketData:function(){return V(Lt+"/iserver/marketdata/unsubscribeall")},newUnsubscribeAllMD:function(){return V(Lt+"/md/unsubscribe/all")},getHistoryDataDirectHMDS:function(t,e){var n=t.conid,r=t.period,o=t.bar,i=t.outsideRth,c=t.startTime,s=t.direction,a=e.onUpdates,u=e.onHistoryDataError;if(n){if(window.ibrt){var d="rdh+"+n,l=kt++,f={period:r,bar:o,outsideRth:i,startTime:c,direction:s,requestId:l};return window.ibrt.subscribeArgs(d,"HD",f,{onMessage:function(t){var e=JSON.parse(null===t||void 0===t?void 0:t.payload);return d==(null===t||void 0===t?void 0:t.topic)&&l==(null===e||void 0===e?void 0:e.requestId)?(window.ibrt.newCancelSubscriptions(d,f),(null===t||void 0===t?void 0:t.error)?u(t):a(t)):void 0},onError:u})}console.error("mdapi: real-time api missing")}},getHistoryDataIserver:function(t,e){var n=t.conid,r=t.period,o=t.bar,i=t.outsideRth,c=t.startTime,s=t.direction,a=e.onUpdates,u=e.onHistoryDataError;if(n){if(window.ibrt){var d="hdr+"+n,l=kt++,f={period:r,bar:o,outsideRth:i,startTime:c,direction:s,requestId:l};return window.ibrt.subscribeArgs(d,"HD",f,{onMessage:function(t){var e=JSON.parse(null===t||void 0===t?void 0:t.payload);return d==(null===t||void 0===t?void 0:t.topic)&&l==(null===e||void 0===e?void 0:e.requestId)?(window.ibrt.newCancelSubscriptions(d,f),(null===t||void 0===t?void 0:t.error)?u(t):a(t)):void 0},onError:u})}console.error("mdapi: real-time api missing")}},getRegsnapshot:function(t){return V("".concat(Lt,"/md/regsnapshot?conid=").concat(t,"&fields=31,84,85,86,88,7057,7058,7059,7067,7068"))}},Ft="";function jt(t){var e=t.conid,n=t.period,r=void 0===n?"1w":n,o=t.format,i=void 0===o?"":o,c=t.source,s=void 0===c?"":c,a=t.bar,u=void 0===a?"":a,d=t.outsideRth,l=void 0!==d&&d,f=t.startTime,p=t.direction;if(!isNaN(e)){var m="&period="+r;return""!=i&&(m+="&format="+i),""!=s&&(m+="&source="+s),""!=u&&(m+="&bar="+u),f&&(m+="&startTime="+f),p&&(m+="&direction="+p),Ft+"/hmds/history?conid="+e+(m+="&outsideRth="+l)}}var xt={authenticate:function(t){return V(Ft+"/hmds/auth/init")},getPriceHistory:function(t,e,n,r,o,i,c,s){var a=jt({conid:t,period:e,format:n,source:r,bar:o,outsideRth:i,startTime:c,direction:s});if(a)return V(a)},getPriceHistoryAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];if(t.length>0&&t.forEach(function(t){var n=jt(t);n&&e.push(n)}),e.length>0)return q(e)},getScannerParams:function(){return V(Ft+"/hmds/scanner/params")},postScannerQuery:function(t,e,n,r,o,i,c){return Y(Ft+"/hmds/scanner/run",{instrument:t,scanCode:e,locations:r,delayedLocations:o,maxItems:c,secType:i,filters:n})}},Bt="/iserver";function Ht(t){var e=t.conid,n=t.period,r=void 0===n?"1w":n,o=t.format,i=void 0===o?"":o,c=t.source,s=void 0===c?"":c,a=t.bar,u=void 0===a?"":a,d=t.outsideRth,l=void 0!==d&&d,f=t.startTime,p=t.direction;if(!isNaN(e)){var m="&period="+r;return""!=i&&(m+="&format="+i),""!=s&&(m+="&source="+s),""!=u&&(m+="&bar="+u),f&&(m+="&startTime="+f),p&&(m+="&direction="+p),Bt+"/marketdata/history?conid="+e+(m+="&outsideRth="+l)}}var Gt={getOrderStatus:function(t){return V(Bt+"/account/order/status/"+t)},getOrderStatusAndRules:function(t,e,n){var r="/iserver/contract/".concat(e,"/rules?isBuy=").concat(n),o="/iserver/account/order/status/".concat(t);return q([r,o])},getSecondaryOrderRules:function(t,e,n){return V(Bt+"/contract/".concat(t,"/rules?isBuy=").concat(e,"&hasSecondary=true&limitPrice=").concat(n))},getPriceHistory:function(t,e,n,r,o,i,c,s){var a=Ht({conid:t,period:e,format:n,source:r,bar:o,outsideRth:i,startTime:c,direction:s});if(a)return V(a)},getPriceHistoryAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];if(t.length>0&&t.forEach(function(t){var n=Ht(t);n&&e.push(n)}),e.length>0)return q(e)},getEstimatedProbability:function(t,e){return Y(Bt+"/estimatedprobability",{conidex:t,price:e})},getEstimatedPrice:function(t){return Y(Bt+"/estimatedprice",{conidex:t})},addRealtimeListener:function(t){var e=t.onUpdates,n=t.onError,r=t.onSubscribed;if(window.ibrt){if(!window.ibrt.isSubscribed("realtime-data"))return window.ibrt.subscribe("realtime-data","RD",{onMessage:e,onSubscribed:r,onError:n});console.warn("already subscribed to realtime-data")}else console.error("iserver: add rt real-time api missing")},closeAllPositions:function(t){return Y(Bt+"/positions/closeall",t)},getPnl:function(t){return V(Bt+"/account/pnl/partitioned")},getAccounts:function(){return V(Bt+"/accounts")},compete:function(){return Y(Bt+"/auth/compete")},getLinks:function(t){return V(Bt+"/links?types="+t)},unsubscribeIserverUpdates:function(t){var e=t.acctId;window.ibrt?window.ibrt.cancelAll("realtime-account-data+"+e):console.error("iserver: unsubscribe real-time api missing")},subscribeIserverUpdates:function(t,e){var n=t.acctId,r=e.onUpdates,o=e.onError,i=e.onSubscribed;if(window.ibrt){if(!window.ibrt.isSubscribed("realtime-account-data+"+n))return window.ibrt.subscribe("realtime-account-data+"+n,"RAD",{onMessage:r,onSubscribed:i,onError:o});console.warn("already subscribed to realtime-account-data")}else console.error("iserver: subscribe real-time api missing")},getOrders:function(t){return V("".concat(Bt,"/account/orders?force=").concat(!!t))},status:function(){return Y(Bt+"/auth/status")},autologon:function(){return Y(Bt+"/auth/autologon")},logout:function(){return Y(Bt+"/auth/logout")},ssoDHinit:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o="xxx (".concat($date.data.timeZone,")")||!1;return Y(Bt+"/auth/ssodh/init",{username:t,compete:e,useSecurityContext:n,locale:r,tz:o})},ssoDHresponse:function(t){return Y(Bt+"/auth/ssodh/response",{response:t})},setClientStatus:function(t,e){return Y(Bt+"/status/update",{id:t,value:e})},tickleSession:function(){return new Promise},getBulletins:function(){return V(Bt+"/bulletins")},getBriefingArticle:function(){return V(Bt+"/news/briefing")},setAccount:function(t){return Y(Bt+"/account",{acctId:t})},setOEMode:function(t,e){return Y(Bt+"/orderentrymode",{conid:t,isUnsubscribe:e})},searchBySym:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STK",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Y(Bt+"/secdef/search",{symbol:t,name:!1,secType:e,referrer:n})},replyNotification:function(t){return Y(Bt+"/notification",t)},getRegsnapshot:function(t){return V(Bt+"/marketdata/regsnapshot?conid="+t+"&fields=31,84,85,86,88,7057,7058,7059,7067,7068")},getDebugPnl:function(t){var e=t.conid,n=t.account,r=void 0===n?"":n,o=t.type;return Y(Bt+"/account/debugpnl",{conid:e,account:r,type:o})},getCurrencyPairs:function(t){return V(Bt+"/currency/pairs?currency=".concat(t))},getContractInfo:function(t){return V(Bt+"/contract/".concat(t,"/info"))},getOrderRules:function(t){return Y(Bt+"/contract/rules",t)},getTrades:function(){return V(Bt+"/account/trades")},getWatchlist:function(t){return V(Bt+"/watchlist?id="+t)},deleteWatchlist:function(t){return $(Bt+"/watchlist?id="+t)},getAllWatchlists:function(t){var e=t.SC;return console.debug("SC",e),V(Bt+"/watchlists"+(void 0!==e?"?SC="+e:""))},getMDColumns:function(t){return Y(Bt+"/marketdata/columns",t)},getPFMDColumns:function(t){return V(Bt+"/marketdata/columns/pf?SELECTED="+t)},getWLMDColumns:function(t){return V(Bt+"/marketdata/columns/wl?SELECTED="+t)},getScannerParams:function(){return V(Bt+"/scanner/params")},getUserWatchLists:function(){return V("/lists")},saveWatchlist:function(t){return Y(Bt+"/watchlist",t)},postScannerQuery:function(t,e,n,r,o){return Y(Bt+"/scanner/run",{instrument:t,type:e,filter:n,location:r,size:o})},createOrModifyAlert:function(t,e){return Y("".concat(Bt,"/account/").concat(t,"/alert"),e)},getAvailableAlerts:function(t){return V("".concat(Bt,"/account/").concat(t,"/alerts"))},activateAlert:function(t,e){return Y("".concat(Bt,"/account/").concat(t,"/alert/activate"),e)},deleteAlert:function(t,e){return $("".concat(Bt,"/account/").concat(t,"/alert/").concat(e))},getAlertDetails:function(t){return V("".concat(Bt,"/account/alert/").concat(t,"?type=Q"))},getMtaAlert:function(){return V("".concat(Bt,"/account/mta"))},getComboLegs:function(t){return Y("".concat(Bt,"/combo/legs"),{conid:t})},getFolioModels:function(t){var e=t.selectedAcctId;return Y("".concat(Bt,"/sleeve"),{requestType:"getModels",account:e})},getFolioModel:function(t){var e=t.selectedAcctId,n=t.modelName;return Y("".concat(Bt,"/sleeve"),{requestType:"getModel",account:e,modelName:n})},getFolioModelOrders:function(t){var e=t.selectedAcctId,n=t.modelName;return Y("".concat(Bt,"/sleeve"),{requestType:"getModelOrdersStatus",account:e,modelName:n})},createUpdateFolioModel:function(t){var e=t.selectedAcctId,n=t.modelEntry,r=t.targetList;return Y("".concat(Bt,"/sleeve"),{requestType:"createOrUpdateModelWithTargets",account:e,modelEntry:n,targetList:r})},rebalanceFolioModel:function(t){var e=t.selectedAcctId,n=t.modelName,r=t.amount,o=t.fullDivest;return Y("".concat(Bt,"/sleeve"),{requestType:"computeInvestDivestRebalanceOrders",account:e,amount:r,fullDivest:o,modelName:n})},transmitFolioOrders:function(t){var e=t.investDivestRebalanceSetID,n=t.overrideList,r=t.waitSeconds;return Y("".concat(Bt,"/sleeve"),{requestType:"transmitOrdersAndTransfers",investDivestRebalanceSetID:e,overrideList:n,waitSeconds:r})},getCryptoClarification:function(t,e,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,s="".concat(Bt,"/crypto/clarification?type=").concat(t,"&origin=").concat(e);return void 0!==n&&(s+="&time=".concat(n)),void 0!==o&&(s+="&isBuy=".concat(o)),void 0!=r&&(s+="&tif=".concat(r,"&conid=").concat(i,"&orderType=").concat(c)),V(s)}};var Wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;t?t.$el&&(t=t.$el):t=document.body,t.progressCount?(clearTimeout(t.progressTimeout),t.progressTimeout=setTimeout(function(){t.progressCount=0,t.progressTimeout=null,document.body.classList.remove("noprogress"),t.classList.remove("progress-show")},2e4),t.progressCount++):(!function(t){for(var e,n=t.childNodes,r=n.length;r--;)if(n[r].classList&&n[r].classList.contains("progress")){e=n[r];break}e||((e=document.createElement("div")).className="progress",e.appendChild(document.createElement("div")),t.appendChild(e))}(t),t.progressStart=setTimeout(function(){clearTimeout(t.progressStart),t.progressStart=null,t!=document.body&&document.body.classList.add("noprogress"),t.classList.add("progress-show"),t.progressTimeout=setTimeout(function(){t.progressCount=0,t.progressTimeout=null,document.body.classList.remove("noprogress"),t.classList.remove("progress-show")},2e4)},e),t.progressCount=1)},Vt=function(t){t?t.$el&&(t=t.$el):t=document.body,t.progressCount&&(--t.progressCount||(t.progressStart&&(clearTimeout(t.progressStart),t.progressStart=null),t.progressTimeout&&(clearTimeout(t.progressTimeout),t.progressTimeout=null),document.body.classList.remove("noprogress"),t.classList.remove("progress-show")))};function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Yt=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.interval=n.interval,this.onSuccess=r,this.onError=o,this.run=!0,this.timer=0}return function(t,e,n){e&&qt(t.prototype,e),n&&qt(t,n)}(t,[{key:"start",value:function(){var t=this;this.onSuccess().then(function(e){t.run&&(t.timer=setTimeout(function(){return t.start()},t.interval))}).catch(function(e){t.onError(e)})}},{key:"stop",value:function(){this.run=!1,clearTimeout(this.timer)}}]),t}();function $t(t){return t&&t.response&&t.response.data?t.response.data.error:t.message}function Kt(t,e,n){var r=Jt(n);B.error("http failed "+t+" result "+Jt(r))}function Jt(t){var e;if("string"==typeof t)return t;var n=null===t||void 0===t?void 0:t.response;return n?(null===n||void 0===n?void 0:null===(e=n.data)||void 0===e?void 0:e.error)?n.data.error:500==(null===n||void 0===n?void 0:n.status)?"error: ".concat(n.status," | ").concat(n.statusText):408==(null===n||void 0===n?void 0:n.status)?"error: The system is unable to complete your request at this time.":(null===n||void 0===n?void 0:n.statusText)?"error: ".concat(n.status," | ").concat(n.statusText):"unknown error ".concat(n):(null===t||void 0===t?void 0:t.message)?t.message:"unknown error"}var Xt=function(t,e){return e["options/realtime"]},zt=function(t){return t.accessibility},Zt=function(t){return t.balanceSummary&&t.balanceSummary.accountSummaries||[]},Qt=function(t){return t.balanceSummary&&t.balanceSummary.excludedAccounts||[]},te=function(t){return t.balanceSummary},ee=function(t){return t.conids},ne=function(t){return t.competitors},re=function(t){return(t.user||{}).firstApprovedDate},oe=function(t){return t.fundamentals},ie=function(t){return t.items},ce=function(t){return t.features},se=function(t){return t.user.features||{}},ae=function(t){return t.user&&t.user.props||{}},ue=function(t){return t.user&&t.user.accts||void 0},de=function(t){return"zh"==$locale.language},le=function(t){var e;return 2===(null===(e=t.sso)||void 0===e?void 0:e.loginType)},fe=function(t){return t.markets},pe=function(t){return t.marketData},me=function(t){return t.secdefData},he=function(t){return t.secdefData&&t.secdefData[0]&&t.secdefData[0].bond},ve=function(t){return t.marketsInfo},ge=function(t){return t.news},Se=function(t){return t.newsContent},Ee=function(t){return t.performance},be=function(t,e){return e.isPaperUser?"1D":t.period},_e=function(t){return t.pnl},ye=function(t){return t.positions},Te=function(t){return t.priceHistory},Ae=function(t){return t.rates},Oe=function(t){return t.user},Ie=function(t){return t.user&&t.user.username||""},we=function(t,e){return e["iserverData/isLiteUser"]},Pe=function(t){return/clientam/.test(location.origin)?null!=t.user.wbId&&t.user.wbId||"-":null===t.user.wbId?"":t.user&&t.user.wbId},Ce=function(t){return t.positionsSince},Re=function(t){return t.iserver},Ne=function(t){return t.uar},De=function(t){return!(!t.user||!t.user.applicants)&&t.user.applicants.find(function(t){return"FA_CLIENT"==t.businessType})},Me=function(t){return t.user.uar.messageCenter},Le=function(t){return t.user.uar.userInfo},ke=function(t){return t.user.features.wlms},Ue=function(t){return t.user.props.isIBAMClient},Fe=function(t){return t.user&&t.user.features&&t.user.features.bond},je=function(t){return t.user&&t.user.features&&t.user.features.calendar},xe=function(t){return t.user&&t.user.features&&t.user.features.optionChains||Xe(t)},Be=function(t){return!0},He=function(t){return""===Pe(t)||!De(t)},Ge=function(t,e){return Xe(t)||t.features.DISABLE_UAR||t.user.uar.portfolioAnalyst&&!e.isPaperUser},We=function(t){return Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).SHOW_SUGGESTIONS_FOR_YOU},Ve=function(t){return"v1"===window.env},qe=function(t){return Xe(t)||t.user.uar.fyi},Ye=function(t){return""===Pe(t)},$e=function(t){return/local.*/.test(Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV)},Ke=function(t){return t.user&&t.user.features&&t.user.features.alpha},Je=function(t){return t.user&&t.user.features&&t.user.features.debugMenu},Xe=function(t){return!1},ze=function(t){return"build.ci"==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV||"ci"==window.env},Ze=function(t){return"build.qa"==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BUILD_ENV||"qa"==window.env},Qe=function(t){return t.amSessionId},tn=function(t){return Ve(t)||!0===Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).AM_ACCOUNT_PICKER},en=function(t){return t.user&&t.user.features&&t.user.features.bond||!1},nn=function(t){return void 0!==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).APP?"/":Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).PUBLIC_PATH},rn=function(t){return void 0!==Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).APP},on=function(t){return t.brandInfo},cn=function(t,e){return""===e.wbId&&!/clientam/.test(location.origin)},sn=function(t,e){return t.user.username?t.brandInfo.am_banner?"/"+t.brandInfo.am_banner:e.canShowLogo?"/images/2015/template/logo-ib-ibkr-txtwht.svg":"":""},an=function(t,e){return t.user.username?t.brandInfo.am_banner?"/"+t.brandInfo.am_banner:e.canShowLogo?"/images/2015/template/logo-ib-ibkr-txtblk.svg":"":""},un=function(t){return!!Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).HAS_SSO},dn=function(t){return t.allAccounts||[]},ln=function(t){return t.selectedAccounts.constructor===Array?t.selectedAccounts:[t.selectedAccounts]},fn=function(t,e){return e.selectedAccounts.map(function(t){return t.accountId})||[]},pn=function(t,e){return e.selectedAccounts&&e.selectedAccounts.length&&e.selectedAccounts[0].accountId},mn=function(t,e){var n,r,o=null===e||void 0===e?void 0:null===(n=e.selectedAccounts)||void 0===n?void 0:n[0];return o&&(r="Interactive Advisors"===o.accountVan?o.accountVan:o.accountAlias||o.accountId),r},hn=function(t,e){return!!e.isDev||(!(e.accountProperties&&e.userProperties&&e.selectedAcctId)||0!=Object.keys(e.userProperties).length&&("yes"!=e.userProperties.ReadOnlySession&&(!e.accountProperties[e.selectedAcctId]||"yes"!=e.accountProperties[e.selectedAcctId].NoClientTrading)))},vn=function(t,e){var n=e.iserverAccounts;return 1!=n.length||"no"!=n[0]||(console.debug("no trading accounts"),!1)},gn=function(t,e){var n={};return e.selectedAcctIds.forEach(function(t){n[t]=!0}),e.selectedAcctIds.forEach(function(t){n[t+"F"]&&(n[t+"F"]=!1)}),Object.keys(n).filter(function(t){return n[t]})},Sn=function(t){return t.ssoValidated},En=function(t){return t.optionCombo},bn=function(t){return t.balanceSummary&&t.balanceSummary.total},_n=function(t,e){return e["iserverData/connected"]},yn=function(t,e){return e["iserverData/accounts"]},Tn=function(t){return t.user&&t.user.applicants?t.user.applicants:[]},An=function(t,e){if(0===e.applicants.length)return"";var n=e.applicants[0].legalCountry;return n&&n.alpha3||""},On=function(t){return!!t.fromMobile||t.sso&&/IBKR/.test(t.sso.CLIENT_APP)},In=function(t){return t.sso&&/(TWS|IBKR)/.test(t.sso.CLIENT_APP)},wn=function(t){return t.sso||{}},Pn=function(t){return t.showInBase},Cn=function(t){return"alpha"===window.env},Rn=function(t,e,n){var r=n.portfolio.accountMeta;return r&&r.master&&r.master.id},Nn=function(t){return t.user&&t.user.has2fa||void 0},Dn=function(t){return t.sso&&t.sso.IS_FREE_TRIAL},Mn=function(t){var e=ue(t);if(void 0!==e){var n=Object.keys(e);if(1===n.length)return e[n[0]]&&e[n[0]].clearingStatus}return!1},Ln=function(t){var e=ue(t);return void 0!==e&&0===Object.keys(e).length},kn=function(t){var e=ue(t);if(void 0!==e){var n=Object.keys(e);if(1===n.length)return e[n[0]]&&e[n[0]].openDate}},Un=function(t){var e=ue(t);if(void 0!==e){var n=Object.keys(e);if(1===n.length)return e[n[0]]&&e[n[0]].isFunded}return!1},Fn=function(t){var e=void 0;return Dn(t)?kn(t)&&(e=$date.local(kn(t))):re(t)&&(e=$date.local(re(t))),!!(e&&$date.local().diffDays(e)<7)},jn=function(t){if(re(t)){var e=$date.local(re(t));if($date.local().diffDays(e)<30)return!0}return!1},xn=function(t){return t.faviconUrl},Bn=function(t){return t.notificationIconUrl},Hn=function(t){return t.isCurInComMd},Gn=function(t){return t.isCurInComMd&&t.isInCompleteConidSel},Wn=function(t){return t.pickerAccounts||[]},Vn=function(t,e){return e.userFeatures&&e.userFeatures.newMf||e.isAlphaEnv},qn=function(t){return t.routeLoading},Yn=function(t,e){var n=e["am/pendingItemNum"];return e.showFyi&&(n+=e["fyi/fyiUnreadNum"]),e.showMessageCenter&&(n=n+e["am/amMessages"].length+e["am/amCorporateActions"].length),n},$n=function(t){return Cn(t)||Xe(t)},Kn=function(t){return t.privacyMode},Jn=function(t){var e;return null===(e=t.accountProperties)||void 0===e?void 0:e.userProperties},Xn=function(t){var e;return null===(e=t.accountProperties)||void 0===e?void 0:e.accountProperties},zn=function(t,e){var n={displayName:"DAX",conid:825711,exchange:"ANYEXCH",id:"dax"},r=An(t,e);if(!r)return n;switch(r){case"FRA":return{displayName:"CAC40",conid:946200,exchange:"ANYEXCH",id:"cac40"};case"CHE":return{displayName:"SMI",conid:1328305,exchange:"ANYEXCH",id:"smi"};case"ESP":return{displayName:"IBEX",conid:13796838,exchange:"ANYEXCH",id:"ibex"};case"SWE":return{displayName:"OMXS30",conid:1328293,exchange:"ANYEXCH",id:"omxs30"};case"RUS":return{displayName:"RTX",conid:10758536,exchange:"ANYEXCH",id:"rtx"};case"ITA":return{displayName:"IMIB",conid:50916151,exchange:"ANYEXCH",id:"ftmib"};default:return n}},Zn=function(t){return"database offline"===t.amStatus},Qn=function(t,e){return!(!e["abFeatures/showEDDWarn"]||!e.protectProd)&&t.isAccountTaskPending},tr=function(t,e){var n=e.selectedAcctId;if(!n)return[];var r=e["portfolio/accountSummary"].find(function(t){return t.acctId==n});if(!r)return[];var o=r.data.depositoncredithold;return o&&o.value?o.value.split(",").map(function(t){var e=t.split(":");return{currency:e[0],date:e[1],amount:parseFloat(e[2])}}):[]},er=function(t,e){var n=e.selectedAcctId;if(n&&0!=e.depositOnCreditHold.length){var r=e["portfolio/accountLedger"].find(function(t){return t.acctId==n});if(r&&r.data){var o={};for(var i in r.data)o[i]=r.data[i].exchangerate;return e.depositOnCreditHold.reduce(function(t,e){return t+=e.amount*o[e.currency]},0)}}},nr=function(t,e){var n,r="IBKEY"==(null===(n=e.sso)||void 0===n?void 0:n.QUALIFIED_FOR_MOBILE_AUTH),o=t.forceShowIBKeyWidget;return r||o},rr=function(t){return t.forceShowIBKeyWidget},or=function(t){return t.forceShowCryptoPopover},ir=function(t){return t.isTestingCryptoPos},cr=function(t){var e;return null===(e=t.sso)||void 0===e?void 0:e.IS_MASTER},sr=function(t){return null!==t.sso.SSO_RESTRICTION&&void 0!==t.sso.SSO_RESTRICTION},ar=function(t,e){return"PSPL_SG1"===e.wbId},ur=function(t,e){return!!e["portfolio/portfolioAccounts"].length&&"IB-REF"===e["portfolio/portfolioAccounts"][0].type},dr=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).BASE_IA_URL||"",lr=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IA_AGREEMENTS||"",fr=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).IA_PARTITION_SIGNUP||"";var pr={getAdvisorsPromoData:function(t){return V("".concat(dr,"?partner=").concat(t))},getAdvisorsAgreementsData:function(t){return V("".concat(lr,"?partner=").concat(t))},startPartitionSignUp:function(t,e){return Y("".concat(fr,"?partner=").concat(e),{agreements:t})}},mr=[];Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).RETRY_FUNC_TIMEOUT;function hr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{e&&e(n)}catch(e){console.error(t,e)}}var vr=function(t){mr[t]=0};var gr,Sr=0,Er=/.*;.*\//,br=function(t,e){var n=t.commit;t.dispatch,t.state;return n("TRIGGER_EVENT",e)},_r=function(t,e){var n=t.commit;t.dispatch,t.state;return n("portfolio/SET_ACCOUNT_SUMMARY",e)},yr=function(t){var e=t.commit,n=t.dispatch,r=t.state,o=t.getters;if(0==Sr){var i=r.sso&&r.sso.USER_ID||0;Sr=setInterval(function(){return function(t,e,n){var r=t.commit,o=t.dispatch,i=(t.state,t.getters);return dt.tickleSession().then(function(t){if(null===t||void 0===t||!t.redirected)return t;window.app.$alert(window.app.$t("tickle_reload_page"),{verb:window.app.$t("ok"),action:function(t){location.reload()},dismissable:!1})}).then(function(t){var n,c;r("SET_AM_STATUS",null===(n=t.amStatus)||void 0===n?void 0:n.status),i.partialServiceInterruption&&0==i.pickerAccounts.length&&0!=i["iserverData/accounts"].length&&o("iserverData/setIserverAccountsAsPickerAccounts",{}),o("iserverData/onAuthStatus",(null===(c=t.iserver)||void 0===c?void 0:c.authStatus)||{}),o("iserverData/onAuthStatus",{backendDown:!1}),0!=e&&t&&t.userId&&t.userId!=e&&(console.debug("user id mismatch",e,t.userId),window.app.$alert(window.app.$t("logged_out_by_another_session"),{action:function(){o("goToLoginPage",{})}}))}).catch(function(t){var e=function(t){var e;return(null===t||void 0===t?void 0:null===(e=t.response)||void 0===e?void 0:e.status)||0}(t);401==e?o("triggerEvent",{name:"ON_LOGOUT",component:void 0,payload:!0}):500==e&&o("iserverData/onAuthStatus",{backendDown:!0})})}({commit:e,state:r,dispatch:n,getters:o},i)},3e4)}},Tr=function(t,e){var n=t.commit;t.dispatch,t.state;return n("SET_FROM_MOBILE",e)},Ar=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.el),o=e.acctIds,i=e.onSuccess,c=e.onError;return Wt(r),dt.getAllBalancesSummary(o).then(function(t){n("SET_BALANCE_SUMMARY",t),hr("get all balance summary",i,t),Vt(r)}).catch(function(t){hr("get all balance summary",c,t),Kt("get all balance summary",0,t),Vt(r)})},Or=function(t,e){var n=t.commit;t.dispatch,t.state;return dt.getCompetitors().then(function(t){n("SET_COMPETITORS",t),e&&e.onSuccess&&e.onSuccess()}).catch(function(t){e&&e.onError&&e.onError(t),Kt("get competitors ",0,t)})},Ir=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.conid),o=e.onSuccess,i=void 0===o?null:o,c=e.onError,s=void 0===c?null:c;return n("SET_FUNDAMENTALS",{conid:r,data:{}}),dt.getFundamentals(r).then(function(t){t.error?hr("get-fundamentals",s,t):(n("SET_FUNDAMENTALS",{conid:r,data:t}),hr("get-fundamentals",i,t))}).catch(function(t){hr("get-fundamentals",s,t),Kt("get fundamentals ",0,t)})},wr=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.conid),o=e.el,i=e.lastNewsId,c=e.onSuccess,s=void 0===c?null:c;return Wt(o),dt.getNews(r,i).then(function(t){Vt(o),n("SET_NEWS",{conid:r,data:t}),s&&s(t)}).catch(function(t){Vt(o),Kt("get news ",0,t)})},Pr=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.id,i=e.onSuccess,c=e.el;if(void 0===r.newsContent[o])return Wt(c),dt.getNewsContent(o).then(function(t){Vt(c),t.id=o,n("SET_NEWS_CONTENT",{newsId:o,data:t}),i&&i()}).catch(function(t){Vt(c),Kt("get news content ",0,t)});i()},Cr=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctIds),i=e.period,c=e.benchmarks,s=e.el,a=e.onSuccess,u=e.onError,d=e.retry,l=void 0===d?1:d;return Wt(s),dt.getPerformanceData(o,i,c).then(function(t){n("SET_PERFORMANCE",t),t.tpps&&t.tpps.data[0]?n("SET_RATES",t.tpps.data[0]):Kt("bad response data",0,t),hr("get performance data",a,t),Vt(s)}).catch(function(t){Vt(s),++l>3?(t.response&&t.response.data&&t.response.data.code&&(n("SET_PERFORMANCE",t.response.data),n("SET_RATES",t.response.data)),hr("get performance data",u,t),Kt("get performance data ",0,t)):r("getPerformanceData",{acctIds:o,period:i,benchmarks:c,el:s,onSuccess:a,onError:u,retry:l})})},Rr=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.acctIds),o=e.period,i=e.benchmarks,c=e.el,s=e.onSuccess,a=e.onError,u=e.retry,d=void 0===u?1:u;return Wt(c),dt.getPerformanceData(r,o,i).then(function(t){hr("get performance data",s,t),Vt(c)}).catch(function(t){Vt(c),++d>3?(hr("get benchmark data",a,t),Kt("get benchmark data ",0,t)):n("getBenchmarkData",{acctIds:r,period:o,benchmarks:i,el:c,onSuccess:s,onError:a,retry:d})})},Nr=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctIds),i=e.model,c=e.el,s=e.benchmarks,a=e.onSuccess,u=e.onError,d=e.retry,l=void 0===d?1:d;return Wt(c),dt.getPerformanceAllPeriods(o,i,s).then(function(t){n("SET_PERFORMANCE",t),hr("get performance data for all periods",a,t),Vt(c)}).catch(function(t){Vt(c),++l>3?(t.response&&t.response.data&&t.response.data.code&&n("SET_PERFORMANCE",t.response.data),hr("get performance data for all periods",u,t),Kt("get performance data for all periods",0,t)):r("getPerformanceAllPeriods",{acctIds:o,model:i,el:c,benchmarks:s,onSuccess:a,onError:u,retry:l})})},Dr=function(t,e){return At.getUser().then(function(n){if(!n||!n.username)throw"Missing username in response";n&&n.uar&&t.dispatch("triggerEvent",{name:"ON_UAR_CHANGED",component:null,payload:n.uar}),t.commit("SET_USER",n),e&&e.onSuccess&&e.onSuccess(n),t.getters.wbId?t.dispatch("getMktAm",{id:t.getters.wbId}):(t.commit("SET_NOTIFICATION_ICON_URL","static/cp_favicon196.png"),t.commit("SET_FAVICON_URL","static/cp_favicon32.png"))}).catch(function(n){t.state.user&&t.state.user.username;e&&e.onError&&e.onError(n),Kt("get user failed",t.commit,n),setTimeout(function(){return t.dispatch("getUser",e)},3e3)})},Mr=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters),o=e.conid,i=e.period,c=e.bar,s=e.source,a=e.outsideRth,u=e.onSuccess,d=e.onError;return(r["abFeatures/showDirectHMDS"]?xt:Gt).getPriceHistory(o,i,"",s,c,a).then(function(t){t.data?(n("SET_PRICE_HISTORY",{conid:o,data:t}),u&&u()):d?(n("CLEAR_PRICE_HISTORY"),d(t)):Kt("get price history ",0,result)}).catch(function(t){d&&d(t),Kt("get price history ",0,t)})},Lr=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.region),o=e.onSuccess;return dt.getRegionMarkets(r).then(function(t){n("SET_MARKETS",t),o&&o()}).catch(function(t){Kt("get region markets ",0,t)})},kr=function(t,e){var n=t.commit;t.dispatch,t.state;return n("SET_UAR",e)},Ur=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.conids,i=e.onSuccess;e.onError;if(0!==(o=(o||[]).filter(function(t){return!Er.test(t)})).length){var c=o.filter(function(t){return!r.secdefData[t]});if(0!==c.length)return dt.getSecdefs(c).then(function(t){var e=t&&t.secdef;if(e)for(var c=0;c<e.length;c++){var s=e[c];s instanceof Object&&0!=Object.keys(s).length&&(s.conid?n("SET_SECDEF_DATA",{conid:s.conid,data:s}):console.error("conid missing in get secdef data",t))}var a=o.map(function(t){return r.secdefData[t]});hr("action get secdef",i,a)});var s=o.map(function(t){return r.secdefData[t]});hr("action get secdef",i,s)}},Fr=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.id);return dt.getMktAm(r).then(function(t){window.wbAm=t;var e={};if(t){var o=t.getElementsByTagName("address");o&&o[0]&&(e.email=o[0].textContent);var i=t.getElementsByTagName("customer_service");i&&i[0]&&(e.customer_service=i[0].getAttribute("url"));var c=t.getElementsByTagName("customerServiceFlag");c&&c[0]&&(e.customer_service_flag=c[0].getAttribute("flag"));var s=t.getElementsByTagName("whitebranding_name");s&&s[0]&&(e.whitebranding_name=s[0].textContent);for(var a=t.getElementsByTagName("banner")||[],u=0;u<a.length;u++){var d=a[u],l=d&&d.getAttribute("name")||"",f=d&&d.getAttribute("src")||"";l&&f&&(e[l]=f)}}n("SET_BRAND_INFO",e),e.am_favinco&&args.commit("SET_FAVICON_URL","/"+e.am_favinco),window.app&&window.app.$util&&window.app.$util.cookie("parnerID",r)})},jr=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.accounts;e.onSuccess,e.onError;n("SET_SELECTED_ACCOUNTS",i);o.user&&o.user.username;return r("triggerEvent",{name:"ON_SELECTED_ACCOUNTS",component:null,payload:i})},xr=function(t,e){return t.commit("SET_SSO_VALIDATED",e),t.dispatch("triggerEvent",{name:"ON_SSO_VALIDATED",component:null,payload:e})},Br=function(t,e){t.state;var n=t.commit;t.dispatch;return n("SET_EVENT_LISTENERS",e)},Hr=function(t,e){t.commit,t.dispatch,t.state;var n=e.symbols,r=e.onSuccess,o=e.onError;return dt.getFutureContracts(n).then(function(t){t.error?hr("getOverview: get overview",o,{}):hr("getOverview: get overview",r,t)}).catch(function(t){hr("getOverview: get overview",o,{}),Kt("getOverview: get overview",0,t)})},Gr=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accts),o=e.onSuccess,i=e.onError;r?(n("SET_PICKER_ACCOUNTS",r),hr("storePickerAccounts: success",o,{})):hr("storePickerAccounts: invalid accounts",i,{})},Wr=function(t,e){var n=t.commit;t.dispatch,t.state;return n("ROUTE_LOADING",e.status)},Vr=function(t,e){var n=t.commit;t.dispatch,t.state;return n("PRIVACY_MODE",e.status)},qr=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.accountIds),i=e.retry,c=void 0===i?1:i;if(!(c>3))return dt.getAccountProperties(o).then(function(t){0==Object.keys((null===t||void 0===t?void 0:t.userProperties)||{}).length?(console.debug("User properties empty. Retrying.."),setTimeout(function(){return r("getAccountProperties",{accountIds:o,retry:++c})},1e3)):n("SET_ACCOUNT_PROPERTIES",t)}).catch(function(t){console.debug("Failed to get account properties: ".concat(t,". Retrying..")),setTimeout(function(){return r("getAccountProperties",{accountIds:o,retry:++c})},1e3)});console.error("Failed to get account properties. Stopped requesting")},Yr=function(t,e){t.commit,t.dispatch,t.state;var n=t.getters;!function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(e);var r=$util.cookie("URL_PARAM")||"",o="";n.wbId&&(o="&partnerID="+n.wbId);var i="/sso/Logout?";r&&(i+=r),o&&(i+=o),location.href=i},$r=function(t,e){var n=t.commit,r=e.data;return new Promise(function(t,e){At.getAccountStatus(r).then(function(e){n("SET_ACCOUNT_STATUS",{res:e,data:r}),t(e)}).catch(function(t){Kt("Failed to get account status",0,t),e(t)})})},Kr=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.getters),o=e.data,i=r.selectedAcctId,c=r["portfolio/accountSummary"].find(function(t){return t.acctId==i}),s={amount:0,currency:null,isNull:!1,timestamp:161462706e4,value:o,severity:0};void 0==c?n("portfolio/SET_ACCOUNT_SUMMARY",{acctId:i,data:{depositoncredithold:fundsOnHoldfundsOnHold}}):(c.data.depositoncredithold=s,n("portfolio/SET_ACCOUNT_SUMMARY",{acctId:i,data:c.data}))},Jr=function(t){t.commit;var e=t.dispatch,n=(t.state,t.getters);if(n.pickerAccounts.length)console.debug("Iserver accounts NOT not used as picker accounts as they are already set.");else{var r=n["iserverData/accounts"].map(function(t){return{accountId:t}});e("storePickerAccounts",{accts:r}),e("setSelectedAccounts",{accounts:[r.find(function(t){return t.accountId==n["iserverData/selectedAccount"]})]}),console.debug("Set iserver accounts ".concat(n["iserverData/accounts"]," as picker accounts successfully"))}};function Xr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xr(Object(n),!0).forEach(function(e){Zr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Zr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qr=(Zr(gr={},"CLEAR_BALANCE_SUMMARY",function(t){t.balanceSummary={}}),Zr(gr,"CLEAR_FA_CLIENT",function(t){t.user&&t.user.applicants&&(t.user.applicants=t.user.applicants.filter(function(t){return"test"!==t.type}))}),Zr(gr,"CLEAR_OPTION_COMBO",function(t){t.optionCombo={}}),Zr(gr,"CLEAR_MARKETDATA",function(t){t.marketData=[]}),Zr(gr,"CLEAR_NEWS",function(t){t.news=[]}),Zr(gr,"CLEAR_NEWS_CONTENT",function(t){t.newsContent=[]}),Zr(gr,"CLEAR_PERFORMANCE",function(t){t.performance=[]}),Zr(gr,"CLEAR_MODELS",function(t){t.models=[]}),Zr(gr,"CLEAR_POSITIONS",function(t,e){var n=t.positions.find(function(t){return t.name==e});n&&n.positions&&(n.positions=[])}),Zr(gr,"CLEAR_PRICE_HISTORY",function(t){t.priceHistory=[]}),Zr(gr,"SET_ACCESSIBILITY",function(t,e){t.accessibility=e}),Zr(gr,"SET_AUTH_TOKEN_CREATED",function(t,e){t.authTokenCreated=e}),Zr(gr,"SET_BRAND_INFO",function(t,e){t.brandInfo=e}),Zr(gr,"SET_BALANCE_SUMMARY",function(t,e){t.balanceSummary=e}),Zr(gr,"SET_FA_CLIENT",function(t){if(t.user){var e=t.user.applicants||[];e.push({type:"test",businessType:"FA_CLIENT"}),m.a.set(t.user,"applicants",e)}}),Zr(gr,"SET_ALL_ACCOUNTS",function(t,e){0===t.allAccounts.length&&(t.allAccounts=e)}),Zr(gr,"SET_SELECTED_ACCOUNTS",function(t,e){t.selectedAccounts=e}),Zr(gr,"SET_ACCOUNT_PNL",function(t,e){t.pnl=e}),Zr(gr,"SET_OPTION_COMBO",function(t,e){t.optionCombo=e}),Zr(gr,"SET_COMPETITORS",function(t,e){t.competitors=e}),Zr(gr,"SET_FROM_MOBILE",function(t,e){t.fromMobile=e}),Zr(gr,"SET_FUNDAMENTALS",function(t,e){var n=e.conid,r=e.data;if(!isNaN(n)&&void 0!==r&&!r.error){for(var o={conid:n,data:r},i=0;i<t.fundamentals.length;i++){if(t.fundamentals[i].conid==n)return void m.a.set(t.fundamentals,i,o)}t.fundamentals.push(o)}}),Zr(gr,"SET_MARKETS",function(t,e){t.markets=e}),Zr(gr,"SET_MODELS",function(t,e){var n=!1,r=e.filter(function(t){return"MI.Core"!=t.name&&0!=t.name.indexOf("CP")&&(0==t.name.indexOf("MI")&&(n=!0),!0)});t.models=n?r.filter(function(t){if("MP.Core"==t.name)return!0;if(0==t.name.indexOf("MI")){var n=e.find(function(e){return e.name=="MP"+t.name.substr(2)});return n&&(t.description=n.description),!0}return!1}):r}),Zr(gr,"SET_MARKETDATA",function(t,e){var n=e.conid,r=e.data;isNaN(n)||m.a.set(t.marketData,n,zr({},t.marketData[n],{},r))}),Zr(gr,"SET_SECDEF_DATA",function(t,e){var n=e.conid,r=e.data;isNaN(n)||(r&&r.conid==n?m.a.set(t.secdefData,n,zr({},t.secdefData[n],{},r)):console.error("wrong conid",n,r))}),Zr(gr,"SET_NEWS",function(t,e){var n=e.conid,r=e.data;if(!isNaN(n)){var o=[];t.news[n]&&t.news[n].length>0&&(o=t.news[n].slice()),t.news={},t.news[n]=r,0===o.length?(t.newsContent={},t.news[n]=r.map(function(t){return t.show=!1,t})):t.news[n]=o.concat(r.map(function(t){return t.show=!1,t}))}}),Zr(gr,"SET_NEWS_CONTENT",function(t,e){var n=e.newsId,r=e.data;n&&r&&(t.newsContent[n]=r)}),Zr(gr,"SET_PERFORMANCE",function(t,e){t.performance=e}),Zr(gr,"SET_PERIOD",function(t,e){t.period=e}),Zr(gr,"UPDATE_POSITIONS",function(t,e){var n=e.model,r=e.updates;if(r){var o=t.positions.find(function(t){return t.name==n});if(o)for(var i=0;i<r.length;i++)for(var c=r[i],s=0;s<o.positions.length;s++){var a=o.positions[s];a.conid==c.conid&&((c._updated>o.lastUpdate||void 0===o.lastUpdate)&&m.a.set(o,"lastUpdate",c._updated),m.a.set(o.positions,s,Object.assign(a,c)))}}}),Zr(gr,"SET_POSITIONS",function(t,e){var n=e.model,r=e.list,o=t.positions.find(function(t){return t.name==n});o?o.positions=o.positions.concat(r):t.positions.push({name:n,positions:r})}),Zr(gr,"SET_POSITIONS_TOTAL_NUM",function(t,e){var n=e.model,r=e.num,o=void 0===r?0:r,i=t.positions.find(function(t){return t.name==n});i&&(i.total=o)}),Zr(gr,"SET_PRICE_HISTORY",function(t,e){var n=e.conid,r=e.data;isNaN(n)||(t.priceHistory={},t.priceHistory[n]=r)}),Zr(gr,"SET_RATES",function(t,e){t.rates=e}),Zr(gr,"SET_SEARCH_SYM_RESULTS",function(t,e){t.orderInfo=e}),Zr(gr,"SET_USERNAME",function(t,e){window.username=e,m.a.set(t.user,"username",e)}),Zr(gr,"SET_SSO",function(t,e){if(e){var n=!(!0!==e.IS_MASTER||!["AM","UNIVERSAL","PORTAL-AM-US"].includes(e.LANDING_APP));t.sso=zr({},e,{},{IS_MASTER:n})}}),Zr(gr,"SET_USER",function(t,e){if(t.user=e,Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).DISABLE_UAR)for(var n in t.user.uar)t.user.uar[n]=!0}),Zr(gr,"TOGGLE_NEWS_CONTENT",function(t,e){var n=t.newsContent[e],r=t.news[e];r.show=!r.show,n.show=!n.show}),Zr(gr,"SET_UAR",function(t,e){t.uar=e}),Zr(gr,"REGISTER_EVENT",function(t,e){var n=e[0],r=e[1],o=t.events[n];o?r?(o.push(r),"ON_UAR_CHANGED"==n&&r(t.user.uar)):console.error("registering event without callback",n,e):console.error("event unknown",n,e)}),Zr(gr,"TRIGGER_EVENT",function(t,e){var n=e&&e.name;if(n){var r=t.events[n];r?r&&r.forEach(function(t){setTimeout(function(){return t(zr({},e))})}):console.debug("callback is not documented, add to state",n)}else console.debug("can't trigger event without name",e)}),Zr(gr,"SET_SSO_VALIDATED",function(t,e){t.ssoValidated=e}),Zr(gr,"SET_EVENT_LISTENERS",function(t,e){e&&e.forEach(function(e){var n=e[0],r=e[1];t.events[n]?t.events[n].push(r):console.debug("unknown event key, ignored: ",n)})}),Zr(gr,"SET_SHOW_BASE_CURRENCY",function(t,e){t.showInBase=e}),Zr(gr,"SET_CLEARING_STATUS",function(t,e){var n=t.user.accts;n[Object.keys(n)[0]].clearingStatus=e}),Zr(gr,"SET_FIRST_APPROVE_DATE",function(t,e){t.user.firstApprovedDate=e}),Zr(gr,"SET_OPEN_DATE",function(t,e){var n=t.user.accts;n[Object.keys(n)[0]].openDate=e}),Zr(gr,"TOGGLE_FREE_TRIAL",function(t,e){m.a.set(t.sso,"IS_FREE_TRIAL",e)}),Zr(gr,"TOGGLE_IS_FUNDED",function(t){var e=t.user.accts,n=Object.keys(e);e[n[0]].isFunded=!e[n[0]].isFunded}),Zr(gr,"TOGGLE_SF_ENABLED",function(t){t.sso.SF_ENABLED?m.a.set(t.sso,"SF_ENABLED",!1):m.a.set(t.sso,"SF_ENABLED",!0)}),Zr(gr,"SET_WHITE_BRANDING",function(t,e){t.user.wbId=e}),Zr(gr,"SET_FAVICON_URL",function(t,e){t.faviconUrl=e}),Zr(gr,"SET_NOTIFICATION_ICON_URL",function(t,e){t.notificationIconUrl=e}),Zr(gr,"SET_IS_CURRENT_INCOMPLETE_MD",function(t,e){t.isCurInComMd=e}),Zr(gr,"SET_IS_INCOMPLETE_CONID_SELECTED_IN_QUICKTRADE",function(t,e){t.isInCompleteConidSel=e}),Zr(gr,"SET_PICKER_ACCOUNTS",function(t,e){t.pickerAccounts=e}),Zr(gr,"ROUTE_LOADING",function(t,e){t.routeLoading=e}),Zr(gr,"PRIVACY_MODE",function(t,e){t.privacyMode=e}),Zr(gr,"SET_ACCOUNT_PROPERTIES",function(t,e){t.accountProperties=e}),Zr(gr,"SET_AM_STATUS",function(t,e){t.amStatus=e}),Zr(gr,"SET_ACCOUNT_STATUS",function(t,e){var n=e.res;e.data.acctIds.forEach(function(e){n[e]&&("PENDING"!==n[e].POA_TASK&&"PENDING"!==n[e].EDD_TASK&&"PENDING"!==n[e].PEP_TASK||(t.isAccountTaskPending=!0))})}),Zr(gr,"SET_SHOW_IB_KEY_WIDGET",function(t,e){t.forceShowIBKeyWidget=e}),Zr(gr,"SET_SHOW_CRYPTO_POPOVER",function(t,e){t.forceShowCryptoPopover=e}),Zr(gr,"TOGGLE_TEST_CRYPTO_POS",function(t){t.isTestingCryptoPos=!t.isTestingCryptoPos}),gr);var to,eo={namespaced:!0,state:{abFeatures:{}},getters:{abFeatures:function(t){return t.abFeatures},showDirectHMDS:function(t,e,n,r){var o=t.abFeatures;return o&&1===o.DIRECT_HMDS||!1},showDirectMD:function(t,e,n,r){var o=t.abFeatures;return o&&1===o.DIRECT_MD||!1},useNewSsodhAuth:function(t,e){var n=t.abFeatures;return n&&1===n.NEW_SSODH_AUTH||!1},showContextHelp:function(t,e,n,r){var o=t.abFeatures;return r.isAlphaEnv||!r.wbId&&o&&1===o.SHOW_CONTEXTUAL_HELP||!1},showAds:function(t,e,n,r){var o=t.abFeatures;return!r.wbId&&o&&"1"===o.show2020Ads||!1},showIAWidget:function(t){var e=t.abFeatures;return e&&1===e.SHOW_IA_WIDGET||!1},showSearchableNews:function(t,e,n,r){var o;return 1===(null===(o=t.abFeatures)||void 0===o?void 0:o.USE_CP_SEARCHABLE_NEWS)},showEDDWarn:function(t,e,n,r){var o=t.abFeatures;return o&&1===o.SHOW_EDD_WARN||!1},showRestrictedNotice:function(t,e,n,r){var o;return r.isAlphaEnv||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.NOEXTCLSPOS)},showSuggestedSizeReject:function(t,e,n,r){var o;return r.isAlphaEnv||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.CP_SHOW_SUGGESTED_SIZE_REJECT)},showCrypto:function(t,e,n,r){var o;return r.protectProd||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.ALLOW_CRYPTO)},showCryptoAds:function(t,e,n,r){var o;return r.protectProd||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.SHOW_CRYPTO_ADS)},enableWidescreen:function(t,e,n,r){var o;return r.protectProd||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.WIDE_UX)},showExitStrategy:function(t,e,n,r){var o;return r.protectProd||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.SHOW_EXIT_STRATEGY)},showFinLens:function(t,e,n,r){var o;return r.protectProd||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.SHOW_FINANCIAL_LENS)},showOptionExercise:function(t,e,n,r){var o;return r.protectProd||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.SHOW_OPTION_EXERCISE)},useMdFarmRegsnapshot:function(t,e,n,r){var o;return r.protectProd||1===(null===(o=t.abFeatures)||void 0===o?void 0:o.MD_FARM_REGSNAPSHOT)},useNewPnl:function(t,e,n,r){var o;return 1===(null===(o=t.abFeatures)||void 0===o?void 0:o.NEW_PNL)}},actions:{getCPABFeatures:function(t){var e=t.commit,n=(window.env?"".concat(window.env):"V1").toUpperCase(),r={type:"featuresMsg",datetime:(new Date).toISOString(),context:{applicationId:"CP",features:{SHOW_CONTEXTUAL_HELP:0,DIRECT_HMDS:0,DIRECT_MD:0,NEW_PNL:0,NEW_SSODH_AUTH:0,SHOW_IA_WIDGET:0,USE_CP_SEARCHABLE_NEWS:0,SHOW_EDD_WARN:0,NOEXTCLSPOS:0,CP_SHOW_SUGGESTED_SIZE_REJECT:0,ALLOW_CRYPTO:0,SHOW_CRYPTO_ADS:0,WIDE_UX:0,SHOW_EXIT_STRATEGY:0,SHOW_FINANCIAL_LENS:0,SHOW_OPTION_EXERCISE:0,MD_FARM_REGSNAPSHOT:0},applicationFilters:{env:n}}};return new Promise(function(t,n){ct.request("abtesting/features/CP",{method:"POST",body:JSON.stringify(r)}).then(function(t){return t.json()}).then(function(n){n&&n.context&&n.context.features&&e("SET_AB_FEATURES",n.context.features),t()}).catch(function(t){n(t)})})}},mutations:function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"SET_AB_FEATURES",function(t,e){t.abFeatures=e})};function no(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ro,oo={namespaced:!0,state:{advisorsPromoData:{},finishPromoLoading:!1,partitionIsCreated:void 0},getters:{advisorsPromoData:function(t){return t.advisorsPromoData}},actions:{getAdvisorsPromoData:function(t,e){var n=t.commit,r=(t.state,e.iaPartner);return n("FINISH_IA_PROMO_LOADING",!1),new Promise(function(t,e){pr.getAdvisorsPromoData(r).then(function(e){n("FINISH_IA_PROMO_LOADING",!0),n("SET_ADVISORS_PROMODATA",e),t(e)}).catch(function(t){n("FINISH_IA_PROMO_LOADING",!0),e(t)})})},createdPartition:function(t,e){var n=t.commit;t.state;n("SET_CREATED_PARTITION",e)}},mutations:(no(to={},"SET_ADVISORS_PROMODATA",function(t,e){t.advisorsPromoData=e}),no(to,"FINISH_IA_PROMO_LOADING",function(t,e){t.finishPromoLoading=e}),no(to,"SET_CREATED_PARTITION",function(t,e){t.partitionIsCreated=e}),to)};function io(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var co={namespaced:!0,state:{marketDataSubscriptions:[],entityInfo:[]},getters:{entityInfo:function(t){return t.entityInfo||[]},entityInfoAddresses:function(t){var e=[];return t.entityInfo&&t.entityInfo.forEach(function(t){t.entities.forEach(function(t){e.push(t.address||{})})}),e},entityInfoNames:function(t){var e=[];return t.entityInfo&&t.entityInfo.forEach(function(t){t.entities.forEach(function(t){var n=t.name||{};e.push(n.firstName+" "+n.lastName)})}),e},entityInfoIdentDocs:function(t){var e=[];return t.entityInfo&&t.entityInfo.forEach(function(t){t.entities.forEach(function(t){t.identDocs&&(e=e.concat(t.identDocs))})}),e},CUSIPSubscribed:function(t){return t.marketDataSubscriptions.length>0&&(-1!=t.marketDataSubscriptions.indexOf(550)||-1!=t.marketDataSubscriptions.indexOf(551))}},actions:{getEntityInfo:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onSuccess,e.onError);At.getEntityInfo().then(function(t){n("SET_ENTITY_INFO",t)}).catch(function(t){r&&r(t),Kt("get entity info",0,t)})},getMarketDataSubscriptions:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onSuccess,e.onError);At.getMarketDataSubscriptions().then(function(t){n("SET_MARKETDATA_SUBSCRIPTIONS",t)}).catch(function(t){r&&r(t),Kt("get market data subscription",0,t)})}},mutations:(io(ro={},"SET_ENTITY_INFO",function(t,e){t.entityInfo=e||[]}),io(ro,"SET_MARKETDATA_SUBSCRIPTIONS",function(t,e){t.marketDataSubscriptions=e}),ro)};var so={namespaced:!0,state:{enableRealtime:void 0,showIbot:!0},getters:{realtime:function(t,e,n){return t.enableRealtime}},actions:{},mutations:function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"SET_ENABLE_REALTIME",function(t,e){t.enableRealtime=e})};function ao(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ao(Object(n),!0).forEach(function(e){lo(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fo=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).AM_BASE_URL||"",po={},mo=function(t){return fetch(t,{credentials:"include",headers:po}).then(W)},ho=function(t,e){return fetch(t,{method:"post",body:JSON.stringify(e),credentials:"include",headers:uo({"Content-Type":"application/json; charset=utf-8"},po)}).then(W)},vo=function(t,e){return fetch(t,{method:"put",body:JSON.stringify(e),credentials:"include",headers:uo({"Content-Type":"application/json; charset=utf-8"},po)}).then(W)};var go,So,Eo={authenticate:function(t){return mo(fo+"/OneBarAuthentication?json=1"+(t?"&loginType=2":""))},getMenu:function(){return mo(fo+"/Menu")},setLanguage:function(t){return console.debug("set am language",t),vo(fo+"/Language",{lang:t})},getMonthlyActStmtPDF:function(t){var e=t.accounts,n=t.period,r=t.fromDate,o=t.toDate,i=t.reportDate;return ho(fo+"/Statements/Run",{accounts:e,format:9,fromDate:r,toDate:o,reportDate:i,language:"en",period:n,statementCategory:"DEFAULT_STATEMENT",statementType:"DEFAULT_ACTIVITY"})},getNotifications:function(){return mo(fo+"/Notifications")},getPendingItems:function(){return mo(fo+"/PendingItems")},getTransactions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;return mo(fo+"/TransactionHistory/Data?period="+t)},getUser:function(){return mo(fo+"/User")},tickleSession:function(){return vo(fo+"/User/Tickle")},setSessionId:function(t){po.SessionId=t},submitDocument:function(t,e){return ho(t||fo+"/DocumentSubmission",e)},iaPartitionEligibility:function(t){return ho(fo+"/IaPartition/Eligibility",{accountId:t})},iaPartitionSignUp:function(t){return ho(fo+"/IaPartition/SignUp",{accountId:t})},iaPartitionCreate:function(t){return ho(fo+"/IaPartition",t)},amConfiguration:function(t,e){return ho(fo+"/AmConfiguration",{accountId:t,configs:e})}},bo=Eo;function _o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_o(Object(n),!0).forEach(function(e){To(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function To(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.amApi=Eo;var Ao=(To(go={SET_AM_SESSION_ID:"SET_AM_SESSION_ID",SET_AM_PENDING_ITEMS:"SET_AM_PENDING_ITEMS",SET_AM_NOTIFICATIONS:"SET_AM_NOTIFICATIONS",SET_AM_USER:"SET_AM_USER",SET_AM_MENU:"SET_AM_MENU",SET_AM_PA_PICKER_DATA:"SET_AM_PA_PICKER_DATA",SET_TRANSACTIONS:"SET_TRANSACTIONS"},"SET_AM_MENU","SET_AM_MENU"),To(go,"SET_AM_PICKER_LOADED","SET_AM_PICKER_LOADED"),To(go,"SET_IA_ELIGIBILITY","SET_IA_ELIGIBILITY"),To(go,"SET_IA_PARTNERID","SET_IA_PARTNERID"),To(go,"SET_IA_PARTITION","SET_IA_PARTITION"),To(go,"SET_MOST_RELEVANT_ACCOUNT","SET_MOST_RELEVANT_ACCOUNT"),To(go,"SET_AM_CONFIGURATION","SET_AM_CONFIGURATION"),go),Oo={sessionId:"",pendingItems:{data:[],error:!1},notifications:{data:{corporateActions:[],messages:[]},error:!1},user:{title:""},recentTransactions:[],amMenu:{},amPickerLoaded:!1,iaEligibleAccounts:[],mostRelevantAcct:void 0,amConfiguration:{},iaPartnerId:void 0},Io={sessionId:function(t){return t.sessionId},pendingItemNum:function(t,e){return e.amPendingItems.length},messageNum:function(t,e){return e.amMessages.length},amUser:function(t){return t.user||{}},corporateActionNum:function(t,e){return e.amCorporateActions.length},getRecentTransactions:function(t){return t.recentTransactions},viewMoreTransactions:function(t){return!(!t.recentTransactions||!t.recentTransactions.manipulator)&&t.recentTransactions.manipulator.services.PAGINATION.totalPages>1},amMenu:function(t){return t.amMenu||{}},amPickerLoaded:function(t){return t.amPickerLoaded},amMessages:function(t){var e,n;return((null===(e=t.notifications)||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.messages)||[]).map(function(t){return yo({},t,{},{epoch:t.date?$date.local(t.date).unix():void 0,AM_MESSAGE:!0})})},amCorporateActions:function(t){var e,n;return((null===(e=t.notifications)||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.corporateActions)||[]).map(function(t){return yo({},t,{},{epoch:t.date?$date.local(t.date).unix():void 0,AM_CORP_ACTION:!0})})},amPendingItems:function(t){var e;return((null===(e=t.pendingItems)||void 0===e?void 0:e.data)||[]).map(function(t){return yo({},t,{},{epoch:t.date?$date.local(t.date).unix():void 0,PENDING_ITEM:!0})})},iaEligibileAccounts:function(t){return t.iaEligibleAccounts},iaEligibility:function(t,e){return""!==e.iaPartitionedAccount||t.iaEligibleAccounts.length>0},mostRelevantAccount:function(t){return t.mostRelevantAcct},iaPartitionedAccount:function(t,e,n,r){return(r.pickerAccounts.find(function(t){return t.iaPartition})||{}).accountId||""},amErrors:function(t){var e,n;return{pendingItems:null===(e=t.pendingItems)||void 0===e?void 0:e.error,notifications:null===(n=t.notifications)||void 0===n?void 0:n.error}},iaPartnerId:function(t){return t.iaPartnerId},classicAmEligible:function(){var t;return null===(t=Oo.user)||void 0===t?void 0:t.classicAmEligible}},wo=(To(So={},Ao.SET_TRANSACTIONS,function(t,e){t.recentTransactions=e}),To(So,Ao.SET_AM_SESSION_ID,function(t,e){t.sessionId=e}),To(So,Ao.SET_AM_PENDING_ITEMS,function(t,e){e.error?t.pendingItems.error=!0:e.data&&(t.pendingItems.data=e.data.pendingItems)}),To(So,Ao.SET_AM_NOTIFICATIONS,function(t,e){e.error?t.notifications.error=!0:e.data&&(t.notifications.data=e.data)}),To(So,Ao.SET_AM_USER,function(t,e){t.user=e}),To(So,Ao.SET_AM_MENU,function(t,e){t.amMenu=e}),To(So,Ao.SET_AM_PICKER_LOADED,function(t,e){t.amPickerLoaded=e}),To(So,Ao.SET_IA_ELIGIBILITY,function(t,e){t.iaEligibleAccounts.includes(e)||t.iaEligibleAccounts.push(e)}),To(So,Ao.SET_IA_PARTNERID,function(t,e){t.iaPartnerId=e}),To(So,Ao.SET_MOST_RELEVANT_ACCOUNT,function(t,e){t.mostRelevantAcct=e}),To(So,Ao.SET_AM_CONFIGURATION,function(t,e){for(var n in e)Vue.set(t.amConfiguration,n,e[n].accessible)}),So),Po={namespaced:!0,state:Oo,getters:Io,actions:{getBaseServices:function(t){t.state;var e=t.commit;bo.getUser().then(function(t){console.debug("IB_LANG",window.IB_LANG,t.language),e(Ao.SET_AM_USER,t)}).catch(function(t){return Kt("am-user",0,null)}),bo.getPendingItems().then(function(t){return e(Ao.SET_AM_PENDING_ITEMS,{data:t})}).catch(function(t){Kt("am-pending-items",0,t),e(Ao.SET_AM_PENDING_ITEMS,{error:!0})}),bo.getNotifications().then(function(t){return e(Ao.SET_AM_NOTIFICATIONS,{data:t})}).catch(function(t){Kt("am-notifications",0,t),e(Ao.SET_AM_NOTIFICATIONS,{error:!0})})},setSessionId:function(t,e){t.state;var n=t.commit,r=(t.dispatch,t.rootGetters,e.id),o=e.data,i=e.onSuccess;bo.setSessionId(r),n(Ao.SET_AM_SESSION_ID,r),hr("am-login",i,o)},setMostRelevantAccount:function(t,e){t.state;var n=t.commit;e&&e.mostRelevantAccount&&n(Ao.SET_MOST_RELEVANT_ACCOUNT,e.mostRelevantAccount)},login:function(t,e){t.state,t.commit;var n=t.dispatch,r=(t.rootGetters,e.isFreeTrial),o=e.onSuccess,i=e.onError;window.AM_SESSION_ID?n("setSessionId",{id:window.AM_SESSION_ID,data:{},onSuccess:o}):bo.authenticate(r).then(function(t){var e=t&&t.sessionId;B.instance().register({type:"login",source:"AM",value:!e,sessionId:e}),e?(n("setSessionId",{id:e,data:t,onSuccess:o}),n("setMostRelevantAccount",t)):hr("am-login",i,t)}).catch(function(t){Kt("am/login",0,t),hr("am/login",i,t)})},getTransactions:function(t){var e=t.commit;t.dispatch,t.state;bo.getTransactions(90).then(function(t){t.entries?e(Ao.SET_TRANSACTIONS,t.entries):e(Ao.SET_TRANSACTIONS,[])})},setLanguage:function(t,e){var n=e.lang,r=e.onSuccess;bo.setLanguage(n).then(function(t){return hr("am-set-lang",r,t)}).catch(function(e){return Kt("am-set-lang",t.commit,e)})},getAmMenu:function(t){var e=t.commit;t.dispatch,t.state;bo.getMenu().then(function(t){e(Ao.SET_AM_MENU,t)}).catch(function(t){return Kt("am menu",0,t)})},amPickerLoaded:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.status);n(Ao.SET_AM_PICKER_LOADED,r)},getIaEligibleAccounts:function(t){t.state;var e=t.commit,n=t.rootGetters.pickerAccounts;if(n.length>0)for(var r=function(t){var r=n[t].accountId;bo.iaPartitionEligibility(r).then(function(t){t.partnerId&&e(Ao.SET_IA_PARTNERID,t.partnerId),e(Ao.SET_IA_ELIGIBILITY,r)})},o=0;o<n.length;o++)r(o)},getAmConfigurations:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.configs;bo.amConfiguration(r,o).then(function(t){n(Ao.SET_AM_CONFIGURATION,t.configs)})}},mutations:wo},Co="";var Ro={getIRAContributions:function(t){return V(Co+"/ira/isa-contributions/"+t)}};var No="SET_IRA_CONTRIBUTIONS",Do={namespaced:!0,state:{contributions:{}},getters:{},actions:{getIRAContributions:function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId);Ro.getIRAContributions(r).then(function(t){n(No,{contributions:null===t||void 0===t?void 0:t.contributionTotals,acctId:r})})}},mutations:function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},No,function(t,e){var n=e.contributions,r=e.acctId;Vue.set(t.contributions,r,n)})};var Mo={namespaced:!0,state:{authenticated:!1},getters:{},actions:{doAuthentication:function(t){var e=t.commit;t.dispatch,t.state;return new Promise(function(t,n){Ut.authenticate().then(function(n){e("SET_MD_AUTH_STATUS",null===n||void 0===n?void 0:n.authenticated),t(n)}).catch(function(t){n(t)})})}},mutations:function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"SET_MD_AUTH_STATUS",function(t,e){t.authenticated=e||!1})},Lo=n(1),ko=n.n(Lo),Uo=Object({PORTAL_BASE_URL:"/portal.proxy/v1/mkt",WEBSOCKETS:!0}).SSO_BASE_URL||"",Fo=new Array,jo=function(t,e){return fetch(t,e).then(function(t){return t.text()}).then(function(t){return(new window.DOMParser).parseFromString(t,"text/xml")})};function xo(t,e){var n="",r="";return jo(Uo+"/AuthenticateSSODH?ACTION=INIT",{redirect:"error"}).then(function(o){var i=new ko.a(o.getElementsByTagName("p")[0].textContent,16),c=new ko.a(o.getElementsByTagName("g")[0].textContent,16),s=new ko.a(o.getElementsByTagName("A")[0].textContent,16),a=new ko.a(o.getElementsByTagName("challenge")[0].textContent,16);if(!(i&&c&&s&&a))throw new Error("AuthenticateSSODH: missing params");var u=new ko.a(randomBigInt(32).toString(16),16),d=c.modPow(u,i);r=function(t,e,n){for(var r=t.modPow(e,n).toString(16),o=String(bigInt2radix(verifyHexVal(r),16)),i=parseBigInt(calcSHA1Hex(o),16),c=i.toByteArray(),s=0;s<16;s+=1)Fo[s]=c[s];return i}(s,u,i);var l=new ko.a(calcSHA1Hex(a.toString(16)+r.toString(16)),16);return n=Uo+"/AuthenticateSSODH?ACTION=COMPLETE&B="+d.toString(16)+"&CHRESPONSE="+l.toString(16)+"&DEVICEID="+(t&&t.toUpperCase())+"|"+e,jo(n,{credentials:"include"})}).then(function(t){var e=t.getElementsByTagName("enc");if(void 0===e[0])throw{error:"SSODH handshake failed",result:t};e[0].textContent;var n=parseBigInt(t.getElementsByTagName("einfo")[0].textContent,16);return{username:decrypt(n.toByteArray(),Fo),K:r}})}var Bo=void 0;function Ho(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wo(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function Vo(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var qo=Vo()+Vo(),Yo=/.*;.*\//,$o=0,Ko=0,Jo=0,Xo=!1,zo={},Zo=null,Qo=null,ti=null,ei=null,ni=null,ri=null,oi=3e3,ii={id:"SNAPSHOT_FEE_ALERT",text:"We charge a small fee for every Snapshot Market Data request you make.",title:"Cost Reminder",url:"https://www.interactivebrokers.com/en/index.php?f=14193#market-data-fees"},ci={id:"SNAPSHOT_EXCESSIVE_USAGE_WARNING",text:"Snapshot market data service is not meant to replace real-time market data subscription.",title:"Snapshot Excessive Usage",url:"https://www.interactivebrokers.com/en/index.php?f=14193#market-data-display"},si=0,ai=null,ui=!1;function di(t){var e=t.commit;null!=Qo&&Qo.stop(),(Qo=new Yt("snapshot orders",{interval:oi},function(){return Gt.getOrders().then(function(t){t.orders&&e(y,t.orders),t.snapshot&&(Jo=0,Qo&&Qo.stop())}).catch(function(t){++Jo>=3&&(console.error("Failed to fetch orders snapshot. Request failed ".concat(Jo,". Stopped polling.")),Qo&&Qo.stop()),console.error("Failed to get orders snapshot ",t)})})).start()}function li(t,e){4===t.incrementType?(e.ticks=!0,e.increment=t.incrementRules[0].increment,e.condition_value=$num.parseTicks(e.conditions[0].condition_value)):e.condition_value=Number(e.conditions[0].condition_value)}var fi=function(t,e){t.commit,t.dispatch,t.state;var n=e.orderId,r=e.onSuccess,o=e.onError;Gt.getOrderStatus(n).then(function(t){hr("order-status",r,t)}).catch(function(t){hr("order-status",o,t),Kt("get order status",0,t)})},pi=function(t,e){var n=t.dispatch,r=t.commit,o=t.state;console.debug("on iserver auth status auth",e);var i=o.status.authenticated!=e.authenticated||o.status.competing!=e.competing;r("SET_AUTH_STATUS",e),i&&n("onLoggedIn",e)},mi=function(t){var e=t.dispatch,n=(t.state,t.getters),r=t.commit;if(console.debug("retry ssodh, authenticated: ",n.connected),Xo=!1,n.connected)return r("SET_ISERVER_LOGGING_IN_STATUS",!1),void console.debug("retry ssodh: already authenticated");try{setTimeout(function(){return e("startSSODH")},3e3)}catch(t){console.debug(t)}},hi=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.onSuccess,c=void 0===i?null:i,s=e.onError,a=void 0===s?null:s;null!=ai&&ai.stop(),$o=0,(ai=new Yt("iserverAccounts",{interval:5e3},function(){return new Promise(function(t,e){Gt.getAccounts().then(t).catch(e)}).then(function(t){t&&t.accounts&&t.accounts.length?(console.debug("Iserver Info",t.serverInfo),console.debug("Iserver Accounts Received. Stopping polling...",t.accounts),ai.stop(),B.instance().register({source:"iserver",type:"ui-accts-resp","value-int":$date.now()-o.loginStartTime}),n("SET_ISERVER_LOGIN_INFO",t),n("SET_ISERVER_INFO",t.serverInfo),n("SET_ALLOW_FEATURES",t.allowFeatures),n("SET_ISERVER_GROUPS",t.groups),n("SET_ISERVER_PROFILES",t.profiles),n("SET_ISERVER_ACCOUNTS",t.accounts),n("SET_ISERVER_ACCOUNT_PROPS",t.acctProps),n("SET_SELECTED_ACCOUNT",t.selectedAccount),n("SET_ACCOUNT_ALIASES",t.aliases),n("SET_CHART_PERIODS",t.chartPeriods),r("setIserverAccountsAsPickerAccounts",{},{root:!0}),hr("get-iserver-accounts",c,t)):$o++>=9?(console.error("Failed to fetch iserver accounts after ".concat($o," attempts. Stopping polling...")),ai.stop(),hr("get-iserver-accounts",a,t)):0===Object.keys(t).length&&(n("SET_ISERVER_ACCOUNTS",[]),n("SET_SELECTED_ACCOUNT",""),n("SET_ISERVER_LOGIN_INFO",{}))}).catch(function(t){$o++>=9&&(console.error("Failed to fetch iserver accounts after ".concat($o," attempts. Stopping polling...")),ai.stop(),hr("get-iserver-accounts",a,t))})},function(t){console.error("Failed to dispatch request to get iserver accounts"),hr("get-iserver-accounts",a,t)})).start()},vi=function(t,e){var n=t.commit;t.dispatch,t.state;Wo(e),_.setUnsolicitedHandlers([{topic:"sts",type:"AUTH",args:"",handlers:[{onMessage:function(t){t&&t.args&&n("SET_AUTH_STATUS",t.args)}}]},{topic:"blt",type:"BULLETIN",args:"",handlers:[{onMessage:function(t){t&&t.args&&n("SET_BULLETINS",t.args)}}]},{topic:"ntf",type:"NOTIFICATION",args:"",handlers:[{onMessage:function(t){t&&t.args&&n("SET_NOTIFICATIONS",t.args)}}]}])},gi=function(t){var e;if(console.debug("machine id",qo),Xo)console.debug("Service ssodh,waiting. Request Not sent");else{if(Xo=!0,t.commit("SET_ISERVER_LOGGING_IN_STATUS",!0),null===(e=t.rootState.common)||void 0===e?void 0:e.authTokenCreated)return Ko=0,void setTimeout(function(){return t.dispatch("startIServerSSODH")},1e3);if(Ko++>2)return t.commit("SET_ISERVER_LOGGING_IN_STATUS",!1),console.error("couldn't authenticate to brokerage"),void console.debug("service ssodh, retries exceeded. Returning.");console.debug("service ssodh, retry:",Ko,"wait:",Xo),function(t,e){return xo(t,e).catch(function(t){throw"startSSODH failed: "+Jt(t)})}(qo,t.state.status.MAC).then(function(e){console.debug("ssodh",e),t.commit("SET_ISERVER_SSODH",e),setTimeout(function(){return t.dispatch("startIServerSSODH")},1e3),Ko=0}).catch(function(e,n){Xo=!1,t.commit("SET_ISERVER_LOGGING_IN_STATUS",!1),console.error("ssodh service failure",e,n),setTimeout(function(){return t.dispatch("startSSODH")},3e3)})}},Si=function(t){var e,n=t.dispatch,r=t.commit,o=t.state,i=t.getters,c=t.rootState;if(console.debug("start iserver ssodh",o.ssoDH,"compete",o.compete),!o.ssoDH&&!o.ssoDH.username)return console.error("ssodh missing",o.ssoDH),r("SET_ISERVER_LOGGING_IN_STATUS",!1),void(Xo=!1);if(i.authenticated&&!o.compete)return console.debug("start ssodh: authenticated"),Xo=!1,void r("SET_ISERVER_LOGGING_IN_STATUS",!1);var s="en"===window.IB_LANG?"en_US":window.IB_LANG;i.isDev||i.isAlphaEnv||(s="en_US"),Gt.ssoDHinit(o.ssoDH.username,o.compete,null===(e=c.common)||void 0===e?void 0:e.authTokenCreated,s).then(function(t){if(console.debug("ssodh init",t),t.wait)return console.debug("ssodh waiting to retry"),void setTimeout(function(){return n("startIServerSSODH")},3e3);if(t.authenticated||t.passed)return Xo=!1,r("SET_ISERVER_LOGGING_IN_STATUS",!1),void n("onIserverAuthStatus",t);if(!o.ssoDH.K)return console.error("ssosh K is not defined",o.ssoDH.K),void n("retrySSODH");var e=compute_sk(t.challenge,o.ssoDH.K);Gt.ssoDHresponse(e).then(function(t){Xo=!1,console.debug("sso dh response",t),t.passed||t.authenticated?(r("SET_ISERVER_LOGGING_IN_STATUS",!1),n("onIserverAuthStatus",t)):(console.error("ssodh response failed",t),setTimeout(function(){return n("startSSODH")},3e3))}).catch(function(t){console.error("failed ssodh response",Jt(t)),n("retrySSODH")})}).catch(function(t){console.error("failed ssodh init",Jt(t)),n("retrySSODH")})},Ei=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,t.rootGetters),i=e.compete,c=void 0===i||i;o.hasSso?(n("SET_COMPETE",c),console.debug("compete",c),r("startSSODH")):(Gt.compete().catch(function(t){return Bo.sent=!1}),setTimeout(function(){return Bo.sent=!1},1e4))},bi=function(t){var e=t.commit,n=t.dispatch,r=(t.state,t.rootGetters);console.debug("login iserver, has sso ",r.hasSso),e("ISERVER_LOGIN_START_TIME"),r.hasSso?Gt.status().then(function(t){return n("onIserverAuthStatus",t)}).catch(function(t){return n("startSSODH")}):Gt.autologon().then(function(t){return n("onIserverAuthStatus",t)}).catch(function(t){return setTimeout(function(){return n("login")},3e3)})},_i=function(t,e){var n=e.authenticated,r=e.competing,o=void 0===r?void 0:r;e.connected;console.debug("on status changed, authenticated",n,"competing",o),n?(vr("iserver-login"),vr("iserver-ssodh")):t.dispatch("startSSODH"),t.dispatch("triggerEvent",{name:"ON_ISERVER_AUTHENTICATED",component:null,payload:{authenticated:n,competing:o}},{root:!0})},yi=function(t,e){var n=e.id,r=e.value;return Gt.setClientStatus(n,r)},Ti=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters),o=e.conids,i=(e.since,e.fields),c=e.backout,s=void 0===c||c,a=(e.onSuccess,e.onError,e.useNewMD),u=void 0!==a&&a,d=r.realtime;if(void 0!==d){o=o.map(function(t){return t+""});for(var l=function(t){var e;(null===(e=t=Array.isArray(t)?t[0]:t)||void 0===e?void 0:e.conidEx)&&(t.conid=t.conidEx,n("SET_MARKET_DATA",{conid:t.conid,data:t}))},f=0;f<o.length;f++){var p=o[f];zo[p]=(zo[p]||0)+1,u?d?Ut.newSubscribeUpdates({conid:p,tempo:1e3,fields:i},{onUpdates:l}):Ut.getNewSnapshot({conids:[p],fields:i}).then(l):d?Ut.subscribeUpdates({conid:p,tempo:1e3,fields:i,backout:s},{onUpdates:l}):Ut.getSnapshot({conids:[p],fields:i,backout:s}).then(l)}}else console.error("Transport mode unknown. Couldnt subscribe market data",o)},Ai=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.conids),i=e.retries,c=void 0===i?0:i,s=e.fields,a=e.backout,u=void 0===a||a,d=e.onSuccess,l=e.onError;if(o&&o.length)if(c>0&&3==c)l&&l();else{o=o.map(function(t){return t+""});var f=[],p=[];Ut.getSnapshot({conids:o,fields:s,backout:u}).then(function(t){for(var e=0;e<t.length;e++){var i=t[e],a=i.conidEx,u=Yo.test(a);a&&(i.conid=i.conidEx,n("SET_MARKET_DATA",{conid:a,data:i})),a&&(i[6509]||u)?p.push(o[e]):(f.push(o[e]),a||console.error("conid missing in get market data : ",i))}p.length>0&&(r("getMarketdata",{conids:p,fields:s}),0===f.length&&d&&hr("get order ticket market data",d,null)),f.length>0&&setTimeout(function(){r("getOrderTicketMarketdata",{conids:f,fields:s,retries:++c,onSuccess:d,onError:l})},1500)}).catch(function(t){r("getOrderTicketMarketdata",{conids:o,fields:s,retries:++c,onSuccess:d,onError:l})})}else console.error("getOrderTicketMarketdata called without conid(s)")},Oi=function(t,e){t.commit,t.dispatch;for(var n=e.conids,r=[],o=0;o<n.length;o++){var i=n[o];zo[i]?zo[i]>1?(console.debug("More than one widget depends on the subscription. Unsubscribe skipped.",i),zo[i]-=1):(r.push(i),zo[i]=0):console.error("No active subscription for conid ",i)}r.length&&Ut.unsubscribeMarketData(r)},Ii=function(t,e){t.commit,t.dispatch;var n=t.getters,r=t.rootGetters;return Wo(e),window.ibrt&&window.ibrt.clearSubscriptions("MD"),zo={},new Promise(function(t,e){r["abFeatures/showDirectMD"]&&Ut.newUnsubscribeAllMD().then(function(e){return t(e)}).catch(function(t){return e(t)}),n.connected?Ut.unsubscribeAllMarketData().then(function(e){return t(e)}).catch(function(t){return e(t)}):t()})},wi=function(t,e){t.commit,t.dispatch,t.getters,t.rootGetters;var n=e.conid;return Ut.unsubscribeMarketData(n)},Pi=function(t,e){var n=t.commit;t.dispatch,t.state;Wo(e),null!=ei&&ei.stop(),(ei=new Yt("subs md",{interval:oi},function(){return Ut.getMarketData().then(function(t){t&&Array.isArray(t)&&t.forEach(function(t){t.conid=t.conidEx,n("SET_MARKET_DATA",{conid:t.conid,data:t})})}).catch(function(t){Kt("get-marketdata",0,t)})})).start()},Ci=function(t,e){t.commit,t.dispatch,t.state;Wo(e),null!=ei&&ei.stop()},Ri=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters);Wo(e);var o=r.realtime;if(void 0!==o)if(o){if(!window.ibrt)return void console.error("iserver: add rt real-time api missing");di({commit:n}),window.ibrt.subscribeArgs("sor","ORDERS",{},{onMessage:function(t){var e=(t||{}).args||[];n(y,e)}})}else null!=Zo&&Zo.stop(),(Zo=new Yt("subs orders",{interval:oi},function(){return Gt.getOrders().then(function(t){t.orders&&n(y,t.orders)}).catch(function(t){Kt("get-orders",0,t)})})).start();else console.error("Transport mode unknown. Couldnt subscribe orders")},Ni=function(t,e){t.commit,t.dispatch,t.state;var n=e.force,r=e.onSuccess,o=e.onError;Gt.getOrders(n).then(function(t){hr("get-orders",r,t)}).catch(function(t){hr("get-orders",o,t),Kt("get-orders",0,t)})},Di=function(t,e){var n=t.commit;t.dispatch,t.state;Wo(e),Gt.getOrders(!0).then(function(t){di({commit:n})}).catch(function(t){Kt("get-orders",0,t)})},Mi=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters;Wo(e),!0===n.realtime&&window.ibrt&&(window.ibrt.subscribeArgs("uor","ORDERS",{},{onMessage:function(t){}}),window.ibrt.clearSubscriptions("ORDERS")),null!=Zo&&Zo.stop()},Li=function(t,e){t.commit,t.dispatch,t.state,t.rootGetters;Wo(e),null!=Zo&&Zo.stop()},ki=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters);Wo(e);var o=r.realtime;if(void 0!==o)if(o){if(!window.ibrt)return void console.error("iserver: add rt real-time api missing");window.ibrt.subscribeArgs("spl","PNL",{},{onMessage:function(t){t&&t.args&&n("SET_UPNL",t.args)}})}else null!=ti&&ti.stop(),(ti=new Yt("subs pnl",{interval:oi},function(){return Gt.getPnl().then(function(t){t.upnl&&n("SET_UPNL",t.upnl)}).catch(function(t){onError&&onError(t.response),Kt("get-pnl",0,t)})})).start();else console.error("Transport mode unknown. Couldnt subscribe pnl")},Ui=function(t,e){t.commit,t.dispatch,t.state;Wo(e),Gt.getPnl().then(function(t){hr("get-pnl",onSuccess,t)}).catch(function(t){onError&&onError(t.response),Kt("get-pnl",0,t)})},Fi=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters;Wo(e),!0===n.realtime&&window.ibrt&&(window.ibrt.subscribeArgs("upl","PNL",{},{onMessage:function(t){}}),window.ibrt.clearSubscriptions("PNL")),null!=ti&&ti.stop()},ji=function(t,e){t.commit,t.dispatch,t.state,t.rootGetters;Wo(e),null!=ti&&ti.stop()},xi=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onError);null!=ni&&ni.stop(),(ni=new Yt("subs md",{interval:oi},function(){return Gt.status().then(function(t){t&&n("SET_AUTH_STATUS",t)}).catch(function(t){r&&r(t.response),Kt("get-auth-status",0,t)})})).start()},Bi=function(t,e){t.commit,t.dispatch,t.state;Wo(e),null!=ni&&ni.stop()},Hi=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.onSuccess),o=e.onError;Gt.getBulletins().then(function(t){hr("get-bulletins",r,t),n("SET_BULLETINS",t)}).catch(function(t){o&&o(t.response),Kt("get-bulletins",0,t)})},Gi=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.ids),o=e.onSuccess,i=e.onError;r||hr("mark-bulletin-as-read",i,null),n("MARK_BULLETINS_AS_READ",r),hr("mark-bulletin-as-read",o,null)},Wi=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.el),i=e.retries,c=void 0===i?0:i,s=e.onSuccess,a=void 0===s?null:s,u=e.onError,d=void 0===u?null:u;if(c>2)return Vt(o),void hr("get briefing article",d,{});0===c&&Wt(o),Gt.getBriefingArticle().then(function(t){!t||t.error?r("getBriefingArticle",{el:o,retries:++c,onSuccess:a,onError:d}):(Vt(o),n("SET_BRIEFING_ARTICLE",t),hr("get briefing article",a,t))}).catch(function(t){r("getBriefingArticle",{el:o,retries:++c,onSuccess:a,onError:d})})},Vi=function(t,e){t.state;var n=t.commit,r=(t.dispatch,e.account),o=e.onSuccess,i=e.onError;n("CLEAR_ISERVER_DATA",{}),n("SET_SELECTED_ACCOUNT",void 0),Gt.setAccount(r).then(function(t){n("SET_SELECTED_ACCOUNT",r),console.debug("Account Switch: Account switched to ".concat(r)),o&&hr("account switch",o,null)}).catch(function(t){i&&hr("account switch",i,null)})},qi=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.el),o=e.retries,i=void 0===o?0:o,c=e.sym,s=e.secType,a=e.referrer,u=e.onSuccess,d=void 0===u?null:u,l=e.onError,f=void 0===l?null:l;if(i>2)return Vt(r),void hr("search by symbol",f,{});Wt(r),Gt.searchBySym(c,s,a).then(function(t){Vt(r),!t||t.error?hr("search by symbol",f,t):hr("search by symbol",d,t)}).catch(function(t){Vt(r),n("searchBySym",{el:r,sym:c,secType:s,referrer:a,retries:++i,onSuccess:d,onError:f})})},Yi=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.linkTypes);return new Promise(function(t,e){Gt.getLinks(r).then(function(e){n("SET_LINKS",e),t(e)}).catch(function(t){e(t)})})},$i=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters),o=e.el,i=e.conid,c=e.persist;Wt(o);var s=r["abFeatures/useMdFarmRegsnapshot"],a=s?Ut:Gt;return new Promise(function(t,e){a.getRegsnapshot(i).then(function(r){s&&++si%10==1&&n("SET_NOTIFICATIONS",[si>50?ci:ii]),Vt(o),r&&!r.error&&r[7066]?(t(r),c&&n("SET_REGSNAPSHOT",r)):e(r)}).catch(function(t){Vt(o),e(t)})})},Ki=function(t,e){var n=t.commit;t.dispatch,t.state;Wo(e),n("CLEAR_REGSNAPSHOTS")},Ji=function(t,e){t.commit,t.dispatch,t.state;var n=e.conid,r=e.isUnsubscribe;return new Promise(function(t,e){n&&"undefined"!==n?Gt.setOEMode(n,r).then(function(e){t(e.result)}).catch(function(t){e(Jt(t))}):e("Invalid conid")})},Xi=function(t,e){t.commit,t.dispatch,t.state;var n=e.conid,r=e.type,o=e.account,i=void 0===o?"":o;return new Promise(function(t,e){Gt.getDebugPnl({conid:n,type:r,account:i}).then(function(e){t(e)}).catch(function(t){e(Jt(t))})})},zi=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.currency);Gt.getCurrencyPairs(r).then(function(t){n("CURRENCY_PAIRS",t)}).catch(function(t){Kt("currency pairs",0,t)})},Zi=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.conid;return new Promise(function(t,e){o?Yo.test(o)?t({}):r.contractInfo[o]?t(r.contractInfo[o]):Gt.getContractInfo(o).then(function(e){n("SET_CONTRACT_INFO",e),t(e)}).catch(function(t){e(Jt(t))}):e("Invalid conid: ".concat(o))})},Qi=function(t,e){var n=t.commit,r=(t.dispatch,t.state,t.rootGetters);if(e.force||!ui){var o=r.realtime;if(void 0!==o)if(o){if(!window.ibrt)return void console.error("iserver: add rt real-time api missing");ui=!0,window.ibrt.subscribeArgs("str","TRADES",{},{onMessage:function(t){var e=(null===t||void 0===t?void 0:t.args)||[];n("SET_TRADES",e)}})}else null!=ri&&ri.stop(),ri=new Yt("subs trades",{interval:oi},function(){return Gt.getTrades().then(function(t){n("SET_TRADES",t||[])}).catch(function(t){Kt("get-trades",0,t)})}),ui=!0,ri.start();else console.error("Transport mode unknown. Couldnt subscribe trades")}},tc=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters;Wo(e),ui&&(!0===n.realtime&&window.ibrt&&(window.ibrt.subscribeArgs("utr","TRADES",{},{onMessage:function(t){}}),window.ibrt.clearSubscriptions("TRADES")),null!=ri&&ri.stop(),ui=!1)},ec=function(t,e){var n=t.commit;t.state;n("CCY_CHART_PAIR",e)},nc=function(t,e){var n=t.commit;t.state;n("SET_WATCHLISTMAP",{id:e.id,watchlistConids:e.watchlistConids})},rc=function(t,e){t.commit;var n=t.dispatch,r=t.state,o=e.id,i=e.onSuccess,c=e.onError;if(o)return r.watchlistMap[o]&&r.watchlistMap[o].conids?r.watchlistMap[o]:void Gt.getWatchlist(o).then(function(t){var e=t&&t.instruments;if(e){var r={conids:e.map(function(t){return t.conid})};n("setWatchlistMap",{id:o,watchlistConids:r})}hr("get-watchlist",i,t)}).catch(function(t){hr("get-watchlist",c,t),Kt("get watchlist",0,t)})},oc=function(t,e){t.commit,t.dispatch,t.state;var n=e.data,r=e.onSuccess,o=e.onError;Gt.getMDColumns(n).then(function(t){hr("get-market-data-fields",r,t)}).catch(function(t){hr("get-market-data-fields",o,t),Kt("get market data fields",0,t)})},ic=function(t,e){t.commit,t.dispatch,t.state;var n=e.data;return new Promise(function(t,e){var r;Gt.getPFMDColumns(null===n||void 0===n?void 0:null===(r=n.SELECTED)||void 0===r?void 0:r.join(",")).then(function(e){t(e)}).catch(function(t){Kt("get portfolio market data fields",0,t),e(t)})})},cc=function(t,e){t.commit,t.dispatch,t.state;var n=e.data;return new Promise(function(t,e){var r;Gt.getWLMDColumns(null===n||void 0===n?void 0:null===(r=n.SELECTED)||void 0===r?void 0:r.join(",")).then(function(e){t(e)}).catch(function(t){Kt("get watchlist market data fields",0,t),e(t)})})},sc=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accountId);return new Promise(function(t,e){Gt.getAvailableAlerts(r).then(function(e){n("SET_AVAILABLE_ALERTS",e),t(e)}).catch(function(t){Kt("get available alerts failed",0,t),e(t)})})},ac=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.alertsIds;o.loadedPriceAlertsData=!1;var c=[];return i.map(function(t){c.push(function(t){return new Promise(function(e,n){Gt.getAlertDetails(t).then(function(t){e(t)}).catch(function(t){Kt("get alerts details failed",0,t),n(t)})})}(t))}),new Promise(function(t,e){Promise.all(c).then(function(e){var i=e.filter(function(t){return 1===t.condition_size&&1===t.conditions[0].condition_type});(i=i.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ho(Object(n),!0).forEach(function(e){Go(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t,{conid:parseInt(t.conditions[0].conidex),condition_value:t.conditions[0].condition_value})})).forEach(function(e,c){var s;e.conid;(null===(s=o.orderRules)||void 0===s?void 0:s.key)?(li(o.orderRules.key,e),c===i.length-1&&(n("SET_PRICE_ALERTS",i),t(i))):r("getOrderRules",{conid:e.conid+"",isBuy:!0}).then(function(r){li(r,e),c===i.length-1&&(n("SET_PRICE_ALERTS",i),t(i))}).catch(function(t){console.error("Failed to get the order rules"+t)})})}).catch(function(t){console.log("Error in executing ".concat(error)),e(t)})})},uc=function(t,e){t.commit,t.dispatch,t.state;var n=e.accountId,r=e.alertId;return new Promise(function(t,e){Gt.deleteAlert(n,r).then(function(e){t(e)}).catch(function(t){Kt("delete alert failed",0,t),e(t)})})},dc=function(t,e){t.commit,t.dispatch,t.state;var n=e.accountId,r=e.alertId,o=e.alertActive;return new Promise(function(t,e){Gt.activateAlert(n,{alertId:r,alertActive:o}).then(function(e){t(e)}).catch(function(t){Kt("activate alert failed",0,t),e(t)})})},lc=function(t,e){t.commit,t.dispatch,t.state;var n=e.accountId,r=e.body;return new Promise(function(t,e){Gt.createOrModifyAlert(n,r).then(function(e){t(e)}).catch(function(t){Kt("create alert failed",0,t),e(t)})})},fc=function(t,e){var n=t.commit;t.state;n("SET_PRICE_ALERTS_DELIVERY_OPTIONS",e)},pc=function(t){t.commit;t.state.availableAlerts=[]},mc=function(t){var e=t.commit;t.dispatch,t.state;return new Promise(function(t,n){Gt.getMtaAlert().then(function(n){e("SET_MTA_ALERTS",n),t(n)}).catch(function(t){Kt("get mta alerts failed",0,t),n(t)})})},hc=function(t,e){var n=t.commit;t.state;n("SET_USER_TIMEZONE",e)},vc=function(t,e){var n=t.commit,r=t.state,o=t.dispatch;e&&(r.status.backendDown&&!e.backendDown?o("login",{}):e.backendDown&&(o("startMarketDataPolling",{}),o("stopPnlPolling",{}),o("stopOrdersPolling",{})),n("SET_AUTH_STATUS",e||{}))},gc=function(t,e){t.commit,t.dispatch,t.state;return new Promise(function(t,n){Gt.getOrderRules(e).then(function(e){t(e)}).catch(function(t){n(Jt(t)),Kt("get order rules",0,t)})})},Sc=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.conid),o=e.origin,i=e.time,c=e.tif,s=e.isBuy,a=e.orderType;return new Promise(function(t,e){n("getContractInfo",{conid:r}).then(function(t){return Gt.getCryptoClarification(null===t||void 0===t?void 0:t.contract_clarification_type,o,i,c,s,r,a)}).then(function(n){var r=null===n||void 0===n?void 0:n.text;r||e("Empty Response");var o=new RegExp("<a.*/a>");if(o.test(r)){var i=r.match(/href="([^"]*)/)[0].split("/").pop(),c=" [More Information](javascript:onebar.openFAQ\\({tag:"+JSON.stringify(i)+"}\\))";c=$markdown.toHTML(c).replace("<p>","<span>").replace("</p>","</span>"),r=r.replace(o,""),t(r+=c)}else t(r)}).catch(function(t){e(t)})})},Ec=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.el),i=e.id,c=(e.explore,e.onSuccess),s=e.onError;i&&(Wt(o),Gt.getWatchlist(i).then(function(t){var e=t&&t.instruments;if(e){n("SET_WL_INSTR",{id:i,instr:e});var s={conids:e.map(function(t){return t.conid})};r("setWatchlistMap",{id:i,watchlistConids:s})}hr("get watchlist",c,t),Vt(o)}).catch(function(t){Vt(o),hr("get watchlist",s,t),Kt("get watchlist",0,t)}))},bc=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.el),o=e.onSuccess,i=e.onError,c=e.SC;return Wt(r),Gt.getAllWatchlists({SC:c}).then(function(t){var e=t&&t.data||{};n("SET_SYSTEM_WLS",e.system_lists||[]),n("SET_USER_WLS",e.user_lists||[]),hr("get all watchlist",o,{}),Vt(r)}).catch(function(t){Vt(r),hr("get all watchlist",i,$t(t)),Kt("get all watchlist",0,t)})},_c=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.wl),o=e.el,i=e.onSuccess,c=e.onError;o&&Wt(o),Gt.saveWatchlist(r).then(function(t){r.id=t.id,r.name=t.name,r.readOnly=t.readOnly,r.hash=t.hash,r.type="watchlist",r.modified=(new Date).getTime(),n("SAVE_WATCHLIST",r),hr("add watchlist successfully",i,r),o&&Vt(o)}).catch(function(t){hr("add watchlist failed",c,t),o&&Vt(o)})},yc=function(t,e){t.commit;var n=t.dispatch,r=(t.state,e.id),o=e.symbols,i=e.onSuccess,c=e.onError;n("getWatchlist",{id:r,onSuccess:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){console.debug("found wl",t);var e=(t&&t.instruments||[]).map(function(t){return{C:t.C,conid:t.conid}});console.debug("with instruments",e);var r=function(t){var n=o[t];e.find(function(t){return t.C==n.conid})||e.push({C:n.conid})};for(var s in o)r(s);var a={id:t.id,name:t.name,rows:e};n("saveWatchlist",{wl:a,onSuccess:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){hr("append-save-wl",i,a)}),onError:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){hr("pass-error-wl",c,Jt(t))})})})})},Tc=function(t,e){var n=t.commit;t.state,t.dispatch;e&&n("SET_AUTH_STATUS",e||{})},Ac=function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters,r=e.conid,o=e.period,i=e.bar,c=e.outsideRth,s=e.startTime,a=e.direction,u=e.onSuccess,d=e.onError,l=n.realtime,f=n["abFeatures/showDirectHMDS"];r+="";var p=function(t){hr("get-history-data",u,t)},m=function(t){hr("get-history-data",d,t)};l?f?Ut.getHistoryDataDirectHMDS({conid:r,period:o,bar:i,outsideRth:c,startTime:s,direction:a},{onUpdates:p,onHistoryDataError:m}):Ut.getHistoryDataIserver({conid:r,period:o,bar:i,outsideRth:c,startTime:s,direction:a},{onUpdates:p,onHistoryDataError:m}):(f?xt:Gt).getPriceHistory(r,o,"","",i,c,s,a).then(function(t){hr("get-history-data",u,t)}).catch(function(t){hr("get-history-data",d,t)})};function Oc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ic,wc,Pc=function(t){return t.upnl||{}},Cc=function(t){return t.marketData&&t.marketData[-26]||{}},Rc=function(t){return t.status&&t.status.authenticated},Nc=function(t){var e;return null===(e=t.status)||void 0===e?void 0:e.backendDown},Dc=function(t){return!!t.status&&(void 0!==t.status.authenticated&&void 0!==t.status.connected&&void 0!==t.status.competing?!0===t.status.authenticated&&1==t.status.connected&&!1===t.status.competing:void 0)},Mc=function(t){return t.status||{}},Lc=function(t){return t.status.prompts||[]},kc=function(t){return t.marketData||{}},Uc=function(t){return(t.accounts||[]).filter(function(e){return"ALL"===e.toUpperCase()||!t.groups.includes(e)&&!t.profiles.includes(e)})},Fc=function(t){return t.groups||[]},jc=function(t){return t.profiles||[]},xc=function(t){return t.acctProps||{}},Bc=function(t){return t.chartPeriods||{}},Hc=function(t){return t.aliases||{}},Gc=function(t){return t.selectedAccount},Wc=function(t){return t.aliases&&t.aliases[t.selectedAccount]||t.selectedAccount},Vc=function(t){return t.notifications||[]},qc=function(t){return t.orders||[]},Yc=function(t){return t.bulletins||[]},$c=function(t){return t.readBulletins||[]},Kc=function(t){return t.bulletins.filter(function(e){return-1===t.readBulletins.indexOf(e.id)})},Jc=function(t,e){return e.pendingOrders.length},Xc=function(t){return t.orders&&t.orders.filter(function(t){return"Filled"===t.status||"Cancelled"===t.status||"Inactive"===t.status})||[]},zc=function(t){return t.orders&&t.orders.filter(function(t){return"Filled"!==t.status&&"Cancelled"!==t.status&&"Inactive"!==t.status})||[]},Zc=function(t,e){for(var n=[],r={},o=0,i=0;i<e.executedOrders.length&&o<10;i++){var c=e.executedOrders[i],s=c.ticker+""+c.secType;if("Filled"===c.status&&!r[s]){r[s]=!0;var a={orderID:c.orderId,order:c};n.push(a),o++}}return n||[]},Qc=function(t){var e="webkitSpeechRecognition"in window||"SpeechRecognition"in window;return B.instance().registerDaily({type:"ibot-show-mic",source:"Common","value-int":e?1:0}),e},ts=function(t){return t.briefingArticle||{}},es=function(t){return t.links||{}},ns=function(t){return t.links&&t.links.gfis||""},rs=function(t){return t.allowFeatures&&t.allowFeatures.showGFIS||!1},os=function(t){var e;return null===(e=t.allowFeatures)||void 0===e?void 0:e.liteUser},is=function(t){return t.allowFeatures&&t.allowFeatures.snapshotRefreshTimeout||30},cs=function(t){return t.allowFeatures&&t.allowFeatures.showWebNews},ss=function(t){return t.iserverInfo||{}},as=function(t){return t.allowFeatures&&t.allowFeatures.debugPnl},us=function(t){return t.allowFeatures&&t.allowFeatures.allowFXConv},ds=function(t){return t.allowFeatures&&t.allowFeatures.research||!1},ls=function(t){return t.allowFeatures&&t.allowFeatures.allowTypeAhead||!1},fs=function(t){return t.currencyPairs},ps=function(t){return t.watchlistMap||{}},ms=function(t){return t.status.connected&&(!t.status.authenticated||t.status.competing||0===t.accounts.length)},hs=function(t){return t.status.connected&&t.status.authenticated&&!t.status.competing&&t.accounts.length>0},vs=function(t){return t.loggingIn},gs=function(t){var e;return null===(e=t.loginInfo)||void 0===e?void 0:e.sessionId},Ss=function(t){return t.exploreWls||[]},Es=function(t){return t.watchlists||[]},bs=function(t){return t.allowFeatures&&t.allowFeatures.allowedAssetTypes||""},_s=function(t){return t.allowFeatures&&t.allowFeatures.showImpactDashboard||!1},ys=function(t){return t.allowFeatures&&t.allowFeatures.allowMTA},Ts=function(t){return t.allowFeatures&&t.allowFeatures.allowFinancialLens||!1},As=function(t){var e,n=[],r=new Set;return null===(e=t.trades)||void 0===e||e.forEach(function(t,e){var o=t.execution_id.split("."),i=o[0]+o[1]+o[2];if(r.has(i)){var c=!0,s=!1,a=void 0;try{for(var u,d=n.entries()[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var l=Oc(u.value,2),f=l[0],p=l[1].execution_id.split(".");if(p[0]+p[1]+p[2]===i){parseInt(o[3])>parseInt(p[3])&&(n[f]=t);break}}}catch(t){s=!0,a=t}finally{try{c||null==d.return||d.return()}finally{if(s)throw a}}}else n.push(t),r.add(i)}),n.sort(function(t,e){return e.trade_time_r-t.trade_time_r})},Os={allowFeatures:{},selectedAccount:"",upnl:{},iserverInfo:{},status:{authenticated:void 0,competing:void 0,connected:void 0,message:"",fail:"",prompts:[]},notifications:[],orders:[],trades:void 0,bulletins:[],readBulletins:[],marketData:{},accounts:[],groups:[],profiles:[],acctProps:{},chartPeriods:{},aliases:{},compete:!1,links:{},ssoDH:{},briefingArticle:{},currencyPairs:{},contractInfo:{},ccyChartPair:void 0,watchlistMap:{},loggingIn:!1,availableAlerts:[],priceAlertsData:[],priceAlertsEmail:void 0,priceAlertsSwitch:!0,loadedPriceAlertsData:void 0,mtaAlerts:{},userTimeZone:void 0,loginInfo:{},exploreWls:[],watchlists:[],regSnapshots:{},loginStartTime:void 0};function Is(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Is(Object(n),!0).forEach(function(e){Ps(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ps(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cs={};window.MD_TIMEOUT_THRESHOLD=200;function Rs(t,e){e&&Array.isArray(e)&&(t.notifications=e)}var Ns={namespaced:!0,state:Os,getters:c,actions:i,mutations:(Ps(Ic={},"SET_ALLOW_FEATURES",function(t,e){t.allowFeatures=e||{}}),Ps(Ic,"SET_ISERVER_INFO",function(t,e){t.iserverInfo=e||{}}),Ps(Ic,"SET_ISERVER_ACCOUNT_PROPS",function(t,e){t.acctProps=e||{}}),Ps(Ic,"SET_CHART_PERIODS",function(t,e){t.chartPeriods=e||{}}),Ps(Ic,"SET_LINKS",function(t,e){t.links=e||{}}),Ps(Ic,"SET_UPNL",function(t,e){t.upnl=e||{}}),Ps(Ic,"SET_ISERVER_ACCOUNTS",function(t,e){t.accounts=e}),Ps(Ic,"SET_ISERVER_GROUPS",function(t,e){t.groups=e||[]}),Ps(Ic,"SET_ISERVER_PROFILES",function(t,e){t.profiles=e||[]}),Ps(Ic,"SET_ISERVER_SSODH",function(t,e){t.ssoDH=e}),Ps(Ic,"SET_COMPETE",function(t,e){t.compete=e}),Ps(Ic,"SET_AUTH_STATUS",function(t,e){e&&(e.backendDown||m.a.set(t.status,"backendDown",!1),e.competing&&(t.loginStartTime=void 0),Object.keys(e).forEach(function(n){void 0!==e[n]&&t.status[n]!=e[n]&&(m.a.set(t.status,n,e[n]),console.debug("status changed",n,e[n]))}))}),Ps(Ic,y,function(t,e){if(e)for(var n=function(n){var r=t.orders.findIndex(function(t){return t.orderId==e[n].orderId}),o=e[n];if(!o)return"continue";if(-1!=r){var i=t.orders[r],c=ws({},i,{},o);m.a.set(t.orders,r,c),"Filled"===o.status&&"Filled"!==i.status&&Rs(t,[{id:"ORDER_EXECUTED",payload:c}])}else t.orders.push(e[n])},r=0;r<e.length;r++)n(r)}),Ps(Ic,"SET_BULLETINS",function(t,e){e&&(Array.isArray(e)?t.bulletins=e:t.bulletins.push(e))}),Ps(Ic,"MARK_BULLETINS_AS_READ",function(t,e){e&&(t.readBulletins=t.readBulletins.concat(e.filter(function(e){return-1===t.readBulletins.indexOf(e)})),D.store("read.bulletins",{timestamp:+$date.local(),value:t.readBulletins}))}),Ps(Ic,"SET_MASTER_ID",function(t,e){t.masterId=e}),Ps(Ic,"SET_SELECTED_ACCOUNT",function(t,e){t.selectedAccount=e}),Ps(Ic,"SET_ACCOUNT_ALIASES",function(t,e){t.aliases=e}),Ps(Ic,"SET_MARKET_DATA",function(t,e){var n=e.conid,r=e.data;if(r){var o=Cs[n]||{};Cs[n]=ws({},o,{},r),wc||(wc=setTimeout(function(){t.marketData=JSON.parse(JSON.stringify(Cs)),wc=void 0},200))}}),Ps(Ic,"CLEAR_ISERVER_DATA",function(t,e){!function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(e),wc&&(clearTimeout(wc),wc=void 0),Cs={},t.marketData={},t.orders=[],t.trades=void 0,t.upnl={}}),Ps(Ic,"SET_BRIEFING_ARTICLE",function(t,e){t.briefingArticle=e}),Ps(Ic,"SET_NOTIFICATIONS",function(t,e){Rs(t,e)}),Ps(Ic,"CURRENCY_PAIRS",function(t,e){Object.keys(e).length&&Object.keys(e).forEach(function(n){m.a.set(t.currencyPairs,n,e[n])})}),Ps(Ic,"SET_CONTRACT_INFO",function(t,e){e&&m.a.set(t.contractInfo,e.con_id,e)}),Ps(Ic,"SET_TRADES",function(t,e){if(t.trades)for(var n=function(n){var r=e[n],o=t.trades.findIndex(function(t){return t.execution_id==r.execution_id});o>=0?m.a.set(t.trades,o,ws({},t.trades[o],{},r)):t.trades.push(r)},r=0;r<e.length;r++)n(r);else t.trades=e}),Ps(Ic,"CCY_CHART_PAIR",function(t,e){m.a.set(t,"ccyChartPair",e)}),Ps(Ic,"SET_WATCHLISTMAP",function(t,e){var n=e.id,r=e.watchlistConids;m.a.set(t.watchlistMap,n,r)}),Ps(Ic,"SET_ISERVER_LOGGING_IN_STATUS",function(t,e){t.loggingIn=e}),Ps(Ic,"SET_AVAILABLE_ALERTS",function(t,e){t.availableAlerts=e}),Ps(Ic,"SET_PRICE_ALERTS",function(t,e){t.priceAlertsData=e}),Ps(Ic,"SET_MTA_ALERTS",function(t,e){t.mtaAlerts=e}),Ps(Ic,"SET_PRICE_ALERTS_DELIVERY_OPTIONS",function(t,e){void 0!==e.priceAlertsEmail&&(t.priceAlertsEmail=e.priceAlertsEmail),void 0!==e.priceAlertsSwitch&&(t.priceAlertsSwitch=e.priceAlertsSwitch)}),Ps(Ic,"SET_USER_TIMEZONE",function(t,e){t.userTimeZone=e}),Ps(Ic,"SET_ISERVER_LOGIN_INFO",function(t,e){t.loginInfo=e}),Ps(Ic,"SET_USER_WLS",function(t,e){t.watchlists=e}),Ps(Ic,"SET_SYSTEM_WLS",function(t,e){t.exploreWls=e}),Ps(Ic,"SET_WL_INSTR",function(t,e){var n=e.id,r=e.instr,o=t.exploreWls.find(function(t){return t.id==n});o||(o=t.watchlists.find(function(t){return t.id==n})),o&&m.a.set(o,"instruments",r)}),Ps(Ic,"SAVE_WATCHLIST",function(t,e){for(var n=-1,r=0;r<t.watchlists.length;r++)if(t.watchlists[r].id==e.id){n=r;break}n>=0?(m.a.set(t.watchlists[n],"id",e.id),m.a.set(t.watchlists[n],"hash",e.hash),m.a.set(t.watchlists[n],"name",e.name),e.rows&&m.a.set(t.watchlists[n],"instruments",e.rows)):t.watchlists.unshift(e)}),Ps(Ic,"SET_REGSNAPSHOT",function(t,e){e&&e.conidEx&&m.a.set(t.regSnapshots,e.conidEx,e)}),Ps(Ic,"CLEAR_REGSNAPSHOTS",function(t){t.regSnapshots={}}),Ps(Ic,"ISERVER_LOGIN_START_TIME",function(t){t.loginStartTime||(t.loginStartTime=$date.now())}),Ic)};function Ds(t){if(null==t)throw new TypeError("Cannot destructure undefined")}var Ms="root",Ls="level",ks="parent",Us="order",Fs="sel",js="text";var xs=function(t,e){t.commit,t.dispatch,t.state;var n=e.deviceId,r=(e.deviceName,e.el),o=e.onSuccess,i=e.onError;Wt(r),Y("/fyi/deliveryoptions/device/delete",{deviceId:n}).then(function(t){o&&o(),Vt(r)}).catch(function(t){Vt(r),i&&i($t(t.response)),Kt("delete device delivery option failed",0,t)})},Bs=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.conids,e.onSuccess),o=e.onError;V("/fyi/deliveryoptions").then(function(t){n("SET_FYI_DELIVERY_OPTIONS",t),r&&r()}).catch(function(t){Kt("get fyi delivery options failed",0,t),o&&o(t)})},Hs=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.fc),o=e.onSuccess;V("/fyi/disclaimer/"+r).then(function(t){n("SET_FYI_DISCLAIMER",t),o&&o()}).catch(function(t){Kt("get fyi disclaimer failed",0,t)})},Gs=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.el),o=e.onSuccess,i=e.onError;Wt(r),V("/fyi/settings").then(function(t){n("SET_FYI_SETTINGS",t),Vt(r),o&&o()}).catch(function(t){i&&i(t),Vt(r),Kt("get fyi settings failed",0,t)})},Ws=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.id),o=e.el,i=e.onSuccess,c=e.onError;Wt(o),V("/fyi/notifications"+(r?"?id="+r:"")).then(function(t){n("SET_FYI_NOTIFICATIONS",t),Vt(o),hr("get all fyi notifications",i,t)}).catch(function(t){Vt(o),hr("get all fyi notifications",c,Jt(t)),Kt("get all fyi notifications failed",0,t)})},Vs=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.id),o=e.el,i=e.onSuccess,c=e.onError;Wt(o),V("/fyi/notifications?exclude=UA&max=10"+(r?"&id="+r:"")).then(function(t){n("SET_FYI_NOTIFICATIONS",t),Vt(o),hr("get fyi notifications",i,t)}).catch(function(t){Vt(o),hr("get fyi notifications",c,Jt(t)),Kt("get fyi notifications failed",0,t)})},qs=function(t,e){var n=t.commit,r=(t.dispatch,t.stat,e.id),o=e.el,i=e.onSuccess;Wt(o),V("/fyi/notifications?include=UA&max=10"+(r?"&id="+r:"")).then(function(t){n("SET_FYI_ALERTS",t),Vt(o),hr("get fyi alerts",i,t)}).catch(function(t){Vt(o),Kt("get fyi alerts failed",0,t)})},Ys=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.id),o=e.onSuccess;V("/fyi/notifications/more"+(r?"?id="+r:"")).then(function(t){n("SET_FYI_NOTIFICATIONS",t),hr("fyi notifications",o,t)}).catch(function(t){Kt("get more fyi notifications failed",0,t)})},$s=function(t,e){t.commit,t.dispatch,t.state;var n=e.fc,r=e.el,o=e.onSuccess,i=e.onError;Wt(r),K("/fyi/disclaimer/"+n).then(function(t){o&&o(),Vt(r)}).catch(function(t){Vt(r),i&&i(Jt(t.response)),Kt("mark disclamer read failed",0,t)})},Ks=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.n),o=e.el,i=e.onSuccess,c=e.onError;Wt(o),K("/fyi/notifications/"+r.id).then(function(t){n("MARK_FYI_NOTIFICATION_READ",r),n("MARK_FYI_READ",1),i&&i(),Vt(o)}).catch(function(t){Vt(o),hr("mark notification read",c,Jt(t)),Kt("mark notification read failed",0,t)})},Js=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.option),o=e.i,i=e.el,c=e.onSuccess,s=e.onError;Wt(i),Y("/fyi/deliveryoptions/device",r).then(function(t){n("TOGGLE_FYI_DELIVERY_OPTION",o),c&&c(),Vt(i)}).catch(function(t){Vt(i),s&&s($t(t.response)),Kt("change device delivery option failed",0,t)})},Xs=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.enabled),o=e.el,i=e.onSuccess,c=e.onError;Wt(o),K("/fyi/deliveryoptions/email?enabled="+r).then(function(t){n("TOGGLE_FYI_EMAIL_OPTION"),i&&i(),Vt(o)}).catch(function(t){Vt(o),c&&c($t(t.response)),Kt("change email delivery option failed",0,t)})},zs=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.fc),o=e.enabled,i=e.i,c=e.el,s=e.onSuccess,a=e.onError;Wt(c),Y("/fyi/settings/"+r,{enabled:o}).then(function(t){n("TOGGLE_FYI_SUBSCRIPTION",i),s&&s(),Vt(c)}).catch(function(t){Vt(c),a&&a($t(t.response)),Kt("change notification setting",0,t)})},Zs=function(t,e){t.commit,t.dispatch,t.state;var n=e.el,r=e.json,o=e.onSuccess,i=e.onFailure;Wt(n),Y("/fyipub/refresponse",r).then(function(t){o&&o(t,r),Vt(n)}).catch(function(t){Vt(n),i&&i(r),Kt("Submit Referral response failed",0,t)})},Qs=function(t,e){t.commit,t.dispatch,t.state,e.el;var n=e.id,r=e.onUserIdResp;V("/fyipub/userid/"+n).then(function(t){r&&r(t)}).catch(function(t){r&&r(t),Kt("Query userId  failed",0,t)})},ta=function(t,e){var n=t.commit,r=(t.dispatch,t.state);e.onSuccess;0==r.countryCodes.length&&V("/ibcust/countries/list/").then(function(t){var e=t.map(function(t){return{label:t.name,value:t.alpha3,callingCode:t.calling_code}});n("SET_COUNTRY_CODES",e)})},ea=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.forInvitee,i=e.onSuccess;0==r.feedbackData.length&&V("/fyipub/"+(o?"inviteefbdata":"feedbackdata")).then(function(t){var e=function(t){for(var e=!1,n=0;!e;){if((n+=1)>3){console.error("Unexpected FB data error.");break}e=!0;for(var r=function(n){var r=t[n];if(r.level)return"continue";if(r.parentLabel==Ms)return r[Ls]=1,r[Us]=Number(r.rank)*Math.pow(10,3-r.level+1),r[Fs]=!1,r[js]="","continue";var o=t.find(function(t){return t.label==r.parentLabel});if(o&&o.level)return r[ks]=o,r[Ls]=o.level+1,r[Us]=o.order+Math.pow(10,3-r.level+1)*Number(r.rank),r[Fs]=!1,r[js],"continue";e=!1},o=0;o<t.length;++o)r(o)}return t=t.sort(function(t,e){return t.order<e.order?-1:1})}(t);n("SET_FEEDBACK_DATA",e),hr("getFeedbackData onSuccess",i)})},na=function(t,e){t.commit,t.dispatch,t.state;var n=e.el,r=e.isInvitee,o=e.json,i=e.onSuccess,c=e.onFailure;Wt(n),Y("/fyipub/"+(r?"inviteefeedback":"reffeedback"),o).then(function(t){i&&i(t,o),Vt(n)}).catch(function(t){Vt(n),c&&c(o),Kt("Submit feedback failed",0,t)})},ra=function(t,e){var n=t.commit;t.dispatch,t.state;return Ds(e),new Promise(function(t,e){V("/fyi/unreadnumber").then(function(r){void 0!==r.BN?(n("SET_UNREAD_FYI_NUM",r.BN),t(r)):e("Missing BN attribute in response: ".concat(r))}).catch(function(t){e(t),Kt("Get unread fyi num failed",0,t)})})},oa=function(t,e){var n=t.commit;t.dispatch,t.state;return Ds(e),new Promise(function(t,e){q(["/fyi/notifications?exclude=UA&max=10","/fyi/notifications?include=UA&max=10"]).then(function(e){n("SET_FYI_NOTIFICATIONS",e[0]),n("SET_FYI_ALERTS",e[1]),t(e)}).catch(function(t){e(t)})})},ia=function(t,e){var n=t.commit;t.state;n("SET_UNSAVED_PRICE_ALERTS",e.flag)},ca=function(t){return t.fyi.fyiDeliveryOptions&&t.fyi.fyiDeliveryOptions.M},sa=function(t){return t.fyi.fyiDeliveryOptions.E},aa=function(t){return t.fyi.fyiDisclaimers},ua=function(t){return t.fyi.fyiNotifications},da=function(t){return t.fyi.fyiAlerts},la=function(t){return t.fyi.fyiSettings},fa=function(t){return t.fyiTabState},pa=function(t){return t.countryCodes},ma=function(t){return t.feedbackData},ha=function(t){return t.fyiUnreadNum};function va(t,e,n){var r=t.fyi[e]||[];if((n=n.map(function(t){return{id:t.ID,date:1e3*parseInt(t.D),D:t.D,summary:t.MS,detail:t.MD,fc:t.FC,read:1==t.R,show:!1,epoch:t.D}})).sort(function(t,e){return e.id-t.id}),t.fyi[e]&&0!==t.fyi[e].length){for(var o=0,i=r.length;o<i;o++)for(var c=0,s=n.length;c<s;c++)if(r[o].id===n[c].id){r.splice(o,1,n[c]);break}Vue.set(t.fyi,e,r)}else Vue.set(t.fyi,e,n)}var ga={state:{fyiTabState:0,totalPendingNum:0,fyi:{fyiDeliveryOptions:[],fyiDisclaimers:[],fyiSettings:[],fyiNotifications:void 0,fyiAlerts:void 0},countryCodes:[],feedbackData:[],fyiUnreadNum:0,unsavedPriceAlerts:void 0},getters:a,actions:s,mutations:{CLEAR_FYI_NOTIFICATIONS:function(t){t.fyi.fyiNotifications=[]},CLEAR_FYI_ALERTS:function(t){t.fyi.fyiAlerts=[]},MARK_FYI_NOTIFICATION_READ:function(t,e){var n=void 0;(n="UA"==e.fc?t.fyi.fyiAlerts.find(function(t){return t.id==e.id}):t.fyi.fyiNotifications.find(function(t){return t.id==e.id}))&&(n.read=!0)},SET_FYI_DELIVERY_OPTIONS:function(t,e){t.fyi.fyiDeliveryOptions=e},SET_FYI_DISCLAIMER:function(t,e){t.fyi.fyiDisclaimers.find(function(t){return t.FC===e.FC})||t.fyi.fyiDisclaimers.push(e)},SET_FYI_NOTIFICATIONS:function(t,e){va(t,"fyiNotifications",e)},SET_FYI_ALERTS:function(t,e){va(t,"fyiAlerts",e)},SET_FYI_SETTINGS:function(t,e){t.fyi.fyiSettings=e},TOGGLE_FYI_EMAIL_OPTION:function(t){1===t.fyi.fyiDeliveryOptions.M?t.fyi.fyiDeliveryOptions.M=0:t.fyi.fyiDeliveryOptions.M=1},TOGGLE_FYI_DELIVERY_OPTION:function(t,e){var n=t.fyi.fyiDeliveryOptions.E[e];1===n.A?n.A=0:n.A=1},TOGGLE_FYI_SUBSCRIPTION:function(t,e){var n=t.fyi.fyiSettings[e];1===n.A?n.A=0:n.A=1},SET_COUNTRY_CODES:function(t,e){t.countryCodes=e},SET_FEEDBACK_DATA:function(t,e){t.feedbackData=e},SET_UNREAD_FYI_NUM:function(t,e){t.fyiUnreadNum=e},MARK_FYI_READ:function(t,e){t.fyiUnreadNum<=0?console.error("Failed to decrement fyi count by ".concat(e,". Count is already <= 0: ").concat(t.fyiUnreadNum)):t.fyiUnreadNum-=e},SET_UNSAVED_PRICE_ALERTS:function(t,e){t.unsavedPriceAlerts=e}},namespaced:!0},Sa={namespaced:!0,state:{},getters:{hasBalanceSummary:function(t,e,n,r){return!r.isPaperUser&&!r.isFreeTrial||!1}},actions:{},mutations:{}};function Ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ba(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _a=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId);Gt.getFolioModels({selectedAcctId:r}).then(function(t){n("SET_FOLIO_MODELS",t.models)}).catch(function(t){Kt("get set folio models",0,t)})},ya=function(t,e){var n=t.commit,r=t.dispatch,o=t.state,i=e.selectedAcctId,c=e.modelName;Gt.getFolioModel({selectedAcctId:i,modelName:c}).then(function(t){var e,i=o.selectedModel;if(i.name===t.modelEntry.name)if(i.positions=t.holdingList||t.targetList,i.modelEntry=t.modelEntry,r("setSelectedModel",{model:i}),null===t||void 0===t?void 0:null===(e=t.targetList)||void 0===e?void 0:e.length){var c=t.targetList.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ea(Object(n),!0).forEach(function(e){ba(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t)});n("SET_MODEL_TARGET_LIST",c)}else n("SET_MODEL_TARGET_LIST",[])}).catch(function(t){Kt("get model details",0,t)})},Ta=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId),o=e.modelName;Gt.getFolioModelOrders({selectedAcctId:r,modelName:o}).then(function(t){n("SET_MODEL_ORDERS_STATUS",t)}).catch(function(t){Kt("get model orders",0,t)})},Aa=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.model);n("SET_SELECTED_MODEL",Object.assign({},r))},Oa=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.accId),o=e.modelName,i=e.benchmarks,c=void 0===i?[]:i;dt.getPerformanceAllPeriods(r,o,c).then(function(t){n("SET_PERFORMANCE_CHART_DATA",t)}).catch(function(t){Kt("get performance chart details",0,t)})},Ia=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId),o=e.modelEntry,i=e.targetList;Gt.createUpdateFolioModel({selectedAcctId:r,modelEntry:o,targetList:i}).then(function(t){n("SET_SAVED_MODEL_REQUEST_STATUS",t)}).catch(function(t){Kt("createUpdateFolioModel details",0,t)})},wa=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.selectedAcctId),o=e.modelName,i=e.amount,c=e.fullDivest;Gt.rebalanceFolioModel({selectedAcctId:r,modelName:o,amount:i,fullDivest:c}).then(function(t){n("SET_REBALANCE_FOLIO_MODEL",t)}).catch(function(t){Kt("rebalanceFolioModel details",0,t)})},Pa=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.investDivestRebalanceSetID),o=e.overrideList,i=e.waitSeconds;Gt.transmitFolioOrders({investDivestRebalanceSetID:r,overrideList:o,waitSeconds:i}).then(function(t){n("SET_TRANSMIT_ORDER_STATUS",t)}).catch(function(t){Kt("transmitFolioOrders details",0,t)})},Ca=function(t){return t.selectedConids||[]},Ra=function(t){return t.folioModels},Na=function(t){return t.selectedModel},Da=function(t){return t.modelOrdersStatus},Ma=function(t){return t.performanceChartData},La=function(t){return t.savedModelStatus},ka=function(t){return t.rebalancedOrderDetails},Ua=function(t){return t.transmitOrdersStatus},Fa=function(t){return t.modelTargetList},ja={namespaced:!0,state:{app:"Folio",selectedConids:[],folioModels:[],selectedModel:{},performanceChartData:{},savedModelStatus:{},rebalancedOrderDetails:{},transmitOrdersStatus:{},modelOrdersStatus:{},modelTargetList:[]},getters:d,actions:u,mutations:{SET_SELECTED_CONIDS:function(t,e){t.selectedConids=e||[]},SET_FOLIO_MODELS:function(t,e){t.folioModels=e},SET_SELECTED_MODEL:function(t,e){t.selectedModel=e},SET_PERFORMANCE_CHART_DATA:function(t,e){t.performanceChartData=e},SET_SAVED_MODEL_REQUEST_STATUS:function(t,e){t.savedModelStatus=e},SET_REBALANCE_FOLIO_MODEL:function(t,e){t.rebalancedOrderDetails=e},SET_TRANSMIT_ORDER_STATUS:function(t,e){t.transmitOrdersStatus=e},SET_MODEL_ORDERS_STATUS:function(t,e){t.modelOrdersStatus=e},SET_MODEL_TARGET_LIST:function(t,e){t.modelTargetList=e}}},xa="";var Ba={authenticatePnl:function(){return V(xa+"/pnl/auth/init")},getIbkrAmInfo:function(t){return Y(xa+"/portfolio/ibkram",{modelcodes:t})},getModels:function(t){return V(xa+($n()?"/portfolio2/":"/portfolio/")+t+"/models")},getPortfolioAccounts:function(){return V(xa+($n()?"/portfolio2/":"/portfolio/")+"accounts")},getPortfolioSubaccounts:function(){return V(xa+"/portfolio2/subaccounts")},getNlv:function(t,e){return V(xa+"/portfolio/"+t+"/nlv?model="+e)},getAllPositions:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return V(xa+"/portfolio/"+t+"/positions?simple="+e)},getPositions:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"7D",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"name",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"a",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:30,s="?model=".concat(e,"&sort=").concat(o,"&direction=").concat(i,"&period=").concat(r,"&size=").concat(c);return V(xa+"/portfolio/"+t+"/positions/"+n+s)},getPortfolioPositionInfo:function(t,e){return V(xa+"/portfolio/"+t+"/position/"+e)},getPortfolioPositionsInfo:function(t){return V(xa+"/portfolio/positions/"+t)},getPositionUpdates:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Y(xa+"/portfolio/"+t+"/updates?since="+n,{model:e,conids:r,fields:o})},getPortfolioAllocation:function(t){return V(xa+"/portfolio/"+t+"/allocation")},getPortfolioPnl:function(t){return Y(xa+"/portfolio/pnl",{acctIds:t})},invalidatePositions:function(t){return Y(xa+"/portfolio/"+t+"/positions/invalidate")},invalidateAllPositions:function(){return Y(xa+"/portfolio/positions/invalidate")},postPortfolioAllocation:function(t,e){return Y(xa+"/portfolio/allocation",{acctIds:t,model:e})},subscribePortfolioUpdates:function(t,e){return Y(xa+"/portfolio/"+t+"/subscribe?refresh="+e)},unsubscribePortfolioUpdates:function(t){return Y(xa+"/portfolio/"+t+"/unsubscribe")},validateAccounts:function(t){return Y(xa+"/portfolio/validate",t)},getForexPairs:function(t){return Y(xa+"/portfolio/secdef",{conids:[t],contracts:!0})},getAccountSummary:function(t){return V(xa+($n()?"/portfolio2/":"/portfolio/")+t+"/summary")},getAccountLedger:function(t,e){var n=e?"?model="+e:"";return V(xa+($n()?"/portfolio2/":"/portfolio/")+t+"/ledger"+n)},getAccountMeta:function(t){return V(xa+"/portfolio/"+t+"/meta")},getComboPositions:function(t,e){return V("/portfolio/"+t+"/combo/positions?nocache="+!!e)},getPositionMetals:function(t,e){return V("/portfolio/"+t+"/positions/metals"+(e?"?model="+e:""))},getPositions2:function(t,e,n,r){var o="/portfolio2/".concat(t,"/positions");return e&&(o+="?model=".concat(e)),n&&r&&(o+="?sort=".concat(n,"&direction=").concat(r)),V(o)},getPositions3:function(t,e){return V("/portfolio2/"+t+"/positions?model="+e)},getPnlPositions:function(t,e){return V("/portfolio2/"+t+"/pnl?model="+e)},getIbkramModelInfo:function(t){return V("/portfolio/ibkram?model="+t)},subscribePositions:function(t,e){var n=t.acctId,r=t.model,o=e.onUpdates;if(n){if(window.ibrt){var i="pls+"+n;return r&&(i+="+"+r),window.ibrt.subscribeArgs(i,"NEW_PNL",null,{onMessage:o})}console.error("subscribePositions: real-time api missing")}},unsubscribeAllPnl:function(t,e){return V("/portfolio2/"+t+"/pnl/unsubscribe/all")},unsubscribePositions:function(t,e){if(t){var n="plu+"+t;return e&&(n+="+"+e),window.ibrt?window.ibrt.send(n):V(xa+"/portfolio2/"+t+"pnl/unsubscribe"+(e?"?model="+e:""))}}};function Ha(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ha(Object(n),!0).forEach(function(e){Wa(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Wa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Va=function(t){var e=t.commit;t.dispatch,t.state;return new Promise(function(t,n){Ba.authenticatePnl().then(function(n){e("SET_PNL_AUTH",null===n||void 0===n?void 0:n.authenticated),t(n)}).catch(function(t){n(t)})})},qa=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.onSuccess,o=e.onError;Ba.getModels(n).then(function(t){hr("get-models",r,t)}).catch(function(t){hr("get-models",o,t),Kt("get models",0,t)})},Ya=function(t,e){t.commit,t.dispatch,t.state;var n=e.model,r=e.onSuccess,o=e.onError;Ba.getIbkramModelInfo(n).then(function(t){hr("get-model-info",r,t)}).catch(function(t){hr("get-model-info",o,t),Kt("get model info",0,t)})},$a=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=e.onSuccess,i=e.onError;Ba.getNlv(n,r).then(function(t){return hr(name,o,t)}).catch(function(t){return hr(name,i,t)})},Ka=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=void 0===r?"":r,i=e.pageId,c=e.period,s=void 0===c?"7D":c,a=e.sortBy,u=void 0===a?"name":a,d=e.sortDir,l=void 0===d?"a":d,f=(e.el,e.clear,e.final),p=void 0!==f&&f,m=e.onSuccess,h=e.onError,v=void 0===h?null:h;n?V("/portfolio/"+n+"/positions/"+i+"?"+new URLSearchParams({model:o,sort:u,direction:l,period:s,final:p})).then(function(t){hr(name,m,t)}).catch(function(t){hr("get-positions",v,t),Kt("get postitions ",0,t)}):hr("positions",v,"Invalid account id")},Ja=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=(e.el,e.onSuccess),i=e.sort,c=e.direction,s=e.onError,a=void 0===s?null:s;n?Ba.getPositions2(n,r,i,c).then(function(t){hr(name,o,t)}).catch(function(t){hr("get-positions2",a,t),Kt("get postitions2 ",0,t)}):hr("positions2",a,"Invalid account id")},Xa=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.model,i=(e.el,e.onSuccess),c=e.onError,s=void 0===c?null:c;r?Ba.getPositions3(r,o).then(function(t){n("SET_PTF_POSITIONS",{acctId:r,model:o,data:t}),hr(name,i,t)}).catch(function(t){hr("get-positions3",s,t),Kt("get postitions3 ",0,t)}):hr("positions3",s,"Invalid account id")},za=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctId),i=e.model,c=(e.el,e.onSuccess),s=e.onError,a=void 0===s?null:s;o?Ba.getPnlPositions(o,i).then(function(t){n("SET_PNL_POSITIONS",{acctId:o,model:i,data:t}),hr(name,c,t),r("subscribePositions",{acctId:o,model:i})}).catch(function(t){hr("get-pnl-positions",a,t),Kt("get pnl positions",0,t)}):hr("getPnlPositions",a,"Invalid account id")},Za=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.model,o=e.onSuccess,i=e.onError;Ba.getPositionMetals(n,r).then(function(t){return hr(name,o,t)}).catch(function(t){return hr(name,i,t)})},Qa=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.acctId,i=e.force;return new Promise(function(t,e){o?!i&&r.comboPositions[o]?t(r.comboPositions[o]):Ba.getComboPositions(o,i).then(function(e){n("SET_COMBO_POSITIONS",{acctId:o,data:e}),t(e)}).catch(function(t){e(Jt(t))}):e("Account missing")})},tu=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.onSuccess,i=e.onError;if(r)return Ba.getAccountSummary(r).then(function(t){if(Array.isArray(t)){for(var e={},i=0;i<t.length;i++){var c=t[i].key;c&&(e[c.toLocaleLowerCase()]=Ga({amount:t[i].monetaryValue},t[i]))}Object.keys(e).length>0&&n("SET_ACCOUNT_SUMMARY",{acctId:r,data:e})}else n("SET_ACCOUNT_SUMMARY",{acctId:r,data:t});hr("account-summary",o,t)}).catch(function(t){hr("get-account-summary",i,t),Kt("get account summary ",0,t)});hr("account-summary",i,"Invalid account id")},eu=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=(e.model,e.onSuccess),i=e.onError;if(r)return Ba.getAccountLedger(r).then(function(t){if(Array.isArray(t)){for(var e={},i=0;i<t.length;i++){var c=t[i].secondKey;if(c){var s={};for(var a in t[i])s[a.toLocaleLowerCase()]=t[i][a];e[c]=s}}Object.keys(e).length>0&&n("SET_ACCOUNT_LEDGER",{acctId:r,data:e})}else n("SET_ACCOUNT_LEDGER",{acctId:r,data:t});o&&o(),hr("account-ledger",o,t)}).catch(function(t){hr("get-account-ledger",i,t),Kt("get account ledger",0,t)});hr("account-ledger",i,"Invalid account id")},nu=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctIds),o=e.model,i=e.onSuccess,c=e.onError;return Ba.postPortfolioAllocation(r,o).then(function(t){n("SET_PORTFOLIO_ALLOCATION",t),hr("get portfolio alloc",i,t)}).catch(function(t){hr("get allocation httpFailed",c,t),Kt("get portfolio allocation ",0,t)})},ru=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.modelcodes);return Ba.getIbkrAmInfo(r).then(function(t){return n("SET_IBKRAM_INFO",t)}).catch(function(t){return Kt("get ibkr am info",0,t)})},ou=function(t,e){t.commit,t.dispatch,t.state;var n=e.accts,r=(e.validateOnly,e.onSuccess),o=e.onError;return Ba.validateAccounts(n).then(function(t){t&&t.length>0?hr("validate-accounts",r,t):hr("validate-accounts",o,[])}).catch(function(t){return Kt("validate accounts",0,t)})},iu=function(t,e){t.commit,t.dispatch,t.state;var n=e.acctId,r=e.onSuccess;return Ba.invalidatePositions(n).then(function(t){r&&r()}).catch(function(t){Kt("invalidate positions",0,t)})},cu=function(t,e){t.commit,t.dispatch,t.state;var n=e.onSuccess;return Ba.invalidateAllPositions().then(function(t){n&&n()}).catch(function(t){Kt("invalidate all positions",0,t)})},su=function(t,e){var n=t.commit,r=(t.dispatch,t.state,e.acctId),o=e.onSuccess,i=e.onError;return Ba.getAccountMeta(r).then(function(t){t.error?hr("getAccountMeta: get account meta",i,{}):(n("SET_ACCOUNT_META",t),hr("getAccountMeta: get account meta",o,t))}).catch(function(t){hr("getAccountMeta: get account meta",i,{}),Kt("getAccountMeta: get account meta",0,t)})},au=function(t,e){var n=t.commit,r=t.dispatch,o=(t.state,e.acctId),i=e.tryAgain;return Ba.getModels(o).then(function(t){var e=t.map(function(t){return t.name.split(".").pop()});r("getIbkrAmInfo",{modelcodes:e}),t.forEach(function(t){Ba.getAccountLedger(o,t.name).then(function(e){n("SET_MODELS_LEDGER",{acctId:o,modelName:t.name,modelDescription:t.description,data:e.BASE})})})}).catch(function(t){i>0&&(i--,setTimeout(function(){return r("getModelsLedger",{acctId:o,tryAgain:i})},3e3))})},uu=function(t,e){var n=t.commit,r=(t.dispatch,t.state),o=e.acctId;if(r.portfolioPositions[o]&&r.portfolioPositions[o].length>0)return r.portfolioPositions[o];Ba.getAllPositions(o).then(function(t){n("PTF_POSITIONS_SIMPLE",{acctId:o,list:t})})},du=function(t,e){var n=t.commit;return function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(e),new Promise(function(t,e){Ba.getPortfolioAccounts().then(function(e){n("SET_PORTFOLIO_ACCOUNTS",e),t(e)}).catch(function(t){Kt("Failed to get portfolio accounts",0,t),e(t)})})},lu=new Set,fu=new Map,pu=function(t,e){var n=t.commit,r=(t.dispatch,t.rootGetters),o=e.acctId,i=e.model,c=e.onSuccess;e.onError;if(o){var s=r.realtime;if(void 0!==s){var a=o+i;if(lu.has(a)){var u=fu.get(a);return c&&u.push(c),void hr("subscribePositions",c,{})}lu.add(a),c?fu.set(a,[c]):fu.set(a,[]);var d=function(t){var e=t.args;(n("SET_PNL_POSITIONS",{acctId:o,model:i,data:e}),Object.keys(e.positions).length>0)&&fu.get(a).forEach(function(t){hr("subscribePositions",t,e)})};s?Ba.subscribePositions({acctId:o,model:i},{onUpdates:d}):Ba.getPnlPositions(o,i).then(d)}else console.error("Transport mode unknown. Couldnt subscribe to positions",o)}},mu=function(t,e){t.commit,t.dispatch;var n=t.rootGetters,r=e.acctId,o=e.model;e.onSuccess,e.onError;if(r){var i=n.realtime;if(void 0!==i){var c=r+o;lu.delete(c),fu.delete(c),Ba.unsubscribePositions(r,o)}else console.error("Transport mode unknown. Couldnt unsubscribe to positions",r)}},hu=function(t){return t.accountSummary},vu=function(t){return t.accountLedger||{}},gu=function(t){return t.allocation},Su=function(t){return t.ibkramModels},Eu=function(t){return t.ledgerModels||{}},bu=function(t,e){return t.portfolioPositionsSimple||{}},_u=function(t){return t.portfolioAccounts};function yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yu(Object(n),!0).forEach(function(e){Au(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ou,Iu={state:{authenticated:!1,conids:{},isMissingIServerAccount:!1,comboPositions:{},portfolioModels:{},portfolioModelsNlv:{},portfolioPositions:{},pnlPositions:{},accountSummary:[],accountLedger:[],allocation:{},ibkramModels:[],accountMeta:{},ledgerModels:{},portfolioPositionsSimple:{},portfolioAccounts:[]},getters:f,actions:l,mutations:{SET_CONID_MAP:function(t,e){e.forEach(function(e){return t.conids[e.conid]=e})},PTF_MODEL_CONIDS:function(t,e){var n=e.acctId,r=e.model,o=e.list;Vue.set(t.modelConids,n+r,o)},PTF_MODEL_NLVS:function(t,e){var n=e.acctId,r=e.model,o=e.nlv;Vue.set(t.portfolioModelsNlv,n+r,o)},PTF_MODELS:function(t,e){var n=e.acctId,r=e.list;Vue.set(t.portfolioModels,n,r)},SET_MISSING_ISERVERACC_STATUS:function(t,e){t.isMissingIServerAccount=e},SET_COMBO_POSITIONS:function(t,e){var n=e.acctId,r=e.data;Vue.set(t.comboPositions,n,r)},SET_PTF_POSITIONS:function(t,e){var n=e.acctId,r=e.model,o=e.data,i=t.portfolioPositions,c=!1;if(i[n]&&i[n].forEach(function(t){t.model===r&&(t.positions=o,c=!0)}),!c)if(i[n])i[n].push({model:r,positions:o});else{var s=[{model:r,positions:o}];i[n]=s}t.portfolioPositions=i},SET_PNL_AUTH:function(t,e){t.authenticated=e},SET_PNL_POSITIONS:function(t,e){var n=e.acctId,r=e.model,o=e.data,i=t.pnlPositions,c=o.total||{},s=o.combos||{},a=o.positions||{},u=o.updates||{},d=!1;if(i[n]){for(var l=0;l<i[n].length;l++){var f=i[n][l];if(f.model===r){if(f.total=c,Object.keys(a).length>0)for(var p in a){for(var m=!1,h=0;h<f.positions.length;h++)if(f.positions[h].conid==p){var v=Tu({},f.positions[h],{},a[p]);Vue.set(f.positions,h,v),m=!0;break}m||f.positions.push(a[p])}for(var g in u)for(var S=0;S<f.positions.length;S++)if(f.positions[S].conid==g){var E=Tu({},f.positions[S],{},u[g]);Vue.set(f.positions,S,E);break}Object.keys(s).length>0&&(f.combos=Tu({},f.combos,{},s)),d=!0;break}}t.pnlPositions=Tu({},i)}if(!d){var b=[];for(var _ in a)b.push(a[_]);if(i[n])i[n].push({model:r,combos:s,positions:b,total:c});else{var y=[{model:r,combos:s,positions:b,total:c}];i[n]=y}}},SET_ACCOUNT_SUMMARY:function(t,e){for(var n=e.acctId,r={acctId:n,data:e.data},o=0;o<t.accountSummary.length;o++){if(t.accountSummary[o].acctId==n)return void Vue.set(t.accountSummary,o,r)}t.accountSummary.push(r)},SET_ACCOUNT_LEDGER:function(t,e){for(var n=e.acctId,r={acctId:n,data:e.data},o=0;o<t.accountLedger.length;o++){if(t.accountLedger[o].acctId==n)return void Vue.set(t.accountLedger,o,r)}t.accountLedger.push(r)},SET_PORTFOLIO_ALLOCATION:function(t,e){t.allocation=e},SET_IBKRAM_INFO:function(t,e){t.ibkramModels=e},SET_ACCOUNT_META:function(t,e){t.accountMeta=e},SET_MODELS_LEDGER:function(t,e){var n=e.acctId,r=e.modelName,o=e.modelDescription,i=e.data;i.description=o,i.name=r,Vue.set(t.ledgerModels,n,Tu({},t.ledgerModels[n],{},Au({},r,i)))},PTF_POSITIONS_SIMPLE:function(t,e){var n=e.acctId,r=e.list;Vue.set(t.portfolioPositionsSimple,n,r)},SET_PORTFOLIO_ACCOUNTS:function(t,e){t.portfolioAccounts=e}},namespaced:!0};function wu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pu={namespaced:!0,state:{wideScreenSelectedConid:"",wideLayout:!1},actions:{setWideScreenSelectedConid:function(t,e){(0,t.commit)("SET_WIDE_SCREEN_SELECTED_CONID",e.conid)},setWideLayout:function(t,e){(0,t.commit)("SET_WIDE_LAYOUT",e.val)}},mutations:(wu(Ou={},"SET_WIDE_SCREEN_SELECTED_CONID",function(t,e){t.wideScreenSelectedConid=e}),wu(Ou,"SET_WIDE_LAYOUT",function(t,e){t.wideLayout=e}),Ou)},Cu={namespaced:!0,actions:{postScannerQuery:function(t,e){t.commit,t.dispatch,t.state;var n=t.rootGetters,r=e.instrument,o=e.type,i=e.filter,c=e.location,s=e.delayedLocations,a=e.secType,u=e.maxItems,d=e.size,l=void 0===d?50:d,f=e.el,p=e.onSuccess,m=e.onError;Wt(f),n["abFeatures/showDirectHMDS"]?xt.postScannerQuery(r,o,i,c,s,a,u).then(function(t){hr("post scanner query",p,t),Vt(f)}).catch(function(t){Vt(f),hr("post scanner query",m,t),Kt("post scanner query",0,t)}):Gt.postScannerQuery(r,o,i,c,l).then(function(t){hr("post scanner query",p,t),Vt(f)}).catch(function(t){Vt(f),hr("post scanner query",m,t),Kt("post scanner query",0,t)})}}};function Ru(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.PORTAL_BASE_URL="/portal.proxy/v1/mkt";var Du=new Vuex.Store({});!function(t){t._modules.root._children.abFeatures||t.registerModule("abFeatures",eo),t._modules.root._children.iaPromo||t.registerModule("iaPromo",oo),t._modules.root._children.options||t.registerModule("options",so),t._modules.root._children.ibcust||t.registerModule("ibcust",co),t._modules.root._children.am||t.registerModule("am",Po),t._modules.root._children.ira||t.registerModule("ira",Do),t._modules.root._children.mdfarm||t.registerModule("mdfarm",Mo),t._modules.root._children.iserverData||t.registerModule("iserverData",Ns),t._modules.root._children.fyi||t.registerModule("fyi",ga),t._modules.root._children.pa||t.registerModule("pa",Sa),t._modules.root._children.folio||t.registerModule("folio",ja),t._modules.root._children.portfolio||t.registerModule("portfolio",Iu),t._modules.root._children.common||t.registerModule("common",{strict:!1,state:bt,getters:r,actions:o,mutations:Qr}),t._modules.root._children.wideScreen||t.registerModule("wideScreen",Pu),t._modules.root._children.scanner||t.registerModule("scanner",Cu)}(Du);var Mu=new m.a(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ru(Object(n),!0).forEach(function(e){Nu(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({store:Du},Et));!1!==window.AUTO_MOUNT&&(document.getElementById("app")&&Mu.$mount("#app"));window.sbiApp=Mu}]);